<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>404 - page not found</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" type="image/png" href="images/coin.png">

<style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
    }

    .scene-bg {
        width: 100%;
        height: 100vh;
        object-fit: cover;
        display: block;
    }

    #moon-phase {
        position: absolute;
        top: 20%;
        left: 50%;
        transform: translateX(-50%);
        text-align: center;
        color: white;
        font-size: 1.2rem;
        opacity: 0.9;
        font-family: 'Courier New', Courier, monospace;
        text-transform: lowercase;
        background: rgba(0, 0, 0, 0.45);
        padding: 10px 20px;
        border-radius: 12px;
        backdrop-filter: blur(4px);
        width: auto;
        max-width: 80%;
        display: inline-block;
    }

    .scene-wrapper {
        position: relative;
        width: 100%;
        height: 100vh;
    }

    .back-btn img {
        width: 60px;
        position: absolute;
        top: 20px;
        left: 20px;
        cursor: pointer;
    }
</style>
</head>

<body>

<a href="javascript:history.back()" class="back-btn">
    <img src="images/back.png" alt="Back">
</a>

<div class="scene-wrapper">

    <img src="images/404_bg.png" class="scene-bg" alt="404 Background">

    <img src="images/404.png" alt="404 bloke" style="position: absolute; bottom: 0; left: 10%; width: 45%;">

    <img src="images/not_found.png" alt="404 words" style="position: absolute; bottom: 40%; right: 3%; width: 50%;">

    <div id="moon-phase"></div>

</div>

<script>
    function getMoonPhase() {
        const date = new Date();
        let year = date.getFullYear();
        let month = date.getMonth() + 1;
        let day = date.getDate();

        if (month < 3) { year--; month += 12; }
        const c = 365.25 * year;
        const e = 30.6 * month;
        const jd = c + e + day - 694039.09;
        const phase = jd / 29.53058867;
        const cycle = Math.floor(phase); 
        const age = (phase - cycle) * 29.53;

        let phaseText = "";
        if (age < 1.84566) phaseText = "new moon ðŸŒ‘";
        else if (age < 5.53699) phaseText = "waxing crescent ðŸŒ’";
        else if (age < 9.22831) phaseText = "first quarter ðŸŒ“";
        else if (age < 12.91963) phaseText = "waxing gibbous ðŸŒ”";
        else if (age < 16.61096) phaseText = "full moon ðŸŒ•";
        else if (age < 20.30228) phaseText = "waning gibbous ðŸŒ–";
        else if (age < 23.99361) phaseText = "last quarter ðŸŒ—";
        else if (age < 27.68493) phaseText = "waning crescent ðŸŒ˜";
        else phaseText = "new moon ðŸŒ‘";

        return `current moon: ${phaseText}`;
    }

    document.getElementById('moon-phase').innerText = getMoonPhase();
</script>

</body>
</html>
