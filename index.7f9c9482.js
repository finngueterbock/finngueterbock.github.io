var gse=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var KQe=gse((na,ra)=>{function Vz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const yse=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};yse();var _n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function by(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wz(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var z={exports:{}},Sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix=Symbol.for("react.element"),vse=Symbol.for("react.portal"),_se=Symbol.for("react.fragment"),xse=Symbol.for("react.strict_mode"),wse=Symbol.for("react.profiler"),bse=Symbol.for("react.provider"),Sse=Symbol.for("react.context"),Ase=Symbol.for("react.forward_ref"),Ese=Symbol.for("react.suspense"),Tse=Symbol.for("react.memo"),Cse=Symbol.for("react.lazy"),l4=Symbol.iterator;function Mse(t){return t===null||typeof t!="object"?null:(t=l4&&t[l4]||t["@@iterator"],typeof t=="function"?t:null)}var jz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qz=Object.assign,Kz={};function Sy(t,e,n){this.props=t,this.context=e,this.refs=Kz,this.updater=n||jz}Sy.prototype.isReactComponent={};Sy.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sy.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qz(){}Qz.prototype=Sy.prototype;function vD(t,e,n){this.props=t,this.context=e,this.refs=Kz,this.updater=n||jz}var _D=vD.prototype=new Qz;_D.constructor=vD;qz(_D,Sy.prototype);_D.isPureReactComponent=!0;var u4=Array.isArray,Jz=Object.prototype.hasOwnProperty,xD={current:null},Xz={key:!0,ref:!0,__self:!0,__source:!0};function Yz(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Jz.call(e,r)&&!Xz.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ix,type:t,key:s,ref:o,props:i,_owner:xD.current}}function Rse(t,e){return{$$typeof:Ix,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wD(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ix}function Ise(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c4=/\/+/g;function D2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ise(""+t.key):e.toString(36)}function wA(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ix:case vse:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+D2(o,0):r,u4(i)?(n="",t!=null&&(n=t.replace(c4,"$&/")+"/"),wA(i,e,n,"",function(u){return u})):i!=null&&(wD(i)&&(i=Rse(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(c4,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",u4(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+D2(s,a);o+=wA(s,e,n,l,i)}else if(l=Mse(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+D2(s,a++),o+=wA(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hb(t,e,n){if(t==null)return t;var r=[],i=0;return wA(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Lse(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var to={current:null},bA={transition:null},Pse={ReactCurrentDispatcher:to,ReactCurrentBatchConfig:bA,ReactCurrentOwner:xD};Sn.Children={map:Hb,forEach:function(t,e,n){Hb(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hb(t,function(){e++}),e},toArray:function(t){return Hb(t,function(e){return e})||[]},only:function(t){if(!wD(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Sn.Component=Sy;Sn.Fragment=_se;Sn.Profiler=wse;Sn.PureComponent=vD;Sn.StrictMode=xse;Sn.Suspense=Ese;Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pse;Sn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qz({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xD.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Jz.call(e,l)&&!Xz.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ix,type:t.type,key:i,ref:s,props:r,_owner:o}};Sn.createContext=function(t){return t={$$typeof:Sse,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bse,_context:t},t.Consumer=t};Sn.createElement=Yz;Sn.createFactory=function(t){var e=Yz.bind(null,t);return e.type=t,e};Sn.createRef=function(){return{current:null}};Sn.forwardRef=function(t){return{$$typeof:Ase,render:t}};Sn.isValidElement=wD;Sn.lazy=function(t){return{$$typeof:Cse,_payload:{_status:-1,_result:t},_init:Lse}};Sn.memo=function(t,e){return{$$typeof:Tse,type:t,compare:e===void 0?null:e}};Sn.startTransition=function(t){var e=bA.transition;bA.transition={};try{t()}finally{bA.transition=e}};Sn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Sn.useCallback=function(t,e){return to.current.useCallback(t,e)};Sn.useContext=function(t){return to.current.useContext(t)};Sn.useDebugValue=function(){};Sn.useDeferredValue=function(t){return to.current.useDeferredValue(t)};Sn.useEffect=function(t,e){return to.current.useEffect(t,e)};Sn.useId=function(){return to.current.useId()};Sn.useImperativeHandle=function(t,e,n){return to.current.useImperativeHandle(t,e,n)};Sn.useInsertionEffect=function(t,e){return to.current.useInsertionEffect(t,e)};Sn.useLayoutEffect=function(t,e){return to.current.useLayoutEffect(t,e)};Sn.useMemo=function(t,e){return to.current.useMemo(t,e)};Sn.useReducer=function(t,e,n){return to.current.useReducer(t,e,n)};Sn.useRef=function(t){return to.current.useRef(t)};Sn.useState=function(t){return to.current.useState(t)};Sn.useSyncExternalStore=function(t,e,n){return to.current.useSyncExternalStore(t,e,n)};Sn.useTransition=function(){return to.current.useTransition()};Sn.version="18.1.0";(function(t){t.exports=Sn})(z);const ut=by(z.exports),cE=Vz({__proto__:null,default:ut},[z.exports]);function Dse(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Bse(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Ose=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Bse(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Dse(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),vs="-ms-",fE="-moz-",Fn="-webkit-",Zz="comm",bD="rule",SD="decl",kse="@import",e$="@keyframes",Fse=Math.abs,GT=String.fromCharCode,Nse=Object.assign;function Use(t,e){return(((e<<2^yo(t,0))<<2^yo(t,1))<<2^yo(t,2))<<2^yo(t,3)}function t$(t){return t.trim()}function Hse(t,e){return(t=e.exec(t))?t[0]:t}function Gn(t,e,n){return t.replace(e,n)}function fL(t,e){return t.indexOf(e)}function yo(t,e){return t.charCodeAt(e)|0}function E_(t,e,n){return t.slice(e,n)}function au(t){return t.length}function AD(t){return t.length}function Gb(t,e){return e.push(t),t}function Gse(t,e){return t.map(e).join("")}var zT=1,P0=1,n$=0,Mo=0,si=0,Ay="";function $T(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:zT,column:P0,length:o,return:""}}function s1(t,e){return Nse($T("",null,null,"",null,null,0),t,{length:-t.length},e)}function zse(){return si}function $se(){return si=Mo>0?yo(Ay,--Mo):0,P0--,si===10&&(P0=1,zT--),si}function ia(){return si=Mo<n$?yo(Ay,Mo++):0,P0++,si===10&&(P0=1,zT++),si}function yu(){return yo(Ay,Mo)}function SA(){return Mo}function Lx(t,e){return E_(Ay,t,e)}function T_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function r$(t){return zT=P0=1,n$=au(Ay=t),Mo=0,[]}function i$(t){return Ay="",t}function AA(t){return t$(Lx(Mo-1,hL(t===91?t+2:t===40?t+1:t)))}function Vse(t){for(;(si=yu())&&si<33;)ia();return T_(t)>2||T_(si)>3?"":" "}function Wse(t,e){for(;--e&&ia()&&!(si<48||si>102||si>57&&si<65||si>70&&si<97););return Lx(t,SA()+(e<6&&yu()==32&&ia()==32))}function hL(t){for(;ia();)switch(si){case t:return Mo;case 34:case 39:t!==34&&t!==39&&hL(si);break;case 40:t===41&&hL(t);break;case 92:ia();break}return Mo}function jse(t,e){for(;ia()&&t+si!==47+10;)if(t+si===42+42&&yu()===47)break;return"/*"+Lx(e,Mo-1)+"*"+GT(t===47?t:ia())}function qse(t){for(;!T_(yu());)ia();return Lx(t,Mo)}function Kse(t){return i$(EA("",null,null,null,[""],t=r$(t),0,[0],t))}function EA(t,e,n,r,i,s,o,a,l){for(var u=0,f=0,c=o,h=0,g=0,y=0,_=1,x=1,w=1,b=0,E="",C=i,M=s,P=r,D=E;x;)switch(y=b,b=ia()){case 40:if(y!=108&&D.charCodeAt(c-1)==58){fL(D+=Gn(AA(b),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:D+=AA(b);break;case 9:case 10:case 13:case 32:D+=Vse(y);break;case 92:D+=Wse(SA()-1,7);continue;case 47:switch(yu()){case 42:case 47:Gb(Qse(jse(ia(),SA()),e,n),l);break;default:D+="/"}break;case 123*_:a[u++]=au(D)*w;case 125*_:case 59:case 0:switch(b){case 0:case 125:x=0;case 59+f:g>0&&au(D)-c&&Gb(g>32?h4(D+";",r,n,c-1):h4(Gn(D," ","")+";",r,n,c-2),l);break;case 59:D+=";";default:if(Gb(P=f4(D,e,n,u,f,i,a,E,C=[],M=[],c),s),b===123)if(f===0)EA(D,e,P,P,C,s,c,a,M);else switch(h){case 100:case 109:case 115:EA(t,P,P,r&&Gb(f4(t,P,P,0,0,i,a,E,i,C=[],c),M),i,M,c,a,r?C:M);break;default:EA(D,P,P,P,[""],M,0,a,M)}}u=f=g=0,_=w=1,E=D="",c=o;break;case 58:c=1+au(D),g=y;default:if(_<1){if(b==123)--_;else if(b==125&&_++==0&&$se()==125)continue}switch(D+=GT(b),b*_){case 38:w=f>0?1:(D+="\f",-1);break;case 44:a[u++]=(au(D)-1)*w,w=1;break;case 64:yu()===45&&(D+=AA(ia())),h=yu(),f=c=au(E=D+=qse(SA())),b++;break;case 45:y===45&&au(D)==2&&(_=0)}}return s}function f4(t,e,n,r,i,s,o,a,l,u,f){for(var c=i-1,h=i===0?s:[""],g=AD(h),y=0,_=0,x=0;y<r;++y)for(var w=0,b=E_(t,c+1,c=Fse(_=o[y])),E=t;w<g;++w)(E=t$(_>0?h[w]+" "+b:Gn(b,/&\f/g,h[w])))&&(l[x++]=E);return $T(t,e,n,i===0?bD:a,l,u,f)}function Qse(t,e,n){return $T(t,e,n,Zz,GT(zse()),E_(t,2,-2),0)}function h4(t,e,n,r){return $T(t,e,n,SD,E_(t,0,r),E_(t,r+1,-1),r)}function s$(t,e){switch(Use(t,e)){case 5103:return Fn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Fn+t+fE+t+vs+t+t;case 6828:case 4268:return Fn+t+vs+t+t;case 6165:return Fn+t+vs+"flex-"+t+t;case 5187:return Fn+t+Gn(t,/(\w+).+(:[^]+)/,Fn+"box-$1$2"+vs+"flex-$1$2")+t;case 5443:return Fn+t+vs+"flex-item-"+Gn(t,/flex-|-self/,"")+t;case 4675:return Fn+t+vs+"flex-line-pack"+Gn(t,/align-content|flex-|-self/,"")+t;case 5548:return Fn+t+vs+Gn(t,"shrink","negative")+t;case 5292:return Fn+t+vs+Gn(t,"basis","preferred-size")+t;case 6060:return Fn+"box-"+Gn(t,"-grow","")+Fn+t+vs+Gn(t,"grow","positive")+t;case 4554:return Fn+Gn(t,/([^-])(transform)/g,"$1"+Fn+"$2")+t;case 6187:return Gn(Gn(Gn(t,/(zoom-|grab)/,Fn+"$1"),/(image-set)/,Fn+"$1"),t,"")+t;case 5495:case 3959:return Gn(t,/(image-set\([^]*)/,Fn+"$1$`$1");case 4968:return Gn(Gn(t,/(.+:)(flex-)?(.*)/,Fn+"box-pack:$3"+vs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fn+t+t;case 4095:case 3583:case 4068:case 2532:return Gn(t,/(.+)-inline(.+)/,Fn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(au(t)-1-e>6)switch(yo(t,e+1)){case 109:if(yo(t,e+4)!==45)break;case 102:return Gn(t,/(.+:)(.+)-([^]+)/,"$1"+Fn+"$2-$3$1"+fE+(yo(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~fL(t,"stretch")?s$(Gn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(yo(t,e+1)!==115)break;case 6444:switch(yo(t,au(t)-3-(~fL(t,"!important")&&10))){case 107:return Gn(t,":",":"+Fn)+t;case 101:return Gn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fn+(yo(t,14)===45?"inline-":"")+"box$3$1"+Fn+"$2$3$1"+vs+"$2box$3")+t}break;case 5936:switch(yo(t,e+11)){case 114:return Fn+t+vs+Gn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Fn+t+vs+Gn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Fn+t+vs+Gn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Fn+t+vs+t+t}return t}function m0(t,e){for(var n="",r=AD(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Jse(t,e,n,r){switch(t.type){case kse:case SD:return t.return=t.return||t.value;case Zz:return"";case e$:return t.return=t.value+"{"+m0(t.children,r)+"}";case bD:t.value=t.props.join(",")}return au(n=m0(t.children,r))?t.return=t.value+"{"+n+"}":""}function Xse(t){var e=AD(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function Yse(t){return function(e){e.root||(e=e.return)&&t(e)}}function Zse(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case SD:t.return=s$(t.value,t.length);break;case e$:return m0([s1(t,{value:Gn(t.value,"@","@"+Fn)})],r);case bD:if(t.length)return Gse(t.props,function(i){switch(Hse(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return m0([s1(t,{props:[Gn(i,/:(read-\w+)/,":"+fE+"$1")]})],r);case"::placeholder":return m0([s1(t,{props:[Gn(i,/:(plac\w+)/,":"+Fn+"input-$1")]}),s1(t,{props:[Gn(i,/:(plac\w+)/,":"+fE+"$1")]}),s1(t,{props:[Gn(i,/:(plac\w+)/,vs+"input-$1")]})],r)}return""})}}function eoe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var toe=function(e,n,r){for(var i=0,s=0;i=s,s=yu(),i===38&&s===12&&(n[r]=1),!T_(s);)ia();return Lx(e,Mo)},noe=function(e,n){var r=-1,i=44;do switch(T_(i)){case 0:i===38&&yu()===12&&(n[r]=1),e[r]+=toe(Mo-1,n,r);break;case 2:e[r]+=AA(i);break;case 4:if(i===44){e[++r]=yu()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=GT(i)}while(i=ia());return e},roe=function(e,n){return i$(noe(r$(e),n))},d4=new WeakMap,ioe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!d4.get(r))&&!i){d4.set(e,!0);for(var s=[],o=roe(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var f=0;f<a.length;f++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[f]):a[f]+" "+o[l]}}},soe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},ooe=[Zse],aoe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var x=_.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||ooe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var x=_.getAttribute("data-emotion").split(" "),w=1;w<x.length;w++)s[x[w]]=!0;a.push(_)});var l,u=[ioe,soe];{var f,c=[Jse,Yse(function(_){f.insert(_)})],h=Xse(u.concat(i,c)),g=function(x){return m0(Kse(x),h)};l=function(x,w,b,E){f=b,g(x?x+"{"+w.styles+"}":w.styles),E&&(y.inserted[w.name]=!0)}}var y={key:n,sheet:new Ose({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(a),y};function fn(){return fn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fn.apply(this,arguments)}var o$={exports:{}},jn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gi=typeof Symbol=="function"&&Symbol.for,ED=Gi?Symbol.for("react.element"):60103,TD=Gi?Symbol.for("react.portal"):60106,VT=Gi?Symbol.for("react.fragment"):60107,WT=Gi?Symbol.for("react.strict_mode"):60108,jT=Gi?Symbol.for("react.profiler"):60114,qT=Gi?Symbol.for("react.provider"):60109,KT=Gi?Symbol.for("react.context"):60110,CD=Gi?Symbol.for("react.async_mode"):60111,QT=Gi?Symbol.for("react.concurrent_mode"):60111,JT=Gi?Symbol.for("react.forward_ref"):60112,XT=Gi?Symbol.for("react.suspense"):60113,loe=Gi?Symbol.for("react.suspense_list"):60120,YT=Gi?Symbol.for("react.memo"):60115,ZT=Gi?Symbol.for("react.lazy"):60116,uoe=Gi?Symbol.for("react.block"):60121,coe=Gi?Symbol.for("react.fundamental"):60117,foe=Gi?Symbol.for("react.responder"):60118,hoe=Gi?Symbol.for("react.scope"):60119;function ma(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ED:switch(t=t.type,t){case CD:case QT:case VT:case jT:case WT:case XT:return t;default:switch(t=t&&t.$$typeof,t){case KT:case JT:case ZT:case YT:case qT:return t;default:return e}}case TD:return e}}}function a$(t){return ma(t)===QT}jn.AsyncMode=CD;jn.ConcurrentMode=QT;jn.ContextConsumer=KT;jn.ContextProvider=qT;jn.Element=ED;jn.ForwardRef=JT;jn.Fragment=VT;jn.Lazy=ZT;jn.Memo=YT;jn.Portal=TD;jn.Profiler=jT;jn.StrictMode=WT;jn.Suspense=XT;jn.isAsyncMode=function(t){return a$(t)||ma(t)===CD};jn.isConcurrentMode=a$;jn.isContextConsumer=function(t){return ma(t)===KT};jn.isContextProvider=function(t){return ma(t)===qT};jn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ED};jn.isForwardRef=function(t){return ma(t)===JT};jn.isFragment=function(t){return ma(t)===VT};jn.isLazy=function(t){return ma(t)===ZT};jn.isMemo=function(t){return ma(t)===YT};jn.isPortal=function(t){return ma(t)===TD};jn.isProfiler=function(t){return ma(t)===jT};jn.isStrictMode=function(t){return ma(t)===WT};jn.isSuspense=function(t){return ma(t)===XT};jn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===VT||t===QT||t===jT||t===WT||t===XT||t===loe||typeof t=="object"&&t!==null&&(t.$$typeof===ZT||t.$$typeof===YT||t.$$typeof===qT||t.$$typeof===KT||t.$$typeof===JT||t.$$typeof===coe||t.$$typeof===foe||t.$$typeof===hoe||t.$$typeof===uoe)};jn.typeOf=ma;(function(t){t.exports=jn})(o$);var l$=o$.exports,doe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},poe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u$={};u$[l$.ForwardRef]=doe;u$[l$.Memo]=poe;var moe=!0;function goe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var c$=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||moe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},f$=function(e,n,r){c$(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function yoe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var voe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_oe=/[A-Z]|^ms/g,xoe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,h$=function(e){return e.charCodeAt(1)===45},p4=function(e){return e!=null&&typeof e!="boolean"},B2=eoe(function(t){return h$(t)?t:t.replace(_oe,"-$&").toLowerCase()}),m4=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(xoe,function(r,i,s){return lu={name:i,styles:s,next:lu},i})}return voe[e]!==1&&!h$(e)&&typeof n=="number"&&n!==0?n+"px":n};function C_(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return lu={name:n.name,styles:n.styles,next:lu},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)lu={name:r.name,styles:r.styles,next:lu},r=r.next;var i=n.styles+";";return i}return woe(t,e,n)}case"function":{if(t!==void 0){var s=lu,o=n(t);return lu=s,C_(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function woe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=C_(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":p4(o)&&(r+=B2(s)+":"+m4(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)p4(o[a])&&(r+=B2(s)+":"+m4(s,o[a])+";");else{var l=C_(t,e,o);switch(s){case"animation":case"animationName":{r+=B2(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var g4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,lu,MD=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";lu=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=C_(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=C_(r,n,e[a]),i&&(s+=o[a]);g4.lastIndex=0;for(var l="",u;(u=g4.exec(s))!==null;)l+="-"+u[1];var f=yoe(s)+l;return{name:f,styles:s,next:lu}},Px={}.hasOwnProperty,d$=z.exports.createContext(typeof HTMLElement<"u"?aoe({key:"css"}):null);d$.Provider;var p$=function(e){return z.exports.forwardRef(function(n,r){var i=z.exports.useContext(d$);return e(n,i,r)})},eC=z.exports.createContext({}),boe=function(){return z.exports.useContext(eC)},Soe=cE["useInsertionEffect"]?cE["useInsertionEffect"]:function(e){e()};function Aoe(t){Soe(t)}var dL="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",RD=function(e,n){var r={};for(var i in n)Px.call(n,i)&&(r[i]=n[i]);return r[dL]=e,r},Eoe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return c$(n,r,i),Aoe(function(){return f$(n,r,i)}),null},ID=p$(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[dL],s=[r],o="";typeof t.className=="string"?o=goe(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=MD(s,void 0,z.exports.useContext(eC));o+=e.key+"-"+a.name;var l={};for(var u in t)Px.call(t,u)&&u!=="css"&&u!==dL&&(l[u]=t[u]);return l.ref=n,l.className=o,z.exports.createElement(z.exports.Fragment,null,z.exports.createElement(Eoe,{cache:e,serialized:a,isStringTag:typeof i=="string"}),z.exports.createElement(i,l))}),m$=function(e,n){var r=arguments;if(n==null||!Px.call(n,"css"))return z.exports.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=ID,s[1]=RD(e,n);for(var o=2;o<i;o++)s[o]=r[o];return z.exports.createElement.apply(null,s)},y4=cE["useInsertionEffect"]?cE["useInsertionEffect"]:z.exports.useLayoutEffect,g$=p$(function(t,e){var n=t.styles,r=MD([n],void 0,z.exports.useContext(eC)),i=z.exports.useRef();return y4(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),y4(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&f$(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function y$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return MD(e)}var Ou=function(){var e=y$.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Toe=function(e){return Coe(e)&&!Moe(e)};function Coe(t){return!!t&&typeof t=="object"}function Moe(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Loe(t)}var Roe=typeof Symbol=="function"&&Symbol.for,Ioe=Roe?Symbol.for("react.element"):60103;function Loe(t){return t.$$typeof===Ioe}function Poe(t){return Array.isArray(t)?[]:{}}function M_(t,e){return e.clone!==!1&&e.isMergeableObject(t)?D0(Poe(t),t,e):t}function Doe(t,e,n){return t.concat(e).map(function(r){return M_(r,n)})}function Boe(t,e){if(!e.customMerge)return D0;var n=e.customMerge(t);return typeof n=="function"?n:D0}function Ooe(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function v4(t){return Object.keys(t).concat(Ooe(t))}function v$(t,e){try{return e in t}catch{return!1}}function koe(t,e){return v$(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Foe(t,e,n){var r={};return n.isMergeableObject(t)&&v4(t).forEach(function(i){r[i]=M_(t[i],n)}),v4(e).forEach(function(i){koe(t,i)||(v$(t,i)&&n.isMergeableObject(e[i])?r[i]=Boe(i,n)(t[i],e[i],n):r[i]=M_(e[i],n))}),r}function D0(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Doe,n.isMergeableObject=n.isMergeableObject||Toe,n.cloneUnlessOtherwiseSpecified=M_;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):Foe(t,e,n):M_(e,n)}D0.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return D0(r,i,n)},{})};var Noe=D0,_$=Noe;const Uoe="@emotion/react",Hoe="11.9.0",Goe="dist/emotion-react.cjs.js",zoe="dist/emotion-react.esm.js",$oe={"./dist/emotion-react.cjs.js":"./dist/emotion-react.browser.cjs.js","./dist/emotion-react.esm.js":"./dist/emotion-react.browser.esm.js"},Voe="types/index.d.ts",Woe=["src","dist","jsx-runtime","jsx-dev-runtime","_isolated-hnrs","types/*.d.ts","macro.js","macro.d.ts","macro.js.flow"],joe=!1,qoe="Emotion Contributors",Koe="MIT",Qoe={"test:typescript":"dtslint types"},Joe={"@babel/runtime":"^7.13.10","@emotion/babel-plugin":"^11.7.1","@emotion/cache":"^11.7.1","@emotion/serialize":"^1.0.3","@emotion/utils":"^1.1.0","@emotion/weak-memoize":"^0.2.5","hoist-non-react-statics":"^3.3.1"},Xoe={"@babel/core":"^7.0.0",react:">=16.8.0"},Yoe={"@babel/core":{optional:!0},"@types/react":{optional:!0}},Zoe={"@babel/core":"^7.13.10","@emotion/css":"11.9.0","@emotion/css-prettifier":"1.0.1","@emotion/server":"11.4.0","@emotion/styled":"11.8.1","@types/react":"^16.9.11",dtslint:"^4.2.1","html-tag-names":"^1.1.2",react:"16.14.0","svg-tag-names":"^1.1.1",typescript:"^4.5.5"},eae="https://github.com/emotion-js/emotion/tree/main/packages/react",tae={access:"public"},nae={entrypoints:["./index.js","./jsx-runtime.js","./jsx-dev-runtime.js","./_isolated-hnrs.js"],umdName:"emotionReact"},rae={name:Uoe,version:Hoe,main:Goe,module:zoe,browser:$oe,types:Voe,files:Woe,sideEffects:joe,author:qoe,license:Koe,scripts:Qoe,dependencies:Joe,peerDependencies:Xoe,peerDependenciesMeta:Yoe,devDependencies:Zoe,repository:eae,publishConfig:tae,"umd:main":"dist/emotion-react.umd.min.js",preconstruct:nae},LD="__default",x$=t=>typeof t=="object"&&t!==null&&LD in t;function sa(t,e,n,r,i){const s=e&&typeof e=="string"?e.split("."):[e];for(r=0;r<s.length;r++)t=t?t[s[r]]:i;return t===i?n:x$(t)?t[LD]:t}const w$=(t,e)=>{if(t&&t.variant){let n={};for(const r in t){const i=t[r];if(r==="variant"){const s=typeof i=="function"?i(e):i,o=w$(sa(e,s),e);n={...n,...o}}else n[r]=i}return n}return t},b$=[40,52,64].map(t=>t+"em"),iae={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},_4={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},x4={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],scrollMarginX:["scrollMarginLeft","scrollMarginRight"],scrollMarginY:["scrollMarginTop","scrollMarginBottom"],scrollPaddingX:["scrollPaddingLeft","scrollPaddingRight"],scrollPaddingY:["scrollPaddingTop","scrollPaddingBottom"],size:["width","height"]},w4={color:"colors",background:"colors",backgroundColor:"colors",borderColor:"colors",caretColor:"colors",columnRuleColor:"colors",outlineColor:"colors",textDecorationColor:"colors",opacity:"opacities",transition:"transitions",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",marginBlock:"space",marginBlockEnd:"space",marginBlockStart:"space",marginInline:"space",marginInlineEnd:"space",marginInlineStart:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",paddingBlock:"space",paddingBlockEnd:"space",paddingBlockStart:"space",paddingInline:"space",paddingInlineEnd:"space",paddingInlineStart:"space",scrollMargin:"space",scrollMarginTop:"space",scrollMarginRight:"space",scrollMarginBottom:"space",scrollMarginLeft:"space",scrollMarginX:"space",scrollMarginY:"space",scrollPadding:"space",scrollPaddingTop:"space",scrollPaddingRight:"space",scrollPaddingBottom:"space",scrollPaddingLeft:"space",scrollPaddingX:"space",scrollPaddingY:"space",inset:"space",insetBlock:"space",insetBlockEnd:"space",insetBlockStart:"space",insetInline:"space",insetInlineEnd:"space",insetInlineStart:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",borderBlock:"borders",borderBlockColor:"colors",borderBlockEnd:"borders",borderBlockEndColor:"colors",borderBlockEndStyle:"borderStyles",borderBlockEndWidth:"borderWidths",borderBlockStart:"borders",borderBlockStartColor:"colors",borderBlockStartStyle:"borderStyles",borderBlockStartWidth:"borderWidths",borderBlockStyle:"borderStyles",borderBlockWidth:"borderWidths",borderEndEndRadius:"radii",borderEndStartRadius:"radii",borderInline:"borders",borderInlineColor:"colors",borderInlineEnd:"borders",borderInlineEndColor:"colors",borderInlineEndStyle:"borderStyles",borderInlineEndWidth:"borderWidths",borderInlineStart:"borders",borderInlineStartColor:"colors",borderInlineStartStyle:"borderStyles",borderInlineStartWidth:"borderWidths",borderInlineStyle:"borderStyles",borderInlineWidth:"borderWidths",borderStartEndRadius:"radii",borderStartStartRadius:"radii",columnRuleWidth:"borderWidths",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",blockSize:"sizes",inlineSize:"sizes",maxBlockSize:"sizes",maxInlineSize:"sizes",minBlockSize:"sizes",minInlineSize:"sizes",columnWidth:"sizes",fill:"colors",stroke:"colors"},sae=(t,e)=>{if(typeof e!="number"||e>=0){if(typeof e=="string"&&e.startsWith("-")){const i=e.substring(1),s=sa(t,i,i);return typeof s=="number"?s*-1:`-${s}`}return sa(t,e,e)}const n=Math.abs(e),r=sa(t,n,n);return typeof r=="string"?"-"+r:Number(r)*-1},oae=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginBlock","marginBlockEnd","marginBlockStart","marginInline","marginInlineEnd","marginInlineStart","top","bottom","left","right"].reduce((t,e)=>({...t,[e]:sae}),{}),aae=t=>e=>{const n={},r=e&&e.breakpoints||b$,i=[null,...r.map(s=>s.includes("@media")?s:`@media screen and (min-width: ${s})`)];for(const s in t){const o=s;let a=t[o];if(typeof a=="function"&&(a=a(e||{})),!(a===!1||a==null)){if(!Array.isArray(a)){n[o]=a;continue}for(let l=0;l<a.slice(0,i.length).length;l++){const u=i[l];if(!u){n[o]=a[l];continue}n[u]=n[u]||{},a[l]!=null&&(n[u][o]=a[l])}}}return n},xl=(t={})=>(e={})=>{const n={...iae,..."theme"in e?e.theme:e},r=w$(typeof t=="function"?t(n):t,n),i=aae(r)(n);let s={};for(const o in i){const a=i[o],l=typeof a=="function"?a(n):a;if(l&&typeof l=="object"){if(x$(l)){s[o]=l[LD];continue}s[o]=xl(l)(n);continue}const u=o in _4?_4[o]:o,f=u in w4?w4[u]:void 0,c=f?n==null?void 0:n[f]:sa(n,u,{}),g=sa(oae,u,sa)(c,l,l);if(u in x4){const y=x4[u];for(let _=0;_<y.length;_++)s[y[_]]=g}else s[u]=g}return s},lae=t=>e=>{const n=xl(t.sx)(e),r=typeof t.css=="function"?t.css(e):t.css;return[n,r]},uae=t=>{if(!t||!t.sx&&!t.css)return t;const e={};for(let n in t)n!=="sx"&&(e[n]=t[n]);return e.css=lae(t),e},PD=uae,cae=rae.version,Ec=(t,e,...n)=>m$(t,PD(e),...n),S$={__EMOTION_VERSION__:cae,theme:{}},A$=z.exports.createContext(S$),Ey=()=>z.exports.useContext(A$),E$=typeof Symbol=="function"&&Symbol.for,fae=E$?Symbol.for("react.element"):60103,hae=E$?Symbol.for("react.forward_ref"):60103,T$={isMergeableObject:t=>!!t&&typeof t=="object"&&t.$$typeof!==fae&&t.$$typeof!==hae,arrayMerge:(t,e)=>e},C$=(t,e)=>_$(t,e,T$);function dae(...t){return _$.all(t,T$)}C$.all=dae;const DD=({context:t,children:e})=>Ec(eC.Provider,{value:t.theme},Ec(A$.Provider,{value:t,children:e}));function pae({theme:t,children:e}){const n=Ey(),r=typeof t=="function"?{...n,theme:t(n.theme)}:C$.all({},n,{theme:t});return Ec(DD,{context:r,children:e})}var tC={exports:{}},nC={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mae=z.exports,gae=Symbol.for("react.element"),yae=Symbol.for("react.fragment"),vae=Object.prototype.hasOwnProperty,_ae=mae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xae={key:!0,ref:!0,__self:!0,__source:!0};function M$(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vae.call(e,r)&&!xae.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gae,type:t,key:s,ref:o,props:i,_owner:_ae.current}}nC.Fragment=yae;nC.jsx=M$;nC.jsxs=M$;(function(t){t.exports=nC})(tC);const BD=tC.exports.Fragment,W=tC.exports.jsx,St=tC.exports.jsxs,R$=t=>`--theme-ui-${t.replace("-__default","")}`,I$=t=>`var(${R$(t)})`,L$=(...t)=>t.filter(Boolean).join("-"),wae=new Set(["useCustomProperties","initialColorModeName","printColorModeName","initialColorMode","useLocalStorage","config"]),P$=(t,e)=>{const n=Array.isArray(t)?[]:{};for(let r in t){const i=t[r],s=L$(e,r);if(i&&typeof i=="object"){n[r]=P$(i,s);continue}if(wae.has(r)){n[r]=i;continue}n[r]=I$(s)}return n},hE=(t,e)=>{let n={};for(let r in e){if(r==="modes")continue;const i=L$(t,r),s=e[r];s&&typeof s=="object"?n={...n,...hE(i,s)}:n[R$(i)]=s}return n},bae=(t={})=>{const{useCustomProperties:e,initialColorModeName:n,printColorModeName:r,useRootStyles:i}=t.config||t||{},s=t.rawColors||t.colors;if(!s||i===!1)return{};if(e===!1)return xl({color:"text",bg:"background"})(t);const o=s.modes||{},a=D$(s,o);if(r){let u=o[r];!u&&r===n&&(u=s),u?a["@media print"]=hE("colors",u):console.error("Theme UI `printColorModeName` was not found in colors scale",{colors:s,printColorModeName:r})}const l=u=>I$(`colors-${u}`);return xl({...a,color:l("text"),bg:l("background")})(t)};function D$(t,e){const n=hE("colors",t);return Object.keys(e).forEach(r=>{const i=`.theme-ui-${r}`,s=`&${i}, ${i} &`;n[s]=hE("colors",e[r])}),n}const b4="theme-ui-color-mode",pL="(prefers-color-scheme: dark)",Sae="(prefers-color-scheme: light)",S4={get:()=>{try{return window.localStorage.getItem(b4)}catch(t){console.warn("localStorage is disabled and color mode might not work as expected.","Please check your Site Settings.",t)}},set:t=>{try{window.localStorage.setItem(b4,t)}catch(e){console.warn("localStorage is disabled and color mode might not work as expected.","Please check your Site Settings.",e)}}},A4=()=>{if(typeof window<"u"&&window.matchMedia){if(window.matchMedia(pL).matches)return"dark";if(window.matchMedia(Sae).matches)return"light"}return null},B$=typeof window>"u"?()=>{}:z.exports.useLayoutEffect,Aae=({outerCtx:t,children:e})=>{const n=t.theme||{},{initialColorModeName:r,useColorSchemeMediaQuery:i,useLocalStorage:s}=n.config||n;let[o,a]=z.exports.useState(()=>i!==!1&&A4()||r);B$(()=>{const c=s!==!1&&S4.get();typeof document<"u"&&document.documentElement.classList.remove("theme-ui-"+c),i!=="system"&&c&&c!==o&&(o=c,a(c))},[]),z.exports.useEffect(()=>{o&&s!==!1&&S4.set(o)},[o,s]);const l=z.exports.useCallback(()=>{const c=A4();a(c||r)},[r]);z.exports.useEffect(()=>{if(i==="system"&&window.matchMedia){const c=window.matchMedia(pL);typeof c.addEventListener=="function"?c.addEventListener("change",l):typeof c.addListener=="function"&&c.addListener(l)}return()=>{if(i==="system"&&window.matchMedia){const c=window.matchMedia(pL);typeof c.removeEventListener=="function"?c.removeEventListener("change",l):typeof c.removeListener=="function"&&c.removeListener(l)}}},[i,l]);const u=k$({colorMode:o,outerTheme:n}),f={...t,theme:u,colorMode:o,setColorMode:a};return ut.createElement(DD,{context:f},W(Eae,{theme:u}),e)};function ku(){const{colorMode:t,setColorMode:e}=Ey();if(typeof e!="function")throw new Error("[useColorMode] requires the ColorModeProvider component");return[t,e]}const O2=t=>{const e={...t};return delete e.modes,e};function O$(t,e){for(const[n,r]of Object.entries(t))if(typeof r=="string"&&!r.startsWith("var("))e[n]=r;else if(typeof r=="object"){const i={...e[n]};O$(r,i),e[n]=i}}function k$({outerTheme:t,colorMode:e}){return z.exports.useMemo(()=>{const r={...t},i=sa(r,"colors.modes",{}),s=sa(i,e,{});e&&(r.colors={...r.colors,...s});const{useCustomProperties:o,initialColorModeName:a="__default"}=t.config||t;let l=t.rawColors||t.colors||{};if(o!==!1){const u=r.rawColors!=null,f=r.colors||{};if(u)l={...l},O$(f,l),l.modes&&(l.modes[a]=O2(l)),r.rawColors=l;else if(!("modes"in l))r.rawColors=f;else{const c={[a]:O2(l),...l.modes};r.rawColors={...f,modes:c}}r.colors=P$(O2(l),"colors")}return r},[e,t])}function Eae({theme:t}){return Ec(g$,{styles:()=>({html:bae(t)})})}function Tae({outerCtx:t,children:e}){var n;const r=k$({outerTheme:t.theme,colorMode:t.colorMode}),[i,s]=z.exports.useState(()=>{var u;return((u=r.config)==null?void 0:u.useLocalStorage)!==!1});B$(()=>void s(!1),[]);const o=r.rawColors||r.colors,a=(n=r.config)==null?void 0:n.useCustomProperties,l=z.exports.useMemo(()=>{if(a===!1)return{};const u=o||{};return xl(D$(u,u.modes||{}))(r)},[r,o,a]);return ut.createElement(DD,{context:{...t,theme:r}},Ec("div",{"data-themeui-nested-provider":!0,key:Number(i),suppressHydrationWarning:!0,css:l,children:e}))}const OD=({children:t})=>{const e=Ey();return typeof e.setColorMode!="function"?W(Aae,{outerCtx:e,children:t}):W(Tae,{outerCtx:e,children:t})},F$=ut.createContext({});function N$(t){const e=ut.useContext(F$);return ut.useMemo(()=>typeof t=="function"?t(e):{...e,...t},[e,t])}const Cae={};function Mae({components:t,children:e,disableParentContext:n}){let r=N$(t);return n&&(r=t||Cae),W(F$.Provider,{value:r,children:e})}const Rae=["p","b","i","a","h1","h2","h3","h4","h5","h6","img","pre","code","ol","ul","li","blockquote","hr","em","table","tr","th","td","em","strong","del","inlineCode","thematicBreak","div","root"],U$={inlineCode:"code",thematicBreak:"hr",root:"div"},Iae=t=>t in U$,Lae=t=>Iae(t)?U$[t]:t,H$=t=>e=>xl(sa(e,`styles.${t}`))(e),G$=(t,e)=>{const n=H$(e),r=i=>{const s={};if(t==="th"||t==="td"){const{align:o}=i;o!=="char"&&(s.textAlign=o)}return i.css,Ec(t,{...i,css:[i.css,n,s].filter(Boolean)})};return r.displayName=`Themed(${t})`,r},Pae=G$("div","div"),z$={},Dae=Pae;Rae.forEach(t=>{const e=G$(Lae(t),t);z$[t]=e,Dae[t]=e});const Bae=t=>{const e=Object.keys(t),n={...z$};return e.forEach(r=>{const i=t[r];if(i){const s=o=>Ec(i,{...o,css:H$(r)});s.displayName="MdxComponents('"+r+"')",n[r]=s}}),n},Oae=({components:t,children:e})=>{const n=N$(),r=z.exports.useMemo(()=>Bae({...n,...t}),[t,n]);return Ec(Mae,{components:r,children:e})},kae=()=>Ec(g$,{styles:t=>{var e;const n=t,{useRootStyles:r}=n.config||n;if(r===!1||n.styles&&!n.styles.root)return null;const i=((e=n.config)==null?void 0:e.useBorderBox)===!1?void 0:"border-box";return xl({"*":{boxSizing:i},html:{variant:"styles.root"},body:{margin:0}})(n)}}),Fae=({theme:t,components:e,children:n})=>{const i=Ey()===S$;return W(pae,{theme:t,children:St(OD,{children:[i&&W(kae,{}),W(Oae,{components:e,children:n})]})})};function mL(){return mL=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mL.apply(this,arguments)}const $$=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","m","mt","mr","mb","ml","mx","my","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","p","pt","pr","pb","pl","px","py","color","backgroundColor","bg","opacity"],Nae=t=>{const e={};for(const n of $$)e[n]=t[n];return e},cu=z.exports.forwardRef(function(e,n){const r=boe(),{__themeKey:i="variants",__css:s,variant:o,css:a,sx:l,as:u="div",...f}=e,c={boxSizing:"border-box",margin:0,minWidth:0},h=xl(s)(r),g=sa(r,`${i}.${o}`)||sa(r,o),y=g&&xl(g)(r),_=xl(l)(r),x=xl(Nae(f))(r),w=[c,h,y,_,x,a];return $$.forEach(b=>{delete f[b]}),m$(u,mL({ref:n,css:w},f))}),bp=ut.forwardRef(function(e,n){return W(cu,{ref:n,...e,sx:{display:"flex",...e.sx}})}),Uae=t=>typeof t=="number"?t+"px":t,E4=(t,e)=>t?`repeat(auto-${e}, minmax(${Uae(t)}, 1fr))`:null,Hae=(t,e)=>Array.isArray(t)?t.map(n=>E4(n,e)):E4(t,e),T4=t=>t?typeof t=="number"?`repeat(${t}, 1fr)`:t:null,Gae=t=>Array.isArray(t)?t.map(T4):T4(t),zae=ut.forwardRef(function({width:e,columns:n,gap:r=3,repeat:i="fit",...s},o){const a=e?Hae(e,i):Gae(n);return W(cu,{ref:o,...s,...{__themeKey:"grids",__css:{display:"grid",gridGap:r,gridTemplateColumns:a}}})}),C4={boxShadow:"inset 0 0 0 1000px var(--theme-ui-input-autofill-bg)",fontSize:"inherit",":first-line":{fontSize:"1rem"}},$ae={display:"block",width:"100%",p:2,appearance:"none",fontSize:"inherit",lineHeight:"inherit",border:"1px solid",borderRadius:4,color:"inherit",bg:"transparent",":autofill, :autofill:hover, :autofill:focus":C4,":-webkit-autofill, :-webkit-autofill:hover, :-webkit-autofill:focus":C4},Vae=ut.forwardRef(function({sx:e,autofillBackgroundColor:n="background",...r},i){return W(cu,{ref:i,as:"input",variant:"input",sx:{"--theme-ui-input-autofill-bg":s=>s.colors&&sa(s.colors,n,null),...e},...r,...{__themeKey:"forms",__css:$ae}})}),Wae=ut.forwardRef(function({size:e=24,...n},r){const i={xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"currentcolor",...n};return W(cu,{ref:r,as:"svg",...i})});Wae.displayName="SVG";Ou({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}});var gL={},kD={exports:{}},ga={},V$={exports:{}},W$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,G){var $=k.length;k.push(G);e:for(;0<$;){var ie=$-1>>>1,ue=k[ie];if(0<i(ue,G))k[ie]=G,k[$]=ue,$=ie;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var G=k[0],$=k.pop();if($!==G){k[0]=$;e:for(var ie=0,ue=k.length,xe=ue>>>1;ie<xe;){var Oe=2*(ie+1)-1,de=k[Oe],ge=Oe+1,Ze=k[ge];if(0>i(de,$))ge<ue&&0>i(Ze,de)?(k[ie]=Ze,k[ge]=$,ie=ge):(k[ie]=de,k[Oe]=$,ie=Oe);else if(ge<ue&&0>i(Ze,$))k[ie]=Ze,k[ge]=$,ie=ge;else break e}}return G}function i(k,G){var $=k.sortIndex-G.sortIndex;return $!==0?$:k.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,c=null,h=3,g=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(k){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=k)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function C(k){if(_=!1,E(k),!y)if(n(l)!==null)y=!0,H(M);else{var G=n(u);G!==null&&ee(C,G.startTime-k)}}function M(k,G){y=!1,_&&(_=!1,w(L),L=-1),g=!0;var $=h;try{for(E(G),c=n(l);c!==null&&(!(c.expirationTime>G)||k&&!j());){var ie=c.callback;if(typeof ie=="function"){c.callback=null,h=c.priorityLevel;var ue=ie(c.expirationTime<=G);G=t.unstable_now(),typeof ue=="function"?c.callback=ue:c===n(l)&&r(l),E(G)}else r(l);c=n(l)}if(c!==null)var xe=!0;else{var Oe=n(u);Oe!==null&&ee(C,Oe.startTime-G),xe=!1}return xe}finally{c=null,h=$,g=!1}}var P=!1,D=null,L=-1,O=5,q=-1;function j(){return!(t.unstable_now()-q<O)}function oe(){if(D!==null){var k=t.unstable_now();q=k;var G=!0;try{G=D(!0,k)}finally{G?le():(P=!1,D=null)}}else P=!1}var le;if(typeof b=="function")le=function(){b(oe)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Y=F.port2;F.port1.onmessage=oe,le=function(){Y.postMessage(null)}}else le=function(){x(oe,0)};function H(k){D=k,P||(P=!0,le())}function ee(k,G){L=x(function(){k(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,H(M))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var $=h;h=G;try{return k()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=h;h=k;try{return G()}finally{h=$}},t.unstable_scheduleCallback=function(k,G,$){var ie=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ie+$:ie):$=ie,k){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=$+ue,k={id:f++,callback:G,priorityLevel:k,startTime:$,expirationTime:ue,sortIndex:-1},$>ie?(k.sortIndex=$,e(u,k),n(l)===null&&k===n(u)&&(_?(w(L),L=-1):_=!0,ee(C,$-ie))):(k.sortIndex=ue,e(l,k),y||g||(y=!0,H(M))),k},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(k){var G=h;return function(){var $=h;h=G;try{return k.apply(this,arguments)}finally{h=$}}}})(W$);(function(t){t.exports=W$})(V$);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j$=z.exports,ua=V$.exports;function Ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q$=new Set,R_={};function Kp(t,e){B0(t,e),B0(t+"Capture",e)}function B0(t,e){for(R_[t]=e,t=0;t<e.length;t++)q$.add(e[t])}var Tc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yL=Object.prototype.hasOwnProperty,jae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M4={},R4={};function qae(t){return yL.call(R4,t)?!0:yL.call(M4,t)?!1:jae.test(t)?R4[t]=!0:(M4[t]=!0,!1)}function Kae(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qae(t,e,n,r){if(e===null||typeof e>"u"||Kae(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function no(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var is={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){is[t]=new no(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];is[e]=new no(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){is[t]=new no(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){is[t]=new no(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){is[t]=new no(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){is[t]=new no(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){is[t]=new no(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){is[t]=new no(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){is[t]=new no(t,5,!1,t.toLowerCase(),null,!1,!1)});var FD=/[\-:]([a-z])/g;function ND(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(FD,ND);is[e]=new no(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(FD,ND);is[e]=new no(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(FD,ND);is[e]=new no(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){is[t]=new no(t,1,!1,t.toLowerCase(),null,!1,!1)});is.xlinkHref=new no("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){is[t]=new no(t,1,!1,t.toLowerCase(),null,!0,!0)});function UD(t,e,n,r){var i=is.hasOwnProperty(e)?is[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qae(e,n,i,r)&&(n=null),r||i===null?qae(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oc=j$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zb=Symbol.for("react.element"),$g=Symbol.for("react.portal"),Vg=Symbol.for("react.fragment"),HD=Symbol.for("react.strict_mode"),vL=Symbol.for("react.profiler"),K$=Symbol.for("react.provider"),Q$=Symbol.for("react.context"),GD=Symbol.for("react.forward_ref"),_L=Symbol.for("react.suspense"),xL=Symbol.for("react.suspense_list"),zD=Symbol.for("react.memo"),Bf=Symbol.for("react.lazy"),J$=Symbol.for("react.offscreen"),I4=Symbol.iterator;function o1(t){return t===null||typeof t!="object"?null:(t=I4&&t[I4]||t["@@iterator"],typeof t=="function"?t:null)}var Cr=Object.assign,k2;function k1(t){if(k2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);k2=e&&e[1]||""}return`
`+k2+t}var F2=!1;function N2(t,e){if(!t||F2)return"";F2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{F2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?k1(t):""}function Jae(t){switch(t.tag){case 5:return k1(t.type);case 16:return k1("Lazy");case 13:return k1("Suspense");case 19:return k1("SuspenseList");case 0:case 2:case 15:return t=N2(t.type,!1),t;case 11:return t=N2(t.type.render,!1),t;case 1:return t=N2(t.type,!0),t;default:return""}}function wL(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Vg:return"Fragment";case $g:return"Portal";case vL:return"Profiler";case HD:return"StrictMode";case _L:return"Suspense";case xL:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q$:return(t.displayName||"Context")+".Consumer";case K$:return(t._context.displayName||"Context")+".Provider";case GD:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zD:return e=t.displayName||null,e!==null?e:wL(t.type)||"Memo";case Bf:e=t._payload,t=t._init;try{return wL(t(e))}catch{}}return null}function Xae(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wL(e);case 8:return e===HD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X$(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yae(t){var e=X$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $b(t){t._valueTracker||(t._valueTracker=Yae(t))}function Y$(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=X$(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dE(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bL(t,e){var n=e.checked;return Cr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function L4(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=lh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z$(t,e){e=e.checked,e!=null&&UD(t,"checked",e,!1)}function SL(t,e){Z$(t,e);var n=lh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?AL(t,e.type,n):e.hasOwnProperty("defaultValue")&&AL(t,e.type,lh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P4(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function AL(t,e,n){(e!=="number"||dE(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var F1=Array.isArray;function g0(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function EL(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Cr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D4(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ve(92));if(F1(n)){if(1<n.length)throw Error(Ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lh(n)}}function eV(t,e){var n=lh(e.value),r=lh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function B4(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TL(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vb,nV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vb=Vb||document.createElement("div"),Vb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function I_(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var X1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zae=["Webkit","ms","Moz","O"];Object.keys(X1).forEach(function(t){Zae.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),X1[e]=X1[t]})});function rV(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||X1.hasOwnProperty(t)&&X1[t]?(""+e).trim():e+"px"}function iV(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rV(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ele=Cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CL(t,e){if(e){if(ele[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function ML(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RL=null;function $D(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var IL=null,y0=null,v0=null;function O4(t){if(t=Ox(t)){if(typeof IL!="function")throw Error(Ve(280));var e=t.stateNode;e&&(e=aC(e),IL(t.stateNode,t.type,e))}}function sV(t){y0?v0?v0.push(t):v0=[t]:y0=t}function oV(){if(y0){var t=y0,e=v0;if(v0=y0=null,O4(t),e)for(t=0;t<e.length;t++)O4(e[t])}}function aV(t,e){return t(e)}function lV(){}var U2=!1;function uV(t,e,n){if(U2)return t(e,n);U2=!0;try{return aV(t,e,n)}finally{U2=!1,(y0!==null||v0!==null)&&(lV(),oV())}}function L_(t,e){var n=t.stateNode;if(n===null)return null;var r=aC(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ve(231,e,typeof n));return n}var LL=!1;if(Tc)try{var a1={};Object.defineProperty(a1,"passive",{get:function(){LL=!0}}),window.addEventListener("test",a1,a1),window.removeEventListener("test",a1,a1)}catch{LL=!1}function tle(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Y1=!1,pE=null,mE=!1,PL=null,nle={onError:function(t){Y1=!0,pE=t}};function rle(t,e,n,r,i,s,o,a,l){Y1=!1,pE=null,tle.apply(nle,arguments)}function ile(t,e,n,r,i,s,o,a,l){if(rle.apply(this,arguments),Y1){if(Y1){var u=pE;Y1=!1,pE=null}else throw Error(Ve(198));mE||(mE=!0,PL=u)}}function Qp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k4(t){if(Qp(t)!==t)throw Error(Ve(188))}function sle(t){var e=t.alternate;if(!e){if(e=Qp(t),e===null)throw Error(Ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return k4(i),t;if(s===r)return k4(i),e;s=s.sibling}throw Error(Ve(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ve(189))}}if(n.alternate!==r)throw Error(Ve(190))}if(n.tag!==3)throw Error(Ve(188));return n.stateNode.current===n?t:e}function fV(t){return t=sle(t),t!==null?hV(t):null}function hV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hV(t);if(e!==null)return e;t=t.sibling}return null}var dV=ua.unstable_scheduleCallback,F4=ua.unstable_cancelCallback,ole=ua.unstable_shouldYield,ale=ua.unstable_requestPaint,jr=ua.unstable_now,lle=ua.unstable_getCurrentPriorityLevel,VD=ua.unstable_ImmediatePriority,pV=ua.unstable_UserBlockingPriority,gE=ua.unstable_NormalPriority,ule=ua.unstable_LowPriority,mV=ua.unstable_IdlePriority,rC=null,vu=null;function cle(t){if(vu&&typeof vu.onCommitFiberRoot=="function")try{vu.onCommitFiberRoot(rC,t,void 0,(t.current.flags&128)===128)}catch{}}var Sl=Math.clz32?Math.clz32:dle,fle=Math.log,hle=Math.LN2;function dle(t){return t>>>=0,t===0?32:31-(fle(t)/hle|0)|0}var Wb=64,jb=4194304;function N1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yE(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=N1(a):(s&=o,s!==0&&(r=N1(s)))}else o=n&~i,o!==0?r=N1(o):s!==0&&(r=N1(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sl(e),i=1<<n,r|=t[n],e&=~i;return r}function ple(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mle(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sl(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=ple(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function DL(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gV(){var t=Wb;return Wb<<=1,(Wb&4194240)===0&&(Wb=64),t}function H2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dx(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sl(e),t[e]=n}function gle(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sl(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function WD(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sl(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Wn=0;function yV(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var vV,jD,_V,xV,wV,BL=!1,qb=[],Yf=null,Zf=null,eh=null,P_=new Map,D_=new Map,Uf=[],yle="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N4(t,e){switch(t){case"focusin":case"focusout":Yf=null;break;case"dragenter":case"dragleave":Zf=null;break;case"mouseover":case"mouseout":eh=null;break;case"pointerover":case"pointerout":P_.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":D_.delete(e.pointerId)}}function l1(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ox(e),e!==null&&jD(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vle(t,e,n,r,i){switch(e){case"focusin":return Yf=l1(Yf,t,e,n,r,i),!0;case"dragenter":return Zf=l1(Zf,t,e,n,r,i),!0;case"mouseover":return eh=l1(eh,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return P_.set(s,l1(P_.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,D_.set(s,l1(D_.get(s)||null,t,e,n,r,i)),!0}return!1}function bV(t){var e=np(t.target);if(e!==null){var n=Qp(e);if(n!==null){if(e=n.tag,e===13){if(e=cV(n),e!==null){t.blockedOn=e,wV(t.priority,function(){_V(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function TA(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=OL(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);RL=r,n.target.dispatchEvent(r),RL=null}else return e=Ox(n),e!==null&&jD(e),t.blockedOn=n,!1;e.shift()}return!0}function U4(t,e,n){TA(t)&&n.delete(e)}function _le(){BL=!1,Yf!==null&&TA(Yf)&&(Yf=null),Zf!==null&&TA(Zf)&&(Zf=null),eh!==null&&TA(eh)&&(eh=null),P_.forEach(U4),D_.forEach(U4)}function u1(t,e){t.blockedOn===e&&(t.blockedOn=null,BL||(BL=!0,ua.unstable_scheduleCallback(ua.unstable_NormalPriority,_le)))}function B_(t){function e(i){return u1(i,t)}if(0<qb.length){u1(qb[0],t);for(var n=1;n<qb.length;n++){var r=qb[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yf!==null&&u1(Yf,t),Zf!==null&&u1(Zf,t),eh!==null&&u1(eh,t),P_.forEach(e),D_.forEach(e),n=0;n<Uf.length;n++)r=Uf[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Uf.length&&(n=Uf[0],n.blockedOn===null);)bV(n),n.blockedOn===null&&Uf.shift()}var _0=Oc.ReactCurrentBatchConfig,vE=!0;function xle(t,e,n,r){var i=Wn,s=_0.transition;_0.transition=null;try{Wn=1,qD(t,e,n,r)}finally{Wn=i,_0.transition=s}}function wle(t,e,n,r){var i=Wn,s=_0.transition;_0.transition=null;try{Wn=4,qD(t,e,n,r)}finally{Wn=i,_0.transition=s}}function qD(t,e,n,r){if(vE){var i=OL(t,e,n,r);if(i===null)J2(t,e,r,_E,n),N4(t,r);else if(vle(i,t,e,n,r))r.stopPropagation();else if(N4(t,r),e&4&&-1<yle.indexOf(t)){for(;i!==null;){var s=Ox(i);if(s!==null&&vV(s),s=OL(t,e,n,r),s===null&&J2(t,e,r,_E,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else J2(t,e,r,null,n)}}var _E=null;function OL(t,e,n,r){if(_E=null,t=$D(r),t=np(t),t!==null)if(e=Qp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cV(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _E=t,null}function SV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lle()){case VD:return 1;case pV:return 4;case gE:case ule:return 16;case mV:return 536870912;default:return 16}default:return 16}}var qf=null,KD=null,CA=null;function AV(){if(CA)return CA;var t,e=KD,n=e.length,r,i="value"in qf?qf.value:qf.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return CA=i.slice(t,1<r?1-r:void 0)}function MA(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kb(){return!0}function H4(){return!1}function ya(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kb:H4,this.isPropagationStopped=H4,this}return Cr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kb)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kb)},persist:function(){},isPersistent:Kb}),e}var Ty={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QD=ya(Ty),Bx=Cr({},Ty,{view:0,detail:0}),ble=ya(Bx),G2,z2,c1,iC=Cr({},Bx,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JD,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==c1&&(c1&&t.type==="mousemove"?(G2=t.screenX-c1.screenX,z2=t.screenY-c1.screenY):z2=G2=0,c1=t),G2)},movementY:function(t){return"movementY"in t?t.movementY:z2}}),G4=ya(iC),Sle=Cr({},iC,{dataTransfer:0}),Ale=ya(Sle),Ele=Cr({},Bx,{relatedTarget:0}),$2=ya(Ele),Tle=Cr({},Ty,{animationName:0,elapsedTime:0,pseudoElement:0}),Cle=ya(Tle),Mle=Cr({},Ty,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rle=ya(Mle),Ile=Cr({},Ty,{data:0}),z4=ya(Ile),Lle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ple={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ble(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dle[t])?!!e[t]:!1}function JD(){return Ble}var Ole=Cr({},Bx,{key:function(t){if(t.key){var e=Lle[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=MA(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ple[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JD,charCode:function(t){return t.type==="keypress"?MA(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?MA(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kle=ya(Ole),Fle=Cr({},iC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$4=ya(Fle),Nle=Cr({},Bx,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JD}),Ule=ya(Nle),Hle=Cr({},Ty,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gle=ya(Hle),zle=Cr({},iC,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$le=ya(zle),Vle=[9,13,27,32],XD=Tc&&"CompositionEvent"in window,Z1=null;Tc&&"documentMode"in document&&(Z1=document.documentMode);var Wle=Tc&&"TextEvent"in window&&!Z1,EV=Tc&&(!XD||Z1&&8<Z1&&11>=Z1),V4=String.fromCharCode(32),W4=!1;function TV(t,e){switch(t){case"keyup":return Vle.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wg=!1;function jle(t,e){switch(t){case"compositionend":return CV(e);case"keypress":return e.which!==32?null:(W4=!0,V4);case"textInput":return t=e.data,t===V4&&W4?null:t;default:return null}}function qle(t,e){if(Wg)return t==="compositionend"||!XD&&TV(t,e)?(t=AV(),CA=KD=qf=null,Wg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EV&&e.locale!=="ko"?null:e.data;default:return null}}var Kle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kle[t.type]:e==="textarea"}function MV(t,e,n,r){sV(r),e=xE(e,"onChange"),0<e.length&&(n=new QD("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var e_=null,O_=null;function Qle(t){UV(t,0)}function sC(t){var e=Kg(t);if(Y$(e))return t}function Jle(t,e){if(t==="change")return e}var RV=!1;if(Tc){var V2;if(Tc){var W2="oninput"in document;if(!W2){var q4=document.createElement("div");q4.setAttribute("oninput","return;"),W2=typeof q4.oninput=="function"}V2=W2}else V2=!1;RV=V2&&(!document.documentMode||9<document.documentMode)}function K4(){e_&&(e_.detachEvent("onpropertychange",IV),O_=e_=null)}function IV(t){if(t.propertyName==="value"&&sC(O_)){var e=[];MV(e,O_,t,$D(t)),uV(Qle,e)}}function Xle(t,e,n){t==="focusin"?(K4(),e_=e,O_=n,e_.attachEvent("onpropertychange",IV)):t==="focusout"&&K4()}function Yle(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sC(O_)}function Zle(t,e){if(t==="click")return sC(e)}function eue(t,e){if(t==="input"||t==="change")return sC(e)}function tue(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ml=typeof Object.is=="function"?Object.is:tue;function k_(t,e){if(Ml(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yL.call(e,i)||!Ml(t[i],e[i]))return!1}return!0}function Q4(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function J4(t,e){var n=Q4(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q4(n)}}function LV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PV(){for(var t=window,e=dE();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dE(t.document)}return e}function YD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nue(t){var e=PV(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LV(n.ownerDocument.documentElement,n)){if(r!==null&&YD(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=J4(n,s);var o=J4(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rue=Tc&&"documentMode"in document&&11>=document.documentMode,jg=null,kL=null,t_=null,FL=!1;function X4(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;FL||jg==null||jg!==dE(r)||(r=jg,"selectionStart"in r&&YD(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),t_&&k_(t_,r)||(t_=r,r=xE(kL,"onSelect"),0<r.length&&(e=new QD("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jg)))}function Qb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qg={animationend:Qb("Animation","AnimationEnd"),animationiteration:Qb("Animation","AnimationIteration"),animationstart:Qb("Animation","AnimationStart"),transitionend:Qb("Transition","TransitionEnd")},j2={},DV={};Tc&&(DV=document.createElement("div").style,"AnimationEvent"in window||(delete qg.animationend.animation,delete qg.animationiteration.animation,delete qg.animationstart.animation),"TransitionEvent"in window||delete qg.transitionend.transition);function oC(t){if(j2[t])return j2[t];if(!qg[t])return t;var e=qg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DV)return j2[t]=e[n];return t}var BV=oC("animationend"),OV=oC("animationiteration"),kV=oC("animationstart"),FV=oC("transitionend"),NV=new Map,Y4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ih(t,e){NV.set(t,e),Kp(e,[t])}for(var q2=0;q2<Y4.length;q2++){var K2=Y4[q2],iue=K2.toLowerCase(),sue=K2[0].toUpperCase()+K2.slice(1);Ih(iue,"on"+sue)}Ih(BV,"onAnimationEnd");Ih(OV,"onAnimationIteration");Ih(kV,"onAnimationStart");Ih("dblclick","onDoubleClick");Ih("focusin","onFocus");Ih("focusout","onBlur");Ih(FV,"onTransitionEnd");B0("onMouseEnter",["mouseout","mouseover"]);B0("onMouseLeave",["mouseout","mouseover"]);B0("onPointerEnter",["pointerout","pointerover"]);B0("onPointerLeave",["pointerout","pointerover"]);Kp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var U1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oue=new Set("cancel close invalid load scroll toggle".split(" ").concat(U1));function Z4(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ile(r,e,void 0,t),t.currentTarget=null}function UV(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Z4(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Z4(i,a,u),s=l}}}if(mE)throw t=PL,mE=!1,PL=null,t}function or(t,e){var n=e[zL];n===void 0&&(n=e[zL]=new Set);var r=t+"__bubble";n.has(r)||(HV(e,t,2,!1),n.add(r))}function Q2(t,e,n){var r=0;e&&(r|=4),HV(n,t,r,e)}var Jb="_reactListening"+Math.random().toString(36).slice(2);function F_(t){if(!t[Jb]){t[Jb]=!0,q$.forEach(function(n){n!=="selectionchange"&&(oue.has(n)||Q2(n,!1,t),Q2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jb]||(e[Jb]=!0,Q2("selectionchange",!1,e))}}function HV(t,e,n,r){switch(SV(e)){case 1:var i=xle;break;case 4:i=wle;break;default:i=qD}n=i.bind(null,e,n,t),i=void 0,!LL||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function J2(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=np(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}uV(function(){var u=s,f=$D(n),c=[];e:{var h=NV.get(t);if(h!==void 0){var g=QD,y=t;switch(t){case"keypress":if(MA(n)===0)break e;case"keydown":case"keyup":g=kle;break;case"focusin":y="focus",g=$2;break;case"focusout":y="blur",g=$2;break;case"beforeblur":case"afterblur":g=$2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=G4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Ale;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ule;break;case BV:case OV:case kV:g=Cle;break;case FV:g=Gle;break;case"scroll":g=ble;break;case"wheel":g=$le;break;case"copy":case"cut":case"paste":g=Rle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=$4}var _=(e&4)!==0,x=!_&&t==="scroll",w=_?h!==null?h+"Capture":null:h;_=[];for(var b=u,E;b!==null;){E=b;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,w!==null&&(C=L_(b,w),C!=null&&_.push(N_(b,C,E)))),x)break;b=b.return}0<_.length&&(h=new g(h,y,null,n,f),c.push({event:h,listeners:_}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==RL&&(y=n.relatedTarget||n.fromElement)&&(np(y)||y[Cc]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?np(y):null,y!==null&&(x=Qp(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(_=G4,C="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=$4,C="onPointerLeave",w="onPointerEnter",b="pointer"),x=g==null?h:Kg(g),E=y==null?h:Kg(y),h=new _(C,b+"leave",g,n,f),h.target=x,h.relatedTarget=E,C=null,np(f)===u&&(_=new _(w,b+"enter",y,n,f),_.target=E,_.relatedTarget=x,C=_),x=C,g&&y)t:{for(_=g,w=y,b=0,E=_;E;E=Ym(E))b++;for(E=0,C=w;C;C=Ym(C))E++;for(;0<b-E;)_=Ym(_),b--;for(;0<E-b;)w=Ym(w),E--;for(;b--;){if(_===w||w!==null&&_===w.alternate)break t;_=Ym(_),w=Ym(w)}_=null}else _=null;g!==null&&e5(c,h,g,_,!1),y!==null&&x!==null&&e5(c,x,y,_,!0)}}e:{if(h=u?Kg(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var M=Jle;else if(j4(h))if(RV)M=eue;else{M=Yle;var P=Xle}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(M=Zle);if(M&&(M=M(t,u))){MV(c,M,n,f);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&AL(h,"number",h.value)}switch(P=u?Kg(u):window,t){case"focusin":(j4(P)||P.contentEditable==="true")&&(jg=P,kL=u,t_=null);break;case"focusout":t_=kL=jg=null;break;case"mousedown":FL=!0;break;case"contextmenu":case"mouseup":case"dragend":FL=!1,X4(c,n,f);break;case"selectionchange":if(rue)break;case"keydown":case"keyup":X4(c,n,f)}var D;if(XD)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Wg?TV(t,n)&&(L="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(EV&&n.locale!=="ko"&&(Wg||L!=="onCompositionStart"?L==="onCompositionEnd"&&Wg&&(D=AV()):(qf=f,KD="value"in qf?qf.value:qf.textContent,Wg=!0)),P=xE(u,L),0<P.length&&(L=new z4(L,t,null,n,f),c.push({event:L,listeners:P}),D?L.data=D:(D=CV(n),D!==null&&(L.data=D)))),(D=Wle?jle(t,n):qle(t,n))&&(u=xE(u,"onBeforeInput"),0<u.length&&(f=new z4("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=D))}UV(c,e)})}function N_(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xE(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=L_(t,n),s!=null&&r.unshift(N_(t,s,i)),s=L_(t,e),s!=null&&r.push(N_(t,s,i))),t=t.return}return r}function Ym(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function e5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=L_(n,s),l!=null&&o.unshift(N_(n,l,a))):i||(l=L_(n,s),l!=null&&o.push(N_(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aue=/\r\n?/g,lue=/\u0000|\uFFFD/g;function t5(t){return(typeof t=="string"?t:""+t).replace(aue,`
`).replace(lue,"")}function Xb(t,e,n){if(e=t5(e),t5(t)!==e&&n)throw Error(Ve(425))}function wE(){}var NL=null,UL=null;function HL(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var GL=typeof setTimeout=="function"?setTimeout:void 0,uue=typeof clearTimeout=="function"?clearTimeout:void 0,n5=typeof Promise=="function"?Promise:void 0,cue=typeof queueMicrotask=="function"?queueMicrotask:typeof n5<"u"?function(t){return n5.resolve(null).then(t).catch(fue)}:GL;function fue(t){setTimeout(function(){throw t})}function X2(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),B_(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);B_(e)}function mc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function r5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Cy=Math.random().toString(36).slice(2),fu="__reactFiber$"+Cy,U_="__reactProps$"+Cy,Cc="__reactContainer$"+Cy,zL="__reactEvents$"+Cy,hue="__reactListeners$"+Cy,due="__reactHandles$"+Cy;function np(t){var e=t[fu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cc]||n[fu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=r5(t);t!==null;){if(n=t[fu])return n;t=r5(t)}return e}t=n,n=t.parentNode}return null}function Ox(t){return t=t[fu]||t[Cc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ve(33))}function aC(t){return t[U_]||null}var $L=[],Qg=-1;function Lh(t){return{current:t}}function cr(t){0>Qg||(t.current=$L[Qg],$L[Qg]=null,Qg--)}function ir(t,e){Qg++,$L[Qg]=t.current,t.current=e}var uh={},Es=Lh(uh),Eo=Lh(!1),Sp=uh;function O0(t,e){var n=t.type.contextTypes;if(!n)return uh;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function To(t){return t=t.childContextTypes,t!=null}function bE(){cr(Eo),cr(Es)}function i5(t,e,n){if(Es.current!==uh)throw Error(Ve(168));ir(Es,e),ir(Eo,n)}function GV(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ve(108,Xae(t)||"Unknown",i));return Cr({},n,r)}function SE(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uh,Sp=Es.current,ir(Es,t),ir(Eo,Eo.current),!0}function s5(t,e,n){var r=t.stateNode;if(!r)throw Error(Ve(169));n?(t=GV(t,e,Sp),r.__reactInternalMemoizedMergedChildContext=t,cr(Eo),cr(Es),ir(Es,t)):cr(Eo),ir(Eo,n)}var hc=null,lC=!1,Y2=!1;function zV(t){hc===null?hc=[t]:hc.push(t)}function pue(t){lC=!0,zV(t)}function Ph(){if(!Y2&&hc!==null){Y2=!0;var t=0,e=Wn;try{var n=hc;for(Wn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hc=null,lC=!1}catch(i){throw hc!==null&&(hc=hc.slice(t+1)),dV(VD,Ph),i}finally{Wn=e,Y2=!1}}return null}var mue=Oc.ReactCurrentBatchConfig;function dl(t,e){if(t&&t.defaultProps){e=Cr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var AE=Lh(null),EE=null,Jg=null,ZD=null;function eB(){ZD=Jg=EE=null}function tB(t){var e=AE.current;cr(AE),t._currentValue=e}function VL(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function x0(t,e){EE=t,ZD=Jg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(bo=!0),t.firstContext=null)}function $a(t){var e=t._currentValue;if(ZD!==t)if(t={context:t,memoizedValue:e,next:null},Jg===null){if(EE===null)throw Error(Ve(308));Jg=t,EE.dependencies={lanes:0,firstContext:t}}else Jg=Jg.next=t;return e}var wl=null,Of=!1;function nB(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $V(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function th(t,e){var n=t.updateQueue;n!==null&&(n=n.shared,P7(t)?(t=n.interleaved,t===null?(e.next=e,wl===null?wl=[n]:wl.push(n)):(e.next=t.next,t.next=e),n.interleaved=e):(t=n.pending,t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e))}function RA(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,WD(t,n)}}function o5(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function TE(t,e,n,r){var i=t.updateQueue;Of=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=l))}if(s!==null){var c=i.baseState;o=0,f=u=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(h=e,g=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){c=y.call(g,c,h);break e}c=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,h=typeof y=="function"?y.call(g,c,h):y,h==null)break e;c=Cr({},c,h);break e;case 2:Of=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=g,l=c):f=f.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(f===null&&(l=c),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Tp|=o,t.lanes=o,t.memoizedState=c}}function a5(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ve(191,i));i.call(r)}}}var VV=new j$.Component().refs;function WL(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Cr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uC={isMounted:function(t){return(t=t._reactInternals)?Qp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Js(),i=rh(t),s=bc(r,i);s.payload=e,n!=null&&(s.callback=n),th(t,s),e=Ga(t,i,r),e!==null&&RA(e,t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Js(),i=rh(t),s=bc(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),th(t,s),e=Ga(t,i,r),e!==null&&RA(e,t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Js(),r=rh(t),i=bc(n,r);i.tag=2,e!=null&&(i.callback=e),th(t,i),e=Ga(t,r,n),e!==null&&RA(e,t,r)}};function l5(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!k_(n,r)||!k_(i,s):!0}function WV(t,e,n){var r=!1,i=uh,s=e.contextType;return typeof s=="object"&&s!==null?s=$a(s):(i=To(e)?Sp:Es.current,r=e.contextTypes,s=(r=r!=null)?O0(t,i):uh),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uC,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function u5(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uC.enqueueReplaceState(e,e.state,null)}function jL(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=VV,nB(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$a(s):(s=To(e)?Sp:Es.current,i.context=O0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(WL(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uC.enqueueReplaceState(i,i.state,null),TE(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}var Xg=[],Yg=0,CE=null,ME=0,ka=[],Fa=0,Ap=null,gc=1,yc="";function Vd(t,e){Xg[Yg++]=ME,Xg[Yg++]=CE,CE=t,ME=e}function jV(t,e,n){ka[Fa++]=gc,ka[Fa++]=yc,ka[Fa++]=Ap,Ap=t;var r=gc;t=yc;var i=32-Sl(r)-1;r&=~(1<<i),n+=1;var s=32-Sl(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gc=1<<32-Sl(e)+i|n<<i|r,yc=s+t}else gc=1<<s|n<<i|r,yc=t}function rB(t){t.return!==null&&(Vd(t,1),jV(t,1,0))}function iB(t){for(;t===CE;)CE=Xg[--Yg],Xg[Yg]=null,ME=Xg[--Yg],Xg[Yg]=null;for(;t===Ap;)Ap=ka[--Fa],ka[Fa]=null,yc=ka[--Fa],ka[Fa]=null,gc=ka[--Fa],ka[Fa]=null}var oa=null,xo=null,pr=!1,gl=null;function qV(t,e){var n=Ua(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c5(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oa=t,xo=mc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oa=t,xo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ap!==null?{id:gc,overflow:yc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ua(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,oa=t,xo=null,!0):!1;default:return!1}}function qL(t){return(t.mode&1)!==0&&(t.flags&128)===0}function KL(t){if(pr){var e=xo;if(e){var n=e;if(!c5(t,e)){if(qL(t))throw Error(Ve(418));e=mc(n.nextSibling);var r=oa;e&&c5(t,e)?qV(r,n):(t.flags=t.flags&-4097|2,pr=!1,oa=t)}}else{if(qL(t))throw Error(Ve(418));t.flags=t.flags&-4097|2,pr=!1,oa=t}}}function f5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oa=t}function f1(t){if(t!==oa)return!1;if(!pr)return f5(t),pr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!HL(t.type,t.memoizedProps)),e&&(e=xo)){if(qL(t)){for(t=xo;t;)t=mc(t.nextSibling);throw Error(Ve(418))}for(;e;)qV(t,e),e=mc(e.nextSibling)}if(f5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xo=mc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xo=null}}else xo=oa?mc(t.stateNode.nextSibling):null;return!0}function k0(){xo=oa=null,pr=!1}function sB(t){gl===null?gl=[t]:gl.push(t)}function h1(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ve(309));var r=n.stateNode}if(!r)throw Error(Ve(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===VV&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ve(284));if(!n._owner)throw Error(Ve(290,t))}return t}function Yb(t,e){throw t=Object.prototype.toString.call(e),Error(Ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function h5(t){var e=t._init;return e(t._payload)}function KV(t){function e(w,b){if(t){var E=w.deletions;E===null?(w.deletions=[b],w.flags|=16):E.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=ch(w,b),w.index=0,w.sibling=null,w}function s(w,b,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<b?(w.flags|=2,b):E):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,E,C){return b===null||b.tag!==6?(b=iR(E,w.mode,C),b.return=w,b):(b=i(b,E),b.return=w,b)}function l(w,b,E,C){var M=E.type;return M===Vg?f(w,b,E.props.children,C,E.key):b!==null&&(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Bf&&h5(M)===b.type)?(C=i(b,E.props),C.ref=h1(w,b,E),C.return=w,C):(C=BA(E.type,E.key,E.props,null,w.mode,C),C.ref=h1(w,b,E),C.return=w,C)}function u(w,b,E,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=sR(E,w.mode,C),b.return=w,b):(b=i(b,E.children||[]),b.return=w,b)}function f(w,b,E,C,M){return b===null||b.tag!==7?(b=hp(E,w.mode,C,M),b.return=w,b):(b=i(b,E),b.return=w,b)}function c(w,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return b=iR(""+b,w.mode,E),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zb:return E=BA(b.type,b.key,b.props,null,w.mode,E),E.ref=h1(w,null,b),E.return=w,E;case $g:return b=sR(b,w.mode,E),b.return=w,b;case Bf:var C=b._init;return c(w,C(b._payload),E)}if(F1(b)||o1(b))return b=hp(b,w.mode,E,null),b.return=w,b;Yb(w,b)}return null}function h(w,b,E,C){var M=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return M!==null?null:a(w,b,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zb:return E.key===M?l(w,b,E,C):null;case $g:return E.key===M?u(w,b,E,C):null;case Bf:return M=E._init,h(w,b,M(E._payload),C)}if(F1(E)||o1(E))return M!==null?null:f(w,b,E,C,null);Yb(w,E)}return null}function g(w,b,E,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(E)||null,a(b,w,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case zb:return w=w.get(C.key===null?E:C.key)||null,l(b,w,C,M);case $g:return w=w.get(C.key===null?E:C.key)||null,u(b,w,C,M);case Bf:var P=C._init;return g(w,b,E,P(C._payload),M)}if(F1(C)||o1(C))return w=w.get(E)||null,f(b,w,C,M,null);Yb(b,C)}return null}function y(w,b,E,C){for(var M=null,P=null,D=b,L=b=0,O=null;D!==null&&L<E.length;L++){D.index>L?(O=D,D=null):O=D.sibling;var q=h(w,D,E[L],C);if(q===null){D===null&&(D=O);break}t&&D&&q.alternate===null&&e(w,D),b=s(q,b,L),P===null?M=q:P.sibling=q,P=q,D=O}if(L===E.length)return n(w,D),pr&&Vd(w,L),M;if(D===null){for(;L<E.length;L++)D=c(w,E[L],C),D!==null&&(b=s(D,b,L),P===null?M=D:P.sibling=D,P=D);return pr&&Vd(w,L),M}for(D=r(w,D);L<E.length;L++)O=g(D,w,L,E[L],C),O!==null&&(t&&O.alternate!==null&&D.delete(O.key===null?L:O.key),b=s(O,b,L),P===null?M=O:P.sibling=O,P=O);return t&&D.forEach(function(j){return e(w,j)}),pr&&Vd(w,L),M}function _(w,b,E,C){var M=o1(E);if(typeof M!="function")throw Error(Ve(150));if(E=M.call(E),E==null)throw Error(Ve(151));for(var P=M=null,D=b,L=b=0,O=null,q=E.next();D!==null&&!q.done;L++,q=E.next()){D.index>L?(O=D,D=null):O=D.sibling;var j=h(w,D,q.value,C);if(j===null){D===null&&(D=O);break}t&&D&&j.alternate===null&&e(w,D),b=s(j,b,L),P===null?M=j:P.sibling=j,P=j,D=O}if(q.done)return n(w,D),pr&&Vd(w,L),M;if(D===null){for(;!q.done;L++,q=E.next())q=c(w,q.value,C),q!==null&&(b=s(q,b,L),P===null?M=q:P.sibling=q,P=q);return pr&&Vd(w,L),M}for(D=r(w,D);!q.done;L++,q=E.next())q=g(D,w,L,q.value,C),q!==null&&(t&&q.alternate!==null&&D.delete(q.key===null?L:q.key),b=s(q,b,L),P===null?M=q:P.sibling=q,P=q);return t&&D.forEach(function(oe){return e(w,oe)}),pr&&Vd(w,L),M}function x(w,b,E,C){if(typeof E=="object"&&E!==null&&E.type===Vg&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case zb:e:{for(var M=E.key,P=b;P!==null;){if(P.key===M){if(M=E.type,M===Vg){if(P.tag===7){n(w,P.sibling),b=i(P,E.props.children),b.return=w,w=b;break e}}else if(P.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Bf&&h5(M)===P.type){n(w,P.sibling),b=i(P,E.props),b.ref=h1(w,P,E),b.return=w,w=b;break e}n(w,P);break}else e(w,P);P=P.sibling}E.type===Vg?(b=hp(E.props.children,w.mode,C,E.key),b.return=w,w=b):(C=BA(E.type,E.key,E.props,null,w.mode,C),C.ref=h1(w,b,E),C.return=w,w=C)}return o(w);case $g:e:{for(P=E.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(w,b.sibling),b=i(b,E.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=sR(E,w.mode,C),b.return=w,w=b}return o(w);case Bf:return P=E._init,x(w,b,P(E._payload),C)}if(F1(E))return y(w,b,E,C);if(o1(E))return _(w,b,E,C);Yb(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,E),b.return=w,w=b):(n(w,b),b=iR(E,w.mode,C),b.return=w,w=b),o(w)):n(w,b)}return x}var F0=KV(!0),QV=KV(!1),kx={},_u=Lh(kx),H_=Lh(kx),G_=Lh(kx);function rp(t){if(t===kx)throw Error(Ve(174));return t}function oB(t,e){switch(ir(G_,e),ir(H_,t),ir(_u,kx),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:TL(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=TL(e,t)}cr(_u),ir(_u,e)}function N0(){cr(_u),cr(H_),cr(G_)}function JV(t){rp(G_.current);var e=rp(_u.current),n=TL(e,t.type);e!==n&&(ir(H_,t),ir(_u,n))}function aB(t){H_.current===t&&(cr(_u),cr(H_))}var Sr=Lh(0);function RE(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Z2=[];function lB(){for(var t=0;t<Z2.length;t++)Z2[t]._workInProgressVersionPrimary=null;Z2.length=0}var IA=Oc.ReactCurrentDispatcher,eR=Oc.ReactCurrentBatchConfig,Ep=0,Tr=null,vi=null,Fi=null,IE=!1,n_=!1,z_=0,gue=0;function gs(){throw Error(Ve(321))}function uB(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ml(t[n],e[n]))return!1;return!0}function cB(t,e,n,r,i,s){if(Ep=s,Tr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,IA.current=t===null||t.memoizedState===null?xue:wue,t=n(r,i),n_){s=0;do{if(n_=!1,z_=0,25<=s)throw Error(Ve(301));s+=1,Fi=vi=null,e.updateQueue=null,IA.current=bue,t=n(r,i)}while(n_)}if(IA.current=LE,e=vi!==null&&vi.next!==null,Ep=0,Fi=vi=Tr=null,IE=!1,e)throw Error(Ve(300));return t}function fB(){var t=z_!==0;return z_=0,t}function iu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fi===null?Tr.memoizedState=Fi=t:Fi=Fi.next=t,Fi}function Va(){if(vi===null){var t=Tr.alternate;t=t!==null?t.memoizedState:null}else t=vi.next;var e=Fi===null?Tr.memoizedState:Fi.next;if(e!==null)Fi=e,vi=t;else{if(t===null)throw Error(Ve(310));vi=t,t={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Fi===null?Tr.memoizedState=Fi=t:Fi=Fi.next=t}return Fi}function $_(t,e){return typeof e=="function"?e(t):e}function tR(t){var e=Va(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=vi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var f=u.lane;if((Ep&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=c,o=r):l=l.next=c,Tr.lanes|=f,Tp|=f}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Ml(r,e.memoizedState)||(bo=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Tr.lanes|=s,Tp|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nR(t){var e=Va(),n=e.queue;if(n===null)throw Error(Ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ml(s,e.memoizedState)||(bo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function XV(){}function YV(t,e){var n=Tr,r=Va(),i=e(),s=!Ml(r.memoizedState,i);if(s&&(r.memoizedState=i,bo=!0),r=r.queue,hB(t7.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Fi!==null&&Fi.memoizedState.tag&1){if(n.flags|=2048,V_(9,e7.bind(null,n,r,i,e),void 0,null),wi===null)throw Error(Ve(349));(Ep&30)!==0||ZV(n,e,i)}return i}function ZV(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function e7(t,e,n,r){e.value=n,e.getSnapshot=r,n7(e)&&Ga(t,1,-1)}function t7(t,e,n){return n(function(){n7(e)&&Ga(t,1,-1)})}function n7(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ml(t,n)}catch{return!0}}function d5(t){var e=iu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:t},e.queue=t,t=t.dispatch=_ue.bind(null,Tr,t),[e.memoizedState,t]}function V_(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tr.updateQueue,e===null?(e={lastEffect:null,stores:null},Tr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function r7(){return Va().memoizedState}function LA(t,e,n,r){var i=iu();Tr.flags|=t,i.memoizedState=V_(1|e,n,void 0,r===void 0?null:r)}function cC(t,e,n,r){var i=Va();r=r===void 0?null:r;var s=void 0;if(vi!==null){var o=vi.memoizedState;if(s=o.destroy,r!==null&&uB(r,o.deps)){i.memoizedState=V_(e,n,s,r);return}}Tr.flags|=t,i.memoizedState=V_(1|e,n,s,r)}function p5(t,e){return LA(8390656,8,t,e)}function hB(t,e){return cC(2048,8,t,e)}function i7(t,e){return cC(4,2,t,e)}function s7(t,e){return cC(4,4,t,e)}function o7(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function a7(t,e,n){return n=n!=null?n.concat([t]):null,cC(4,4,o7.bind(null,e,t),n)}function dB(){}function l7(t,e){var n=Va();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uB(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function u7(t,e){var n=Va();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uB(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function c7(t,e,n){return(Ep&21)===0?(t.baseState&&(t.baseState=!1,bo=!0),t.memoizedState=n):(Ml(n,e)||(n=gV(),Tr.lanes|=n,Tp|=n,t.baseState=!0),e)}function yue(t,e){var n=Wn;Wn=n!==0&&4>n?n:4,t(!0);var r=eR.transition;eR.transition={};try{t(!1),e()}finally{Wn=n,eR.transition=r}}function f7(){return Va().memoizedState}function vue(t,e,n){var r=rh(t);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},h7(t)?d7(e,n):(p7(t,e,n),n=Js(),t=Ga(t,r,n),t!==null&&m7(t,e,r))}function _ue(t,e,n){var r=rh(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(h7(t))d7(e,i);else{p7(t,e,i);var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ml(a,o))return}catch{}finally{}n=Js(),t=Ga(t,r,n),t!==null&&m7(t,e,r)}}function h7(t){var e=t.alternate;return t===Tr||e!==null&&e===Tr}function d7(t,e){n_=IE=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function p7(t,e,n){P7(t)?(t=e.interleaved,t===null?(n.next=n,wl===null?wl=[e]:wl.push(e)):(n.next=t.next,t.next=n),e.interleaved=n):(t=e.pending,t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n)}function m7(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,WD(t,n)}}var LE={readContext:$a,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},xue={readContext:$a,useCallback:function(t,e){return iu().memoizedState=[t,e===void 0?null:e],t},useContext:$a,useEffect:p5,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,LA(4194308,4,o7.bind(null,e,t),n)},useLayoutEffect:function(t,e){return LA(4194308,4,t,e)},useInsertionEffect:function(t,e){return LA(4,2,t,e)},useMemo:function(t,e){var n=iu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=iu();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vue.bind(null,Tr,t),[r.memoizedState,t]},useRef:function(t){var e=iu();return t={current:t},e.memoizedState=t},useState:d5,useDebugValue:dB,useDeferredValue:function(t){return iu().memoizedState=t},useTransition:function(){var t=d5(!1),e=t[0];return t=yue.bind(null,t[1]),iu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tr,i=iu();if(pr){if(n===void 0)throw Error(Ve(407));n=n()}else{if(n=e(),wi===null)throw Error(Ve(349));(Ep&30)!==0||ZV(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,p5(t7.bind(null,r,s,t),[t]),r.flags|=2048,V_(9,e7.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=iu(),e=wi.identifierPrefix;if(pr){var n=yc,r=gc;n=(r&~(1<<32-Sl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=z_++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gue++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wue={readContext:$a,useCallback:l7,useContext:$a,useEffect:hB,useImperativeHandle:a7,useInsertionEffect:i7,useLayoutEffect:s7,useMemo:u7,useReducer:tR,useRef:r7,useState:function(){return tR($_)},useDebugValue:dB,useDeferredValue:function(t){var e=Va();return c7(e,vi.memoizedState,t)},useTransition:function(){var t=tR($_)[0],e=Va().memoizedState;return[t,e]},useMutableSource:XV,useSyncExternalStore:YV,useId:f7,unstable_isNewReconciler:!1},bue={readContext:$a,useCallback:l7,useContext:$a,useEffect:hB,useImperativeHandle:a7,useInsertionEffect:i7,useLayoutEffect:s7,useMemo:u7,useReducer:nR,useRef:r7,useState:function(){return nR($_)},useDebugValue:dB,useDeferredValue:function(t){var e=Va();return vi===null?e.memoizedState=t:c7(e,vi.memoizedState,t)},useTransition:function(){var t=nR($_)[0],e=Va().memoizedState;return[t,e]},useMutableSource:XV,useSyncExternalStore:YV,useId:f7,unstable_isNewReconciler:!1};function pB(t,e){try{var n="",r=e;do n+=Jae(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function QL(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sue=typeof WeakMap=="function"?WeakMap:Map;function g7(t,e,n){n=bc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){DE||(DE=!0,iP=r),QL(t,e)},n}function y7(t,e,n){n=bc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){QL(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){QL(t,e),typeof r!="function"&&(nh===null?nh=new Set([this]):nh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function m5(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sue;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kue.bind(null,t,e,n),e.then(t,t))}function g5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function y5(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bc(-1,1),e.tag=2,th(n,e))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var v7,JL,_7,x7;v7=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};JL=function(){};_7=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rp(_u.current);var s=null;switch(n){case"input":i=bL(t,i),r=bL(t,r),s=[];break;case"select":i=Cr({},i,{value:void 0}),r=Cr({},r,{value:void 0}),s=[];break;case"textarea":i=EL(t,i),r=EL(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wE)}CL(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(R_.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(R_.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&or("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};x7=function(t,e,n,r){n!==r&&(e.flags|=4)};function d1(t,e){if(!pr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ys(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Aue(t,e,n){var r=e.pendingProps;switch(iB(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(e),null;case 1:return To(e.type)&&bE(),ys(e),null;case 3:return r=e.stateNode,N0(),cr(Eo),cr(Es),lB(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(f1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,gl!==null&&(aP(gl),gl=null))),JL(t,e),ys(e),null;case 5:aB(e);var i=rp(G_.current);if(n=e.type,t!==null&&e.stateNode!=null)_7(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ve(166));return ys(e),null}if(t=rp(_u.current),f1(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fu]=e,r[U_]=s,t=(e.mode&1)!==0,n){case"dialog":or("cancel",r),or("close",r);break;case"iframe":case"object":case"embed":or("load",r);break;case"video":case"audio":for(i=0;i<U1.length;i++)or(U1[i],r);break;case"source":or("error",r);break;case"img":case"image":case"link":or("error",r),or("load",r);break;case"details":or("toggle",r);break;case"input":L4(r,s),or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},or("invalid",r);break;case"textarea":D4(r,s),or("invalid",r)}CL(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xb(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xb(r.textContent,a,t),i=["children",""+a]):R_.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&or("scroll",r)}switch(n){case"input":$b(r),P4(r,s,!0);break;case"textarea":$b(r),B4(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wE)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tV(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fu]=e,t[U_]=r,v7(t,e,!1,!1),e.stateNode=t;e:{switch(o=ML(n,r),n){case"dialog":or("cancel",t),or("close",t),i=r;break;case"iframe":case"object":case"embed":or("load",t),i=r;break;case"video":case"audio":for(i=0;i<U1.length;i++)or(U1[i],t);i=r;break;case"source":or("error",t),i=r;break;case"img":case"image":case"link":or("error",t),or("load",t),i=r;break;case"details":or("toggle",t),i=r;break;case"input":L4(t,r),i=bL(t,r),or("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Cr({},r,{value:void 0}),or("invalid",t);break;case"textarea":D4(t,r),i=EL(t,r),or("invalid",t);break;default:i=r}CL(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iV(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nV(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&I_(t,l):typeof l=="number"&&I_(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(R_.hasOwnProperty(s)?l!=null&&s==="onScroll"&&or("scroll",t):l!=null&&UD(t,s,l,o))}switch(n){case"input":$b(t),P4(t,r,!1);break;case"textarea":$b(t),B4(t);break;case"option":r.value!=null&&t.setAttribute("value",""+lh(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?g0(t,!!r.multiple,s,!1):r.defaultValue!=null&&g0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ys(e),null;case 6:if(t&&e.stateNode!=null)x7(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ve(166));if(n=rp(G_.current),rp(_u.current),f1(e)){if(r=e.stateNode,n=e.memoizedProps,r[fu]=e,(s=r.nodeValue!==n)&&(t=oa,t!==null))switch(t.tag){case 3:Xb(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xb(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fu]=e,e.stateNode=r}return ys(e),null;case 13:if(cr(Sr),r=e.memoizedState,pr&&xo!==null&&(e.mode&1)!==0&&(e.flags&128)===0){for(r=xo;r;)r=mc(r.nextSibling);return k0(),e.flags|=98560,e}if(r!==null&&r.dehydrated!==null){if(r=f1(e),t===null){if(!r)throw Error(Ve(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ve(317));r[fu]=e}else k0(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;return ys(e),null}return gl!==null&&(aP(gl),gl=null),(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?f1(e):n=t.memoizedState!==null,r!==n&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Sr.current&1)!==0?_i===0&&(_i=3):xB())),e.updateQueue!==null&&(e.flags|=4),ys(e),null);case 4:return N0(),JL(t,e),t===null&&F_(e.stateNode.containerInfo),ys(e),null;case 10:return tB(e.type._context),ys(e),null;case 17:return To(e.type)&&bE(),ys(e),null;case 19:if(cr(Sr),s=e.memoizedState,s===null)return ys(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)d1(s,!1);else{if(_i!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=RE(t),o!==null){for(e.flags|=128,d1(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ir(Sr,Sr.current&1|2),e.child}t=t.sibling}s.tail!==null&&jr()>U0&&(e.flags|=128,r=!0,d1(s,!1),e.lanes=4194304)}else{if(!r)if(t=RE(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),d1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pr)return ys(e),null}else 2*jr()-s.renderingStartTime>U0&&n!==1073741824&&(e.flags|=128,r=!0,d1(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jr(),e.sibling=null,n=Sr.current,ir(Sr,r?n&1|2:n&1),e):(ys(e),null);case 22:case 23:return _B(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(ea&1073741824)!==0&&(ys(e),e.subtreeFlags&6&&(e.flags|=8192)):ys(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}var Eue=Oc.ReactCurrentOwner,bo=!1;function Ws(t,e,n,r){e.child=t===null?QV(e,null,n,r):F0(e,t.child,n,r)}function v5(t,e,n,r,i){n=n.render;var s=e.ref;return x0(e,i),r=cB(t,e,n,r,s,i),n=fB(),t!==null&&!bo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mc(t,e,i)):(pr&&n&&rB(e),e.flags|=1,Ws(t,e,r,i),e.child)}function _5(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!wB(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,w7(t,e,s,r,i)):(t=BA(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:k_,n(o,r)&&t.ref===e.ref)return Mc(t,e,i)}return e.flags|=1,t=ch(s,r),t.ref=e.ref,t.return=e,e.child=t}function w7(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(k_(s,r)&&t.ref===e.ref)if(bo=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(bo=!0);else return e.lanes=t.lanes,Mc(t,e,i)}return XL(t,e,n,r,i)}function b7(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(e0,ea),ea|=n;else if((n&1073741824)!==0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ir(e0,ea),ea|=r;else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ir(e0,ea),ea|=t,null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ir(e0,ea),ea|=r;return Ws(t,e,i,n),e.child}function S7(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function XL(t,e,n,r,i){var s=To(n)?Sp:Es.current;return s=O0(e,s),x0(e,i),n=cB(t,e,n,r,s,i),r=fB(),t!==null&&!bo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mc(t,e,i)):(pr&&r&&rB(e),e.flags|=1,Ws(t,e,n,i),e.child)}function x5(t,e,n,r,i){if(To(n)){var s=!0;SE(e)}else s=!1;if(x0(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),WV(e,n,r),jL(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=$a(u):(u=To(n)?Sp:Es.current,u=O0(e,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&u5(e,o,r,u),Of=!1;var h=e.memoizedState;o.state=h,TE(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Eo.current||Of?(typeof f=="function"&&(WL(e,n,f,r),l=e.memoizedState),(a=Of||l5(e,n,a,r,h,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$V(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dl(e.type,a),o.props=u,c=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=$a(l):(l=To(n)?Sp:Es.current,l=O0(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==c||h!==l)&&u5(e,o,r,l),Of=!1,h=e.memoizedState,o.state=h,TE(e,r,o,i);var y=e.memoizedState;a!==c||h!==y||Eo.current||Of?(typeof g=="function"&&(WL(e,n,g,r),y=e.memoizedState),(u=Of||l5(e,n,u,r,h,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return YL(t,e,n,r,s,i)}function YL(t,e,n,r,i,s){S7(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&s5(e,n,!1),Mc(t,e,s);r=e.stateNode,Eue.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=F0(e,t.child,null,s),e.child=F0(e,null,a,s)):Ws(t,e,a,s),e.memoizedState=r.state,i&&s5(e,n,!0),e.child}function A7(t){var e=t.stateNode;e.pendingContext?i5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i5(t,e.context,!1),oB(t,e.containerInfo)}function w5(t,e,n,r,i){return k0(),sB(i),e.flags|=256,Ws(t,e,n,r),e.child}var Zb={dehydrated:null,treeContext:null,retryLane:0};function eS(t){return{baseLanes:t,cachePool:null,transitions:null}}function b5(t,e){return{baseLanes:t.baseLanes|e,cachePool:null,transitions:t.transitions}}function E7(t,e,n){var r=e.pendingProps,i=Sr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ir(Sr,i&1),t===null)return KL(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=i):s=kE(i,r,0,null),t=hp(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=eS(n),e.memoizedState=Zb,t):ZL(e,i));if(i=t.memoizedState,i!==null){if(a=i.dehydrated,a!==null){if(o)return e.flags&256?(e.flags&=-257,tS(t,e,n,Error(Ve(422)))):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kE({mode:"visible",children:r.children},i,0,null),s=hp(s,i,n,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&F0(e,t.child,null,n),e.child.memoizedState=eS(n),e.memoizedState=Zb,s);if((e.mode&1)===0)e=tS(t,e,n,null);else if(a.data==="$!")e=tS(t,e,n,Error(Ve(419)));else if(r=(n&t.childLanes)!==0,bo||r){if(r=wi,r!==null){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}r=(s&(r.suspendedLanes|n))!==0?0:s,r!==0&&r!==i.retryLane&&(i.retryLane=r,Ga(t,r,-1))}xB(),e=tS(t,e,n,Error(Ve(421)))}else a.data==="$?"?(e.flags|=128,e.child=t.child,e=Fue.bind(null,t),a._reactRetry=e,e=null):(n=i.treeContext,xo=mc(a.nextSibling),oa=e,pr=!0,gl=null,n!==null&&(ka[Fa++]=gc,ka[Fa++]=yc,ka[Fa++]=Ap,gc=n.id,yc=n.overflow,Ap=e),e=ZL(e,e.pendingProps.children),e.flags|=4096);return e}return s?(r=A5(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?eS(n):b5(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=Zb,r):(n=S5(t,e,r.children,n),e.memoizedState=null,n)}return s?(r=A5(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?eS(n):b5(i,n),s.childLanes=t.childLanes&~n,e.memoizedState=Zb,r):(n=S5(t,e,r.children,n),e.memoizedState=null,n)}function ZL(t,e){return e=kE({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function S5(t,e,n,r){var i=t.child;return t=i.sibling,n=ch(i,{mode:"visible",children:n}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n}function A5(t,e,n,r,i){var s=e.mode;t=t.child;var o=t.sibling,a={mode:"hidden",children:n};return(s&1)===0&&e.child!==t?(n=e.child,n.childLanes=0,n.pendingProps=a,e.deletions=null):(n=ch(t,a),n.subtreeFlags=t.subtreeFlags&14680064),o!==null?r=ch(o,r):(r=hp(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function tS(t,e,n,r){return r!==null&&sB(r),F0(e,t.child,null,n),t=ZL(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function E5(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),VL(t.return,e,n)}function rR(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function T7(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ws(t,e,r.children,n),r=Sr.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&E5(t,n,e);else if(t.tag===19)E5(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ir(Sr,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&RE(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rR(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&RE(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rR(e,!0,n,null,s);break;case"together":rR(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Tp|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(Ve(153));if(e.child!==null){for(t=e.child,n=ch(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ch(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Tue(t,e,n){switch(e.tag){case 3:A7(e),k0();break;case 5:JV(e);break;case 1:To(e.type)&&SE(e);break;case 4:oB(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ir(AE,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ir(Sr,Sr.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?E7(t,e,n):(ir(Sr,Sr.current&1),t=Mc(t,e,n),t!==null?t.sibling:null);ir(Sr,Sr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return T7(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ir(Sr,Sr.current),r)break;return null;case 22:case 23:return e.lanes=0,b7(t,e,n)}return Mc(t,e,n)}function Cue(t,e){switch(iB(e),e.tag){case 1:return To(e.type)&&bE(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return N0(),cr(Eo),cr(Es),lB(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return aB(e),null;case 13:if(cr(Sr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));k0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return cr(Sr),null;case 4:return N0(),null;case 10:return tB(e.type._context),null;case 22:case 23:return _B(),null;case 24:return null;default:return null}}var nS=!1,xs=!1,Mue=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Zg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Or(t,e,r)}else n.current=null}function eP(t,e,n){try{n()}catch(r){Or(t,e,r)}}var T5=!1;function Rue(t,e){if(NL=vE,t=PV(),YD(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,f=0,c=t,h=null;t:for(;;){for(var g;c!==n||i!==0&&c.nodeType!==3||(a=o+i),c!==s||r!==0&&c.nodeType!==3||(l=o+r),c.nodeType===3&&(o+=c.nodeValue.length),(g=c.firstChild)!==null;)h=c,c=g;for(;;){if(c===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++f===r&&(l=o),(g=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(UL={focusedElem:t,selectionRange:n},vE=!1,ht=e;ht!==null;)if(e=ht,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ht=t;else for(;ht!==null;){e=ht;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:dl(e.type,_),x);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var E=e.stateNode.containerInfo;if(E.nodeType===1)E.textContent="";else if(E.nodeType===9){var C=E.body;C!=null&&(C.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(M){Or(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,ht=t;break}ht=e.return}return y=T5,T5=!1,y}function r_(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&eP(e,n,s)}i=i.next}while(i!==r)}}function fC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tP(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function C7(t){var e=t.alternate;e!==null&&(t.alternate=null,C7(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fu],delete e[U_],delete e[zL],delete e[hue],delete e[due])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M7(t){return t.tag===5||t.tag===3||t.tag===4}function C5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M7(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wE));else if(r!==4&&(t=t.child,t!==null))for(nP(t,e,n),t=t.sibling;t!==null;)nP(t,e,n),t=t.sibling}function rP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rP(t,e,n),t=t.sibling;t!==null;)rP(t,e,n),t=t.sibling}var Qi=null,ml=!1;function wf(t,e,n){for(n=n.child;n!==null;)R7(t,e,n),n=n.sibling}function R7(t,e,n){if(vu&&typeof vu.onCommitFiberUnmount=="function")try{vu.onCommitFiberUnmount(rC,n)}catch{}switch(n.tag){case 5:xs||Zg(n,e);case 6:var r=Qi,i=ml;Qi=null,wf(t,e,n),Qi=r,ml=i,Qi!==null&&(ml?(t=Qi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qi.removeChild(n.stateNode));break;case 18:Qi!==null&&(ml?(t=Qi,n=n.stateNode,t.nodeType===8?X2(t.parentNode,n):t.nodeType===1&&X2(t,n),B_(t)):X2(Qi,n.stateNode));break;case 4:r=Qi,i=ml,Qi=n.stateNode.containerInfo,ml=!0,wf(t,e,n),Qi=r,ml=i;break;case 0:case 11:case 14:case 15:if(!xs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&eP(n,e,o),i=i.next}while(i!==r)}wf(t,e,n);break;case 1:if(!xs&&(Zg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Or(n,e,a)}wf(t,e,n);break;case 21:wf(t,e,n);break;case 22:n.mode&1?(xs=(r=xs)||n.memoizedState!==null,wf(t,e,n),xs=r):wf(t,e,n);break;default:wf(t,e,n)}}function M5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mue),e.forEach(function(r){var i=Nue.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function il(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qi=a.stateNode,ml=!1;break e;case 3:Qi=a.stateNode.containerInfo,ml=!0;break e;case 4:Qi=a.stateNode.containerInfo,ml=!0;break e}a=a.return}if(Qi===null)throw Error(Ve(160));R7(s,o,i),Qi=null,ml=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Or(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)I7(e,t),e=e.sibling}function I7(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(il(e,t),ru(t),r&4){try{r_(3,t,t.return),fC(3,t)}catch(y){Or(t,t.return,y)}try{r_(5,t,t.return)}catch(y){Or(t,t.return,y)}}break;case 1:il(e,t),ru(t),r&512&&n!==null&&Zg(n,n.return);break;case 5:if(il(e,t),ru(t),r&512&&n!==null&&Zg(n,n.return),t.flags&32){var i=t.stateNode;try{I_(i,"")}catch(y){Or(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Z$(i,s),ML(a,o);var u=ML(a,s);for(o=0;o<l.length;o+=2){var f=l[o],c=l[o+1];f==="style"?iV(i,c):f==="dangerouslySetInnerHTML"?nV(i,c):f==="children"?I_(i,c):UD(i,f,c,u)}switch(a){case"input":SL(i,s);break;case"textarea":eV(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?g0(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?g0(i,!!s.multiple,s.defaultValue,!0):g0(i,!!s.multiple,s.multiple?[]:"",!1))}i[U_]=s}catch(y){Or(t,t.return,y)}}break;case 6:if(il(e,t),ru(t),r&4){if(t.stateNode===null)throw Error(Ve(162));u=t.stateNode,f=t.memoizedProps;try{u.nodeValue=f}catch(y){Or(t,t.return,y)}}break;case 3:if(il(e,t),ru(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{B_(e.containerInfo)}catch(y){Or(t,t.return,y)}break;case 4:il(e,t),ru(t);break;case 13:il(e,t),ru(t),u=t.child,u.flags&8192&&u.memoizedState!==null&&(u.alternate===null||u.alternate.memoizedState===null)&&(yB=jr()),r&4&&M5(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xs=(f=xs)||u,il(e,t),xs=f):il(e,t),ru(t),r&8192){f=t.memoizedState!==null;e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rV("display",o))}catch(y){Or(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(y){Or(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}if(f&&!u&&(t.mode&1)!==0)for(ht=t,t=t.child;t!==null;){for(u=ht=t;ht!==null;){switch(f=ht,c=f.child,f.tag){case 0:case 11:case 14:case 15:r_(4,f,f.return);break;case 1:if(Zg(f,f.return),s=f.stateNode,typeof s.componentWillUnmount=="function"){h=f,g=f.return;try{i=h,s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(y){Or(h,g,y)}}break;case 5:Zg(f,f.return);break;case 22:if(f.memoizedState!==null){I5(u);continue}}c!==null?(c.return=f,ht=c):I5(u)}t=t.sibling}}break;case 19:il(e,t),ru(t),r&4&&M5(t);break;case 21:break;default:il(e,t),ru(t)}}function ru(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(M7(n)){var r=n;break e}n=n.return}throw Error(Ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(I_(i,""),r.flags&=-33);var s=C5(t);rP(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=C5(t);nP(t,a,o);break;default:throw Error(Ve(161))}}catch(l){Or(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Iue(t,e,n){ht=t,L7(t)}function L7(t,e,n){for(var r=(t.mode&1)!==0;ht!==null;){var i=ht,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nS;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xs;a=nS;var u=xs;if(nS=o,(xs=l)&&!u)for(ht=i;ht!==null;)o=ht,l=o.child,o.tag===22&&o.memoizedState!==null?L5(i):l!==null?(l.return=o,ht=l):L5(i);for(;s!==null;)ht=s,L7(s),s=s.sibling;ht=i,nS=a,xs=u}R5(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,ht=s):R5(t)}}function R5(t){for(;ht!==null;){var e=ht;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:xs||fC(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xs)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dl(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&a5(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}a5(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&B_(c)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(Ve(163))}xs||e.flags&512&&tP(e)}catch(h){Or(e,e.return,h)}}if(e===t){ht=null;break}if(n=e.sibling,n!==null){n.return=e.return,ht=n;break}ht=e.return}}function I5(t){for(;ht!==null;){var e=ht;if(e===t){ht=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ht=n;break}ht=e.return}}function L5(t){for(;ht!==null;){var e=ht;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fC(4,e)}catch(l){Or(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Or(e,i,l)}}var s=e.return;try{tP(e)}catch(l){Or(e,s,l)}break;case 5:var o=e.return;try{tP(e)}catch(l){Or(e,o,l)}}}catch(l){Or(e,e.return,l)}if(e===t){ht=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ht=a;break}ht=e.return}}var Lue=Math.ceil,PE=Oc.ReactCurrentDispatcher,mB=Oc.ReactCurrentOwner,Ha=Oc.ReactCurrentBatchConfig,Bn=0,wi=null,ai=null,es=0,ea=0,e0=Lh(0),_i=0,W_=null,Tp=0,hC=0,gB=0,i_=null,vo=null,yB=0,U0=1/0,fc=null,DE=!1,iP=null,nh=null,rS=!1,Kf=null,BE=0,s_=0,sP=null,PA=-1,DA=0;function Js(){return(Bn&6)!==0?jr():PA!==-1?PA:PA=jr()}function rh(t){return(t.mode&1)===0?1:(Bn&2)!==0&&es!==0?es&-es:mue.transition!==null?(DA===0&&(DA=gV()),DA):(t=Wn,t!==0||(t=window.event,t=t===void 0?16:SV(t.type)),t)}function Ga(t,e,n){if(50<s_)throw s_=0,sP=null,Error(Ve(185));var r=dC(t,e);return r===null?null:(Dx(r,e,n),((Bn&2)===0||r!==wi)&&(r===wi&&((Bn&2)===0&&(hC|=e),_i===4&&Hf(r,es)),Co(r,n),e===1&&Bn===0&&(t.mode&1)===0&&(U0=jr()+500,lC&&Ph())),r)}function dC(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function P7(t){return(wi!==null||wl!==null)&&(t.mode&1)!==0&&(Bn&2)===0}function Co(t,e){var n=t.callbackNode;mle(t,e);var r=yE(t,t===wi?es:0);if(r===0)n!==null&&F4(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&F4(n),e===1)t.tag===0?pue(P5.bind(null,t)):zV(P5.bind(null,t)),cue(function(){Bn===0&&Ph()}),n=null;else{switch(yV(r)){case 1:n=VD;break;case 4:n=pV;break;case 16:n=gE;break;case 536870912:n=mV;break;default:n=gE}n=H7(n,D7.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function D7(t,e){if(PA=-1,DA=0,(Bn&6)!==0)throw Error(Ve(327));var n=t.callbackNode;if(w0()&&t.callbackNode!==n)return null;var r=yE(t,t===wi?es:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=OE(t,r);else{e=r;var i=Bn;Bn|=2;var s=O7();(wi!==t||es!==e)&&(fc=null,U0=jr()+500,fp(t,e));do try{Bue();break}catch(a){B7(t,a)}while(1);eB(),PE.current=s,Bn=i,ai!==null?e=0:(wi=null,es=0,e=_i)}if(e!==0){if(e===2&&(i=DL(t),i!==0&&(r=i,e=oP(t,i))),e===1)throw n=W_,fp(t,0),Hf(t,r),Co(t,jr()),n;if(e===6)Hf(t,r);else{if(i=t.current.alternate,(r&30)===0&&!Pue(i)&&(e=OE(t,r),e===2&&(s=DL(t),s!==0&&(r=s,e=oP(t,s))),e===1))throw n=W_,fp(t,0),Hf(t,r),Co(t,jr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ve(345));case 2:Wd(t,vo,fc);break;case 3:if(Hf(t,r),(r&130023424)===r&&(e=yB+500-jr(),10<e)){if(yE(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Js(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=GL(Wd.bind(null,t,vo,fc),e);break}Wd(t,vo,fc);break;case 4:if(Hf(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sl(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=jr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Lue(r/1960))-r,10<r){t.timeoutHandle=GL(Wd.bind(null,t,vo,fc),r);break}Wd(t,vo,fc);break;case 5:Wd(t,vo,fc);break;default:throw Error(Ve(329))}}}return Co(t,jr()),t.callbackNode===n?D7.bind(null,t):null}function oP(t,e){var n=i_;return t.current.memoizedState.isDehydrated&&(fp(t,e).flags|=256),t=OE(t,e),t!==2&&(e=vo,vo=n,e!==null&&aP(e)),t}function aP(t){vo===null?vo=t:vo.push.apply(vo,t)}function Pue(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ml(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hf(t,e){for(e&=~gB,e&=~hC,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sl(e),r=1<<n;t[n]=-1,e&=~r}}function P5(t){if((Bn&6)!==0)throw Error(Ve(327));w0();var e=yE(t,0);if((e&1)===0)return Co(t,jr()),null;var n=OE(t,e);if(t.tag!==0&&n===2){var r=DL(t);r!==0&&(e=r,n=oP(t,r))}if(n===1)throw n=W_,fp(t,0),Hf(t,e),Co(t,jr()),n;if(n===6)throw Error(Ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wd(t,vo,fc),Co(t,jr()),null}function vB(t,e){var n=Bn;Bn|=1;try{return t(e)}finally{Bn=n,Bn===0&&(U0=jr()+500,lC&&Ph())}}function Cp(t){Kf!==null&&Kf.tag===0&&(Bn&6)===0&&w0();var e=Bn;Bn|=1;var n=Ha.transition,r=Wn;try{if(Ha.transition=null,Wn=1,t)return t()}finally{Wn=r,Ha.transition=n,Bn=e,(Bn&6)===0&&Ph()}}function _B(){ea=e0.current,cr(e0)}function fp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uue(n)),ai!==null)for(n=ai.return;n!==null;){var r=n;switch(iB(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bE();break;case 3:N0(),cr(Eo),cr(Es),lB();break;case 5:aB(r);break;case 4:N0();break;case 13:cr(Sr);break;case 19:cr(Sr);break;case 10:tB(r.type._context);break;case 22:case 23:_B()}n=n.return}if(wi=t,ai=t=ch(t.current,null),es=ea=e,_i=0,W_=null,gB=hC=Tp=0,vo=i_=null,wl!==null){for(e=0;e<wl.length;e++)if(n=wl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}wl=null}return t}function B7(t,e){do{var n=ai;try{if(eB(),IA.current=LE,IE){for(var r=Tr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}IE=!1}if(Ep=0,Fi=vi=Tr=null,n_=!1,z_=0,mB.current=null,n===null||n.return===null){_i=1,W_=e,ai=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=es,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=a,c=f.tag;if((f.mode&1)===0&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=g5(o);if(g!==null){g.flags&=-257,y5(g,o,a,s,e),g.mode&1&&m5(s,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if((e&1)===0){m5(s,u,e),xB();break e}l=Error(Ve(426))}}else if(pr&&a.mode&1){var x=g5(o);if(x!==null){(x.flags&65536)===0&&(x.flags|=256),y5(x,o,a,s,e),sB(l);break e}}s=l,_i!==4&&(_i=2),i_===null?i_=[s]:i_.push(s),l=pB(l,a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var w=g7(a,l,e);o5(a,w);break e;case 1:s=l;var b=a.type,E=a.stateNode;if((a.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(nh===null||!nh.has(E)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=y7(a,s,e);o5(a,C);break e}}a=a.return}while(a!==null)}F7(n)}catch(M){e=M,ai===n&&n!==null&&(ai=n=n.return);continue}break}while(1)}function O7(){var t=PE.current;return PE.current=LE,t===null?LE:t}function xB(){(_i===0||_i===3||_i===2)&&(_i=4),wi===null||(Tp&268435455)===0&&(hC&268435455)===0||Hf(wi,es)}function OE(t,e){var n=Bn;Bn|=2;var r=O7();(wi!==t||es!==e)&&(fc=null,fp(t,e));do try{Due();break}catch(i){B7(t,i)}while(1);if(eB(),Bn=n,PE.current=r,ai!==null)throw Error(Ve(261));return wi=null,es=0,_i}function Due(){for(;ai!==null;)k7(ai)}function Bue(){for(;ai!==null&&!ole();)k7(ai)}function k7(t){var e=U7(t.alternate,t,ea);t.memoizedProps=t.pendingProps,e===null?F7(t):ai=e,mB.current=null}function F7(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=Aue(n,e,ea),n!==null){ai=n;return}}else{if(n=Cue(n,e),n!==null){n.flags&=32767,ai=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_i=6,ai=null;return}}if(e=e.sibling,e!==null){ai=e;return}ai=e=t}while(e!==null);_i===0&&(_i=5)}function Wd(t,e,n){var r=Wn,i=Ha.transition;try{Ha.transition=null,Wn=1,Oue(t,e,n,r)}finally{Ha.transition=i,Wn=r}return null}function Oue(t,e,n,r){do w0();while(Kf!==null);if((Bn&6)!==0)throw Error(Ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ve(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(gle(t,s),t===wi&&(ai=wi=null,es=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||rS||(rS=!0,H7(gE,function(){return w0(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Ha.transition,Ha.transition=null;var o=Wn;Wn=1;var a=Bn;Bn|=4,mB.current=null,Rue(t,n),I7(n,t),nue(UL),vE=!!NL,UL=NL=null,t.current=n,Iue(n),ale(),Bn=a,Wn=o,Ha.transition=s}else t.current=n;if(rS&&(rS=!1,Kf=t,BE=i),s=t.pendingLanes,s===0&&(nh=null),cle(n.stateNode),Co(t,jr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)r(e[n]);if(DE)throw DE=!1,t=iP,iP=null,t;return(BE&1)!==0&&t.tag!==0&&w0(),s=t.pendingLanes,(s&1)!==0?t===sP?s_++:(s_=0,sP=t):s_=0,Ph(),null}function w0(){if(Kf!==null){var t=yV(BE),e=Ha.transition,n=Wn;try{if(Ha.transition=null,Wn=16>t?16:t,Kf===null)var r=!1;else{if(t=Kf,Kf=null,BE=0,(Bn&6)!==0)throw Error(Ve(331));var i=Bn;for(Bn|=4,ht=t.current;ht!==null;){var s=ht,o=s.child;if((ht.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ht=u;ht!==null;){var f=ht;switch(f.tag){case 0:case 11:case 15:r_(8,f,s)}var c=f.child;if(c!==null)c.return=f,ht=c;else for(;ht!==null;){f=ht;var h=f.sibling,g=f.return;if(C7(f),f===u){ht=null;break}if(h!==null){h.return=g,ht=h;break}ht=g}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}ht=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,ht=o;else e:for(;ht!==null;){if(s=ht,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:r_(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ht=w;break e}ht=s.return}}var b=t.current;for(ht=b;ht!==null;){o=ht;var E=o.child;if((o.subtreeFlags&2064)!==0&&E!==null)E.return=o,ht=E;else e:for(o=b;ht!==null;){if(a=ht,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:fC(9,a)}}catch(M){Or(a,a.return,M)}if(a===o){ht=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ht=C;break e}ht=a.return}}if(Bn=i,Ph(),vu&&typeof vu.onPostCommitFiberRoot=="function")try{vu.onPostCommitFiberRoot(rC,t)}catch{}r=!0}return r}finally{Wn=n,Ha.transition=e}}return!1}function D5(t,e,n){e=pB(n,e),e=g7(t,e,1),th(t,e),e=Js(),t=dC(t,1),t!==null&&(Dx(t,1,e),Co(t,e))}function Or(t,e,n){if(t.tag===3)D5(t,t,n);else for(;e!==null;){if(e.tag===3){D5(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nh===null||!nh.has(r))){t=pB(n,t),t=y7(e,t,1),th(e,t),t=Js(),e=dC(e,1),e!==null&&(Dx(e,1,t),Co(e,t));break}}e=e.return}}function kue(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Js(),t.pingedLanes|=t.suspendedLanes&n,wi===t&&(es&n)===n&&(_i===4||_i===3&&(es&130023424)===es&&500>jr()-yB?fp(t,0):gB|=n),Co(t,e)}function N7(t,e){e===0&&((t.mode&1)===0?e=1:(e=jb,jb<<=1,(jb&130023424)===0&&(jb=4194304)));var n=Js();t=dC(t,e),t!==null&&(Dx(t,e,n),Co(t,n))}function Fue(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N7(t,n)}function Nue(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ve(314))}r!==null&&r.delete(e),N7(t,n)}var U7;U7=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Eo.current)bo=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return bo=!1,Tue(t,e,n);bo=(t.flags&131072)!==0}else bo=!1,pr&&(e.flags&1048576)!==0&&jV(e,ME,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps;var i=O0(e,Es.current);x0(e,n),i=cB(null,e,r,t,i,n);var s=fB();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,To(r)?(s=!0,SE(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nB(e),i.updater=uC,e.stateNode=i,i._reactInternals=e,jL(e,r,t,n),e=YL(null,e,r,!0,s,n)):(e.tag=0,pr&&s&&rB(e),Ws(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Hue(r),t=dl(r,t),i){case 0:e=XL(null,e,r,t,n);break e;case 1:e=x5(null,e,r,t,n);break e;case 11:e=v5(null,e,r,t,n);break e;case 14:e=_5(null,e,r,dl(r.type,t),n);break e}throw Error(Ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dl(r,i),XL(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dl(r,i),x5(t,e,r,i,n);case 3:e:{if(A7(e),t===null)throw Error(Ve(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$V(t,e),TE(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Error(Ve(423)),e=w5(t,e,r,n,i);break e}else if(r!==i){i=Error(Ve(424)),e=w5(t,e,r,n,i);break e}else for(xo=mc(e.stateNode.containerInfo.firstChild),oa=e,pr=!0,gl=null,n=QV(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(k0(),r===i){e=Mc(t,e,n);break e}Ws(t,e,r,n)}e=e.child}return e;case 5:return JV(e),t===null&&KL(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,HL(r,i)?o=null:s!==null&&HL(r,s)&&(e.flags|=32),S7(t,e),Ws(t,e,o,n),e.child;case 6:return t===null&&KL(e),null;case 13:return E7(t,e,n);case 4:return oB(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=F0(e,null,r,n):Ws(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dl(r,i),v5(t,e,r,i,n);case 7:return Ws(t,e,e.pendingProps,n),e.child;case 8:return Ws(t,e,e.pendingProps.children,n),e.child;case 12:return Ws(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ir(AE,r._currentValue),r._currentValue=o,s!==null)if(Ml(s.value,o)){if(s.children===i.children&&!Eo.current){e=Mc(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bc(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),VL(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ve(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),VL(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ws(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,x0(e,n),i=$a(i),r=r(i),e.flags|=1,Ws(t,e,r,n),e.child;case 14:return r=e.type,i=dl(r,e.pendingProps),i=dl(r.type,i),_5(t,e,r,i,n);case 15:return w7(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dl(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,To(r)?(t=!0,SE(e)):t=!1,x0(e,n),WV(e,r,i),jL(e,r,i,n),YL(null,e,r,!0,t,n);case 19:return T7(t,e,n);case 22:return b7(t,e,n)}throw Error(Ve(156,e.tag))};function H7(t,e){return dV(t,e)}function Uue(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(t,e,n,r){return new Uue(t,e,n,r)}function wB(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hue(t){if(typeof t=="function")return wB(t)?1:0;if(t!=null){if(t=t.$$typeof,t===GD)return 11;if(t===zD)return 14}return 2}function ch(t,e){var n=t.alternate;return n===null?(n=Ua(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function BA(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")wB(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Vg:return hp(n.children,i,s,e);case HD:o=8,i|=8;break;case vL:return t=Ua(12,n,e,i|2),t.elementType=vL,t.lanes=s,t;case _L:return t=Ua(13,n,e,i),t.elementType=_L,t.lanes=s,t;case xL:return t=Ua(19,n,e,i),t.elementType=xL,t.lanes=s,t;case J$:return kE(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K$:o=10;break e;case Q$:o=9;break e;case GD:o=11;break e;case zD:o=14;break e;case Bf:o=16,r=null;break e}throw Error(Ve(130,t==null?t:typeof t,""))}return e=Ua(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function hp(t,e,n,r){return t=Ua(7,t,r,e),t.lanes=n,t}function kE(t,e,n,r){return t=Ua(22,t,r,e),t.elementType=J$,t.lanes=n,t.stateNode={},t}function iR(t,e,n){return t=Ua(6,t,null,e),t.lanes=n,t}function sR(t,e,n){return e=Ua(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Gue(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H2(0),this.expirationTimes=H2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bB(t,e,n,r,i,s,o,a,l){return t=new Gue(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ua(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nB(s),t}function zue(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$g,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function G7(t){if(!t)return uh;t=t._reactInternals;e:{if(Qp(t)!==t||t.tag!==1)throw Error(Ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(To(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(t.tag===1){var n=t.type;if(To(n))return GV(t,n,e)}return e}function z7(t,e,n,r,i,s,o,a,l){return t=bB(n,r,!0,t,i,s,o,a,l),t.context=G7(null),n=t.current,r=Js(),i=rh(n),s=bc(r,i),s.callback=e!=null?e:null,th(n,s),t.current.lanes=i,Dx(t,i,r),Co(t,r),t}function pC(t,e,n,r){var i=e.current,s=Js(),o=rh(i);return n=G7(n),e.context===null?e.context=n:e.pendingContext=n,e=bc(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),th(i,e),t=Ga(i,o,s),t!==null&&RA(t,i,o),o}function FE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function SB(t,e){B5(t,e),(t=t.alternate)&&B5(t,e)}function $ue(){return null}var $7=typeof reportError=="function"?reportError:function(t){console.error(t)};function AB(t){this._internalRoot=t}mC.prototype.render=AB.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ve(409));pC(t,e,null,null)};mC.prototype.unmount=AB.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cp(function(){pC(null,t,null,null)}),e[Cc]=null}};function mC(t){this._internalRoot=t}mC.prototype.unstable_scheduleHydration=function(t){if(t){var e=xV();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Uf.length&&e!==0&&e<Uf[n].priority;n++);Uf.splice(n,0,t),n===0&&bV(t)}};function EB(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O5(){}function Vue(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=FE(o);s.call(u)}}var o=z7(e,r,t,0,null,!1,!1,"",O5);return t._reactRootContainer=o,t[Cc]=o.current,F_(t.nodeType===8?t.parentNode:t),Cp(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=FE(l);a.call(u)}}var l=bB(t,0,!1,null,null,!1,!1,"",O5);return t._reactRootContainer=l,t[Cc]=l.current,F_(t.nodeType===8?t.parentNode:t),Cp(function(){pC(e,l,n,r)}),l}function yC(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=FE(o);a.call(l)}}pC(e,o,t,i)}else o=Vue(n,e,t,i,r);return FE(o)}vV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=N1(e.pendingLanes);n!==0&&(WD(e,n|1),Co(e,jr()),(Bn&6)===0&&(U0=jr()+500,Ph()))}break;case 13:var r=Js();Cp(function(){return Ga(t,1,r)}),SB(t,1)}};jD=function(t){if(t.tag===13){var e=Js();Ga(t,134217728,e),SB(t,134217728)}};_V=function(t){if(t.tag===13){var e=Js(),n=rh(t);Ga(t,n,e),SB(t,n)}};xV=function(){return Wn};wV=function(t,e){var n=Wn;try{return Wn=t,e()}finally{Wn=n}};IL=function(t,e,n){switch(e){case"input":if(SL(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=aC(r);if(!i)throw Error(Ve(90));Y$(r),SL(r,i)}}}break;case"textarea":eV(t,n);break;case"select":e=n.value,e!=null&&g0(t,!!n.multiple,e,!1)}};aV=vB;lV=Cp;var Wue={usingClientEntryPoint:!1,Events:[Ox,Kg,aC,sV,oV,vB]},p1={findFiberByHostInstance:np,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},jue={bundleType:p1.bundleType,version:p1.version,rendererPackageName:p1.rendererPackageName,rendererConfig:p1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fV(t),t===null?null:t.stateNode},findFiberByHostInstance:p1.findFiberByHostInstance||$ue,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iS.isDisabled&&iS.supportsFiber)try{rC=iS.inject(jue),vu=iS}catch{}}ga.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wue;ga.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!EB(e))throw Error(Ve(200));return zue(t,e,null,n)};ga.createRoot=function(t,e){if(!EB(t))throw Error(Ve(299));var n=!1,r="",i=$7;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bB(t,1,!1,null,null,n,!1,r,i),t[Cc]=e.current,F_(t.nodeType===8?t.parentNode:t),new AB(e)};ga.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ve(188)):(t=Object.keys(t).join(","),Error(Ve(268,t)));return t=fV(e),t=t===null?null:t.stateNode,t};ga.flushSync=function(t){return Cp(t)};ga.hydrate=function(t,e,n){if(!gC(e))throw Error(Ve(200));return yC(null,t,e,!0,n)};ga.hydrateRoot=function(t,e,n){if(!EB(t))throw Error(Ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=$7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=z7(e,null,t,1,n!=null?n:null,i,!1,s,o),t[Cc]=e.current,F_(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mC(e)};ga.render=function(t,e,n){if(!gC(e))throw Error(Ve(200));return yC(null,t,e,!1,n)};ga.unmountComponentAtNode=function(t){if(!gC(t))throw Error(Ve(40));return t._reactRootContainer?(Cp(function(){yC(null,null,t,!1,function(){t._reactRootContainer=null,t[Cc]=null})}),!0):!1};ga.unstable_batchedUpdates=vB;ga.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gC(n))throw Error(Ve(200));if(t==null||t._reactInternals===void 0)throw Error(Ve(38));return yC(t,e,n,!1,r)};ga.version="18.1.0-next-22edb9f77-20220426";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=ga})(kD);const que=by(kD.exports);var k5=kD.exports;gL.createRoot=k5.createRoot,gL.hydrateRoot=k5.hydrateRoot;function lP(t,e){return lP=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},lP(t,e)}function My(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lP(t,e)}var Ry=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),NE=typeof window>"u";function Ji(){}function Kue(t,e){return typeof t=="function"?t(e):t}function uP(t){return typeof t=="number"&&t>=0&&t!==1/0}function UE(t){return Array.isArray(t)?t:[t]}function V7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function OA(t,e,n){return Fx(t)?typeof e=="function"?fn({},n,{queryKey:t,queryFn:e}):fn({},e,{queryKey:t}):t}function Que(t,e,n){return Fx(t)?typeof e=="function"?fn({},n,{mutationKey:t,mutationFn:e}):fn({},e,{mutationKey:t}):typeof t=="function"?fn({},e,{mutationFn:t}):fn({},t)}function kf(t,e,n){return Fx(t)?[fn({},e,{queryKey:t}),n]:[t||{},e]}function Jue(t,e){if(t===!0&&e===!0||t==null&&e==null)return"all";if(t===!1&&e===!1)return"none";var n=t!=null?t:!e;return n?"active":"inactive"}function F5(t,e){var n=t.active,r=t.exact,i=t.fetching,s=t.inactive,o=t.predicate,a=t.queryKey,l=t.stale;if(Fx(a)){if(r){if(e.queryHash!==TB(a,e.options))return!1}else if(!HE(e.queryKey,a))return!1}var u=Jue(n,s);if(u==="none")return!1;if(u!=="all"){var f=e.isActive();if(u==="active"&&!f||u==="inactive"&&f)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof i=="boolean"&&e.isFetching()!==i||o&&!o(e))}function N5(t,e){var n=t.exact,r=t.fetching,i=t.predicate,s=t.mutationKey;if(Fx(s)){if(!e.options.mutationKey)return!1;if(n){if(ip(e.options.mutationKey)!==ip(s))return!1}else if(!HE(e.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function TB(t,e){var n=(e==null?void 0:e.queryKeyHashFn)||ip;return n(t)}function ip(t){var e=UE(t);return Xue(e)}function Xue(t){return JSON.stringify(t,function(e,n){return cP(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function HE(t,e){return W7(UE(t),UE(e))}function W7(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(function(n){return!W7(t[n],e[n])}):!1}function GE(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||cP(t)&&cP(e)){for(var r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{},a=0,l=0;l<s;l++){var u=n?l:i[l];o[u]=GE(t[u],e[u]),o[u]===t[u]&&a++}return r===s&&a===r?t:o}return e}function Yue(t,e){if(t&&!e||e&&!t)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}function cP(t){if(!U5(t))return!1;var e=t.constructor;if(typeof e>"u")return!0;var n=e.prototype;return!(!U5(n)||!n.hasOwnProperty("isPrototypeOf"))}function U5(t){return Object.prototype.toString.call(t)==="[object Object]"}function Fx(t){return typeof t=="string"||Array.isArray(t)}function Zue(t){return new Promise(function(e){setTimeout(e,t)})}function H5(t){Promise.resolve().then(t).catch(function(e){return setTimeout(function(){throw e})})}function j7(){if(typeof AbortController=="function")return new AbortController}var ece=function(t){My(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!NE&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Ry),o_=new ece,tce=function(t){My(e,t);function e(){var r;return r=t.call(this)||this,r.setup=function(i){var s;if(!NE&&((s=window)==null?void 0:s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Ry),kA=new tce;function nce(t){return Math.min(1e3*Math.pow(2,t),3e4)}function zE(t){return typeof(t==null?void 0:t.cancel)=="function"}var q7=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function FA(t){return t instanceof q7}var K7=function(e){var n=this,r=!1,i,s,o,a;this.abort=e.abort,this.cancel=function(h){return i==null?void 0:i(h)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s==null?void 0:s()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,g){o=h,a=g});var l=function(g){n.isResolved||(n.isResolved=!0,e.onSuccess==null||e.onSuccess(g),s==null||s(),o(g))},u=function(g){n.isResolved||(n.isResolved=!0,e.onError==null||e.onError(g),s==null||s(),a(g))},f=function(){return new Promise(function(g){s=g,n.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){s=void 0,n.isPaused=!1,e.onContinue==null||e.onContinue()})},c=function h(){if(!n.isResolved){var g;try{g=e.fn()}catch(y){g=Promise.reject(y)}i=function(_){if(!n.isResolved&&(u(new q7(_)),n.abort==null||n.abort(),zE(g)))try{g.cancel()}catch{}},n.isTransportCancelable=zE(g),Promise.resolve(g).then(l).catch(function(y){var _,x;if(!n.isResolved){var w=(_=e.retry)!=null?_:3,b=(x=e.retryDelay)!=null?x:nce,E=typeof b=="function"?b(n.failureCount,y):b,C=w===!0||typeof w=="number"&&n.failureCount<w||typeof w=="function"&&w(n.failureCount,y);if(r||!C){u(y);return}n.failureCount++,e.onFail==null||e.onFail(n.failureCount,y),Zue(E).then(function(){if(!o_.isFocused()||!kA.isOnline())return f()}).then(function(){r?u(y):h()})}})}};c()},rce=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var e=t.prototype;return e.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},e.schedule=function(r){var i=this;this.transactions?this.queue.push(r):H5(function(){i.notifyFn(r)})},e.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},e.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&H5(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},t}(),dr=new rce,Q7=console;function $E(){return Q7}function ice(t){Q7=t}var sce=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(r){var i;this.options=fn({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),uP(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,i){var s,o,a=this.state.data,l=Kue(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,l)?l=a:this.options.structuralSharing!==!1&&(l=GE(a,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},e.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},e.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(Ji).catch(Ji):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!V7(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,i){var s=this,o,a,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i==null?void 0:i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var f=this.observers.find(function(b){return b.options.queryFn});f&&this.setOptions(f.options)}var c=UE(this.queryKey),h=j7(),g={queryKey:c,pageParam:void 0,meta:this.meta};Object.defineProperty(g,"signal",{enumerable:!0,get:function(){if(h)return s.abortSignalConsumed=!0,h.signal}});var y=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(g)):Promise.reject("Missing queryFn")},_={fetchOptions:i,options:this.options,queryKey:c,state:this.state,fetchFn:y,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var x;(x=this.options.behavior)==null||x.onFetch(_)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=_.fetchOptions)==null?void 0:a.meta)){var w;this.dispatch({type:"fetch",meta:(w=_.fetchOptions)==null?void 0:w.meta})}return this.retryer=new K7({fn:_.fetchFn,abort:h==null||(l=h.abort)==null?void 0:l.bind(h),onSuccess:function(E){s.setData(E),s.cache.config.onSuccess==null||s.cache.config.onSuccess(E,s),s.cacheTime===0&&s.optionalRemove()},onError:function(E){FA(E)&&E.silent||s.dispatch({type:"error",error:E}),FA(E)||(s.cache.config.onError==null||s.cache.config.onError(E,s),$E().error(E)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),dr.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o!=null?o:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},e.reducer=function(r,i){var s,o;switch(i.type){case"failed":return fn({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return fn({},r,{isPaused:!0});case"continue":return fn({},r,{isPaused:!1});case"fetch":return fn({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return fn({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return FA(a)&&a.revert&&this.revertState?fn({},this.revertState):fn({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return fn({},r,{isInvalidated:!0});case"setState":return fn({},r,i.state);default:return r}},t}(),oce=function(t){My(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=e.prototype;return n.build=function(i,s,o){var a,l=s.queryKey,u=(a=s.queryHash)!=null?a:TB(l,s),f=this.get(u);return f||(f=new sce({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(l),meta:s.meta}),this.add(f)),f},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;dr.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=kf(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(l){return F5(a,l)})},n.findAll=function(i,s){var o=kf(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(l){return F5(a,l)}):this.queries},n.notify=function(i){var s=this;dr.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;dr.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;dr.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},e}(Ry),ace=function(){function t(n){this.options=fn({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||J7(),this.meta=n.meta}var e=t.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Ji).catch(Ji)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),$E().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},e.executeMutation=function(){var r=this,i;return this.retryer=new K7({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var i=this;this.state=lce(this.state,r),dr.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},t}();function J7(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function lce(t,e){switch(e.type){case"failed":return fn({},t,{failureCount:t.failureCount+1});case"pause":return fn({},t,{isPaused:!0});case"continue":return fn({},t,{isPaused:!1});case"loading":return fn({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return fn({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return fn({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return fn({},t,e.state);default:return t}}var uce=function(t){My(e,t);function e(r){var i;return i=t.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=e.prototype;return n.build=function(i,s,o){var a=new ace({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;dr.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return N5(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return N5(i,s)})},n.notify=function(i){var s=this;dr.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return dr.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(Ji)})},Promise.resolve())})},e}(Ry);function cce(){return{onFetch:function(e){e.fetchFn=function(){var n,r,i,s,o,a,l=(n=e.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(i=e.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,f=u==null?void 0:u.pageParam,c=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",g=((o=e.state.data)==null?void 0:o.pages)||[],y=((a=e.state.data)==null?void 0:a.pageParams)||[],_=j7(),x=_==null?void 0:_.signal,w=y,b=!1,E=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},C=function(F,Y,H,ee){return w=ee?[Y].concat(w):[].concat(w,[Y]),ee?[H].concat(F):[].concat(F,[H])},M=function(F,Y,H,ee){if(b)return Promise.reject("Cancelled");if(typeof H>"u"&&!Y&&F.length)return Promise.resolve(F);var k={queryKey:e.queryKey,signal:x,pageParam:H,meta:e.meta},G=E(k),$=Promise.resolve(G).then(function(ue){return C(F,H,ue,ee)});if(zE(G)){var ie=$;ie.cancel=G.cancel}return $},P;if(!g.length)P=M([]);else if(c){var D=typeof f<"u",L=D?f:G5(e.options,g);P=M(g,D,L)}else if(h){var O=typeof f<"u",q=O?f:fce(e.options,g);P=M(g,O,q,!0)}else(function(){w=[];var le=typeof e.options.getNextPageParam>"u",F=l&&g[0]?l(g[0],0,g):!0;P=F?M([],le,y[0]):Promise.resolve(C([],y[0],g[0]));for(var Y=function(k){P=P.then(function(G){var $=l&&g[k]?l(g[k],k,g):!0;if($){var ie=le?y[k]:G5(e.options,G);return M(G,le,ie)}return Promise.resolve(C(G,y[k],g[k]))})},H=1;H<g.length;H++)Y(H)})();var j=P.then(function(le){return{pages:le,pageParams:w}}),oe=j;return oe.cancel=function(){b=!0,_==null||_.abort(),zE(P)&&P.cancel()},j}}}}function G5(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function fce(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}var X7=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new oce,this.mutationCache=n.mutationCache||new uce,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=o_.subscribe(function(){o_.isFocused()&&kA.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=kA.subscribe(function(){o_.isFocused()&&kA.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},e.isFetching=function(r,i){var s=kf(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},e.isMutating=function(r){return this.mutationCache.findAll(fn({},r,{fetching:!0})).length},e.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},e.setQueryData=function(r,i,s){var o=OA(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},e.setQueriesData=function(r,i,s){var o=this;return dr.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var l=a.queryKey;return[l,o.setQueryData(l,i,s)]})})},e.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},e.removeQueries=function(r,i){var s=kf(r,i),o=s[0],a=this.queryCache;dr.batch(function(){a.findAll(o).forEach(function(l){a.remove(l)})})},e.resetQueries=function(r,i,s){var o=this,a=kf(r,i,s),l=a[0],u=a[1],f=this.queryCache,c=fn({},l,{active:!0});return dr.batch(function(){return f.findAll(l).forEach(function(h){h.reset()}),o.refetchQueries(c,u)})},e.cancelQueries=function(r,i,s){var o=this,a=kf(r,i,s),l=a[0],u=a[1],f=u===void 0?{}:u;typeof f.revert>"u"&&(f.revert=!0);var c=dr.batch(function(){return o.queryCache.findAll(l).map(function(h){return h.cancel(f)})});return Promise.all(c).then(Ji).catch(Ji)},e.invalidateQueries=function(r,i,s){var o,a,l,u=this,f=kf(r,i,s),c=f[0],h=f[1],g=fn({},c,{active:(o=(a=c.refetchActive)!=null?a:c.active)!=null?o:!0,inactive:(l=c.refetchInactive)!=null?l:!1});return dr.batch(function(){return u.queryCache.findAll(c).forEach(function(y){y.invalidate()}),u.refetchQueries(g,h)})},e.refetchQueries=function(r,i,s){var o=this,a=kf(r,i,s),l=a[0],u=a[1],f=dr.batch(function(){return o.queryCache.findAll(l).map(function(h){return h.fetch(void 0,fn({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),c=Promise.all(f).then(Ji);return u!=null&&u.throwOnError||(c=c.catch(Ji)),c},e.fetchQuery=function(r,i,s){var o=OA(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var l=this.queryCache.build(this,a);return l.isStaleByTime(a.staleTime)?l.fetch(a):Promise.resolve(l.state.data)},e.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(Ji).catch(Ji)},e.fetchInfiniteQuery=function(r,i,s){var o=OA(r,i,s);return o.behavior=cce(),this.fetchQuery(o)},e.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(Ji).catch(Ji)},e.cancelMutations=function(){var r=this,i=dr.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(Ji).catch(Ji)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return ip(r)===ip(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},e.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return HE(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},e.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return ip(r)===ip(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},e.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return HE(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=fn({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=TB(i.queryKey,i)),i},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:fn({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),hce=function(t){My(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=e.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),z5(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return fP(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return fP(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var l=this.hasListeners();l&&$5(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==a||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var o=this,a={},l=function(f){o.trackedProps.includes(f)||o.trackedProps.push(f)};return Object.keys(i).forEach(function(u){Object.defineProperty(a,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(s.useErrorBoundary||s.suspense)&&l("error"),a},n.getNextResult=function(i){var s=this;return new Promise(function(o,a){var l=s.subscribe(function(u){u.isFetching||(l(),u.isError&&(i==null?void 0:i.throwOnError)?a(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(fn({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(s=s.catch(Ji)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(NE||this.currentResult.isStale||!uP(this.options.staleTime))){var s=V7(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(NE||this.options.enabled===!1||!uP(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||o_.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},n.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},n.createResult=function(i,s){var o=this.currentQuery,a=this.options,l=this.currentResult,u=this.currentResultState,f=this.currentResultOptions,c=i!==o,h=c?i.state:this.currentQueryInitialState,g=c?this.currentResult:this.previousQueryResult,y=i.state,_=y.dataUpdatedAt,x=y.error,w=y.errorUpdatedAt,b=y.isFetching,E=y.status,C=!1,M=!1,P;if(s.optimisticResults){var D=this.hasListeners(),L=!D&&z5(i,s),O=D&&$5(i,o,s,a);(L||O)&&(b=!0,_||(E="loading"))}if(s.keepPreviousData&&!y.dataUpdateCount&&(g==null?void 0:g.isSuccess)&&E!=="error")P=g.data,_=g.dataUpdatedAt,E=g.status,C=!0;else if(s.select&&typeof y.data<"u")if(l&&y.data===(u==null?void 0:u.data)&&s.select===this.selectFn)P=this.selectResult;else try{this.selectFn=s.select,P=s.select(y.data),s.structuralSharing!==!1&&(P=GE(l==null?void 0:l.data,P)),this.selectResult=P,this.selectError=null}catch(oe){$E().error(oe),this.selectError=oe}else P=y.data;if(typeof s.placeholderData<"u"&&typeof P>"u"&&(E==="loading"||E==="idle")){var q;if((l==null?void 0:l.isPlaceholderData)&&s.placeholderData===(f==null?void 0:f.placeholderData))q=l.data;else if(q=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof q<"u")try{q=s.select(q),s.structuralSharing!==!1&&(q=GE(l==null?void 0:l.data,q)),this.selectError=null}catch(oe){$E().error(oe),this.selectError=oe}typeof q<"u"&&(E="success",P=q,M=!0)}this.selectError&&(x=this.selectError,P=this.selectResult,w=Date.now(),E="error");var j={status:E,isLoading:E==="loading",isSuccess:E==="success",isError:E==="error",isIdle:E==="idle",data:P,dataUpdatedAt:_,error:x,errorUpdatedAt:w,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&E!=="loading",isLoadingError:E==="error"&&y.dataUpdatedAt===0,isPlaceholderData:M,isPreviousData:C,isRefetchError:E==="error"&&y.dataUpdatedAt!==0,isStale:CB(i,s),refetch:this.refetch,remove:this.remove};return j},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,l=o.notifyOnChangePropsExclusions;if(!a&&!l||a==="tracked"&&!this.trackedProps.length)return!0;var u=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(f){var c=f,h=i[c]!==s[c],g=u==null?void 0:u.some(function(_){return _===f}),y=l==null?void 0:l.some(function(_){return _===f});return h&&!y&&(!u||g)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Yue(this.currentResult,s)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(fn({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!FA(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;dr.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},e}(Ry);function dce(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function z5(t,e){return dce(t,e)||t.state.dataUpdatedAt>0&&fP(t,e,e.refetchOnMount)}function fP(t,e,n){if(e.enabled!==!1){var r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&CB(t,e)}return!1}function $5(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&CB(t,n)}function CB(t,e){return t.isStaleByTime(e.staleTime)}var pce=function(t){My(e,t);function e(r,i){var s;return s=t.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var n=e.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},n.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},n.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,fn({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:J7(),s=fn({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},n.notify=function(i){var s=this;dr.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},e}(Ry),mce=que.unstable_batchedUpdates;dr.setBatchNotifyFunction(mce);var gce=console;ice(gce);var V5=ut.createContext(void 0),Y7=ut.createContext(!1);function Z7(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=V5),window.ReactQueryClientContext):V5}var eW=function(){var e=ut.useContext(Z7(ut.useContext(Y7)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tW=function(e){var n=e.client,r=e.contextSharing,i=r===void 0?!1:r,s=e.children;ut.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=Z7(i);return W(Y7.Provider,{value:i,children:W(o.Provider,{value:n,children:s})})};function yce(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var vce=ut.createContext(yce()),_ce=function(){return ut.useContext(vce)};function nW(t,e,n){return typeof e=="function"?e.apply(void 0,n):typeof e=="boolean"?e:!!t}function ih(t,e,n){var r=ut.useRef(!1),i=ut.useState(0),s=i[1],o=Que(t,e,n),a=eW(),l=ut.useRef();l.current?l.current.setOptions(o):l.current=new pce(a,o);var u=l.current.getCurrentResult();ut.useEffect(function(){r.current=!0;var c=l.current.subscribe(dr.batchCalls(function(){r.current&&s(function(h){return h+1})}));return function(){r.current=!1,c()}},[]);var f=ut.useCallback(function(c,h){l.current.mutate(c,h).catch(Ji)},[]);if(u.error&&nW(void 0,l.current.options.useErrorBoundary,[u.error]))throw u.error;return fn({},u,{mutate:f,mutateAsync:u.mutate})}function xce(t,e){var n=ut.useRef(!1),r=ut.useState(0),i=r[1],s=eW(),o=_ce(),a=s.defaultQueryObserverOptions(t);a.optimisticResults=!0,a.onError&&(a.onError=dr.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=dr.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=dr.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var l=ut.useState(function(){return new e(s,a)}),u=l[0],f=u.getOptimisticResult(a);if(ut.useEffect(function(){n.current=!0,o.clearReset();var c=u.subscribe(dr.batchCalls(function(){n.current&&i(function(h){return h+1})}));return u.updateResult(),function(){n.current=!1,c()}},[o,u]),ut.useEffect(function(){u.setOptions(a,{listeners:!1})},[a,u]),a.suspense&&f.isLoading)throw u.fetchOptimistic(a).then(function(c){var h=c.data;a.onSuccess==null||a.onSuccess(h),a.onSettled==null||a.onSettled(h,null)}).catch(function(c){o.clearReset(),a.onError==null||a.onError(c),a.onSettled==null||a.onSettled(void 0,c)});if(f.isError&&!o.isReset()&&!f.isFetching&&nW(a.suspense,a.useErrorBoundary,[f.error,u.getCurrentQuery()]))throw f.error;return a.notifyOnChangeProps==="tracked"&&(f=u.trackResult(f,a)),f}function ca(t,e,n){var r=OA(t,e,n);return xce(r,hce)}const bl={dark:{text:"white",bg:"black",city:"#6e00ff"},light:{text:"#ffaccf",city:"#aa013c",bg:"#775d77"}},m1={"::selection":{background:"text",color:"background"}},wce=t=>({fonts:{body:"monospace",heading:'"Avenir Next", sans-serif',monospace:"monospace"},colors:{green:"#2d8041",orange:"#ff6600",red:"red",blue:"#0131B1",purple:"#b34d63",pinkpurple:"#ff14ad",gray:{100:"rgba(255, 255, 255, 0.2)"},modes:{dark:{...t.dark}},...t.light},fontSizes:{shell:["12px","14px","16px"]},config:{initialColorModeName:"light"},space:{gutter:["8px 8px","20px 20px"]},buttons:{primary:{color:"background",backgroundColor:"text",fontFamily:"monospace","&:hover":{cursor:"pointer"}}},styles:{root:{fontFamily:"body",height:"100%",a:{...m1,color:"text"},button:{...m1,background:"none",color:"inherit",border:"none",padding:"0",font:"inherit",cursor:"pointer",outline:"inherit","div *":{}},span:{...m1},p:{...m1,marginBlock:"unset",py:0,color:"body",fontFamily:"body"},input:{...m1,border:"none",outline:"none",fontSize:["12px","14px","16px"],background:"none",fontFamily:"monospace",placeholder:"_input",padding:0,width:"100%",borderRadius:"0",WebkitAppearance:"none",color:"text",mr:"20px","::placeholder":{color:"text"}}}}});var Na={},Nx={},bce=typeof _n=="object"&&_n&&_n.Object===Object&&_n,rW=bce,Sce=rW,Ace=typeof self=="object"&&self&&self.Object===Object&&self,Ece=Sce||Ace||Function("return this")(),Fu=Ece,Tce=Fu,Cce=Tce.Symbol,Ux=Cce,W5=Ux,iW=Object.prototype,Mce=iW.hasOwnProperty,Rce=iW.toString,g1=W5?W5.toStringTag:void 0;function Ice(t){var e=Mce.call(t,g1),n=t[g1];try{t[g1]=void 0;var r=!0}catch{}var i=Rce.call(t);return r&&(e?t[g1]=n:delete t[g1]),i}var Lce=Ice,Pce=Object.prototype,Dce=Pce.toString;function Bce(t){return Dce.call(t)}var Oce=Bce,j5=Ux,kce=Lce,Fce=Oce,Nce="[object Null]",Uce="[object Undefined]",q5=j5?j5.toStringTag:void 0;function Hce(t){return t==null?t===void 0?Uce:Nce:q5&&q5 in Object(t)?kce(t):Fce(t)}var Jp=Hce,Gce=Array.isArray,Ll=Gce;function zce(t){return t!=null&&typeof t=="object"}var kc=zce,$ce=Jp,Vce=Ll,Wce=kc,jce="[object String]";function qce(t){return typeof t=="string"||!Vce(t)&&Wce(t)&&$ce(t)==jce}var Kce=qce;function Qce(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Jce=Qce,Xce=Jce,Yce=Xce(),Zce=Yce;function efe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var tfe=efe,nfe=Jp,rfe=kc,ife="[object Arguments]";function sfe(t){return rfe(t)&&nfe(t)==ife}var ofe=sfe,K5=ofe,afe=kc,sW=Object.prototype,lfe=sW.hasOwnProperty,ufe=sW.propertyIsEnumerable,cfe=K5(function(){return arguments}())?K5:function(t){return afe(t)&&lfe.call(t,"callee")&&!ufe.call(t,"callee")},oW=cfe,j_={exports:{}};function ffe(){return!1}var hfe=ffe;(function(t,e){var n=Fu,r=hfe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(j_,j_.exports);var dfe=9007199254740991,pfe=/^(?:0|[1-9]\d*)$/;function mfe(t,e){var n=typeof t;return e=e==null?dfe:e,!!e&&(n=="number"||n!="symbol"&&pfe.test(t))&&t>-1&&t%1==0&&t<e}var aW=mfe,gfe=9007199254740991;function yfe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gfe}var MB=yfe,vfe=Jp,_fe=MB,xfe=kc,wfe="[object Arguments]",bfe="[object Array]",Sfe="[object Boolean]",Afe="[object Date]",Efe="[object Error]",Tfe="[object Function]",Cfe="[object Map]",Mfe="[object Number]",Rfe="[object Object]",Ife="[object RegExp]",Lfe="[object Set]",Pfe="[object String]",Dfe="[object WeakMap]",Bfe="[object ArrayBuffer]",Ofe="[object DataView]",kfe="[object Float32Array]",Ffe="[object Float64Array]",Nfe="[object Int8Array]",Ufe="[object Int16Array]",Hfe="[object Int32Array]",Gfe="[object Uint8Array]",zfe="[object Uint8ClampedArray]",$fe="[object Uint16Array]",Vfe="[object Uint32Array]",ar={};ar[kfe]=ar[Ffe]=ar[Nfe]=ar[Ufe]=ar[Hfe]=ar[Gfe]=ar[zfe]=ar[$fe]=ar[Vfe]=!0;ar[wfe]=ar[bfe]=ar[Bfe]=ar[Sfe]=ar[Ofe]=ar[Afe]=ar[Efe]=ar[Tfe]=ar[Cfe]=ar[Mfe]=ar[Rfe]=ar[Ife]=ar[Lfe]=ar[Pfe]=ar[Dfe]=!1;function Wfe(t){return xfe(t)&&_fe(t.length)&&!!ar[vfe(t)]}var jfe=Wfe;function qfe(t){return function(e){return t(e)}}var RB=qfe,q_={exports:{}};(function(t,e){var n=rW,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(q_,q_.exports);var Kfe=jfe,Qfe=RB,Q5=q_.exports,J5=Q5&&Q5.isTypedArray,Jfe=J5?Qfe(J5):Kfe,lW=Jfe,Xfe=tfe,Yfe=oW,Zfe=Ll,ehe=j_.exports,the=aW,nhe=lW,rhe=Object.prototype,ihe=rhe.hasOwnProperty;function she(t,e){var n=Zfe(t),r=!n&&Yfe(t),i=!n&&!r&&ehe(t),s=!n&&!r&&!i&&nhe(t),o=n||r||i||s,a=o?Xfe(t.length,String):[],l=a.length;for(var u in t)(e||ihe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||the(u,l)))&&a.push(u);return a}var uW=she,ohe=Object.prototype;function ahe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ohe;return t===n}var IB=ahe;function lhe(t,e){return function(n){return t(e(n))}}var cW=lhe,uhe=cW,che=uhe(Object.keys,Object),fhe=che,hhe=IB,dhe=fhe,phe=Object.prototype,mhe=phe.hasOwnProperty;function ghe(t){if(!hhe(t))return dhe(t);var e=[];for(var n in Object(t))mhe.call(t,n)&&n!="constructor"&&e.push(n);return e}var yhe=ghe;function vhe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Iy=vhe,_he=Jp,xhe=Iy,whe="[object AsyncFunction]",bhe="[object Function]",She="[object GeneratorFunction]",Ahe="[object Proxy]";function Ehe(t){if(!xhe(t))return!1;var e=_he(t);return e==bhe||e==She||e==whe||e==Ahe}var fW=Ehe,The=fW,Che=MB;function Mhe(t){return t!=null&&Che(t.length)&&!The(t)}var vC=Mhe,Rhe=uW,Ihe=yhe,Lhe=vC;function Phe(t){return Lhe(t)?Rhe(t):Ihe(t)}var Hx=Phe,Dhe=Zce,Bhe=Hx;function Ohe(t,e){return t&&Dhe(t,e,Bhe)}var hW=Ohe;function khe(t){return t}var dW=khe,Fhe=dW;function Nhe(t){return typeof t=="function"?t:Fhe}var Uhe=Nhe,Hhe=hW,Ghe=Uhe;function zhe(t,e){return t&&Hhe(t,Ghe(e))}var LB=zhe,$he=cW,Vhe=$he(Object.getPrototypeOf,Object),PB=Vhe,Whe=Jp,jhe=PB,qhe=kc,Khe="[object Object]",Qhe=Function.prototype,Jhe=Object.prototype,pW=Qhe.toString,Xhe=Jhe.hasOwnProperty,Yhe=pW.call(Object);function Zhe(t){if(!qhe(t)||Whe(t)!=Khe)return!1;var e=jhe(t);if(e===null)return!0;var n=Xhe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&pW.call(n)==Yhe}var ede=Zhe;function tde(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var mW=tde;function nde(){this.__data__=[],this.size=0}var rde=nde;function ide(t,e){return t===e||t!==t&&e!==e}var DB=ide,sde=DB;function ode(t,e){for(var n=t.length;n--;)if(sde(t[n][0],e))return n;return-1}var _C=ode,ade=_C,lde=Array.prototype,ude=lde.splice;function cde(t){var e=this.__data__,n=ade(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ude.call(e,n,1),--this.size,!0}var fde=cde,hde=_C;function dde(t){var e=this.__data__,n=hde(e,t);return n<0?void 0:e[n][1]}var pde=dde,mde=_C;function gde(t){return mde(this.__data__,t)>-1}var yde=gde,vde=_C;function _de(t,e){var n=this.__data__,r=vde(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var xde=_de,wde=rde,bde=fde,Sde=pde,Ade=yde,Ede=xde;function Ly(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ly.prototype.clear=wde;Ly.prototype.delete=bde;Ly.prototype.get=Sde;Ly.prototype.has=Ade;Ly.prototype.set=Ede;var xC=Ly,Tde=xC;function Cde(){this.__data__=new Tde,this.size=0}var Mde=Cde;function Rde(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Ide=Rde;function Lde(t){return this.__data__.get(t)}var Pde=Lde;function Dde(t){return this.__data__.has(t)}var Bde=Dde,Ode=Fu,kde=Ode["__core-js_shared__"],Fde=kde,oR=Fde,X5=function(){var t=/[^.]+$/.exec(oR&&oR.keys&&oR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Nde(t){return!!X5&&X5 in t}var Ude=Nde,Hde=Function.prototype,Gde=Hde.toString;function zde(t){if(t!=null){try{return Gde.call(t)}catch{}try{return t+""}catch{}}return""}var gW=zde,$de=fW,Vde=Ude,Wde=Iy,jde=gW,qde=/[\\^$.*+?()[\]{}|]/g,Kde=/^\[object .+?Constructor\]$/,Qde=Function.prototype,Jde=Object.prototype,Xde=Qde.toString,Yde=Jde.hasOwnProperty,Zde=RegExp("^"+Xde.call(Yde).replace(qde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function epe(t){if(!Wde(t)||Vde(t))return!1;var e=$de(t)?Zde:Kde;return e.test(jde(t))}var tpe=epe;function npe(t,e){return t==null?void 0:t[e]}var rpe=npe,ipe=tpe,spe=rpe;function ope(t,e){var n=spe(t,e);return ipe(n)?n:void 0}var Xp=ope,ape=Xp,lpe=Fu,upe=ape(lpe,"Map"),BB=upe,cpe=Xp,fpe=cpe(Object,"create"),wC=fpe,Y5=wC;function hpe(){this.__data__=Y5?Y5(null):{},this.size=0}var dpe=hpe;function ppe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mpe=ppe,gpe=wC,ype="__lodash_hash_undefined__",vpe=Object.prototype,_pe=vpe.hasOwnProperty;function xpe(t){var e=this.__data__;if(gpe){var n=e[t];return n===ype?void 0:n}return _pe.call(e,t)?e[t]:void 0}var wpe=xpe,bpe=wC,Spe=Object.prototype,Ape=Spe.hasOwnProperty;function Epe(t){var e=this.__data__;return bpe?e[t]!==void 0:Ape.call(e,t)}var Tpe=Epe,Cpe=wC,Mpe="__lodash_hash_undefined__";function Rpe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cpe&&e===void 0?Mpe:e,this}var Ipe=Rpe,Lpe=dpe,Ppe=mpe,Dpe=wpe,Bpe=Tpe,Ope=Ipe;function Py(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Py.prototype.clear=Lpe;Py.prototype.delete=Ppe;Py.prototype.get=Dpe;Py.prototype.has=Bpe;Py.prototype.set=Ope;var kpe=Py,Z5=kpe,Fpe=xC,Npe=BB;function Upe(){this.size=0,this.__data__={hash:new Z5,map:new(Npe||Fpe),string:new Z5}}var Hpe=Upe;function Gpe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var zpe=Gpe,$pe=zpe;function Vpe(t,e){var n=t.__data__;return $pe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var bC=Vpe,Wpe=bC;function jpe(t){var e=Wpe(this,t).delete(t);return this.size-=e?1:0,e}var qpe=jpe,Kpe=bC;function Qpe(t){return Kpe(this,t).get(t)}var Jpe=Qpe,Xpe=bC;function Ype(t){return Xpe(this,t).has(t)}var Zpe=Ype,eme=bC;function tme(t,e){var n=eme(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var nme=tme,rme=Hpe,ime=qpe,sme=Jpe,ome=Zpe,ame=nme;function Dy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Dy.prototype.clear=rme;Dy.prototype.delete=ime;Dy.prototype.get=sme;Dy.prototype.has=ome;Dy.prototype.set=ame;var OB=Dy,lme=xC,ume=BB,cme=OB,fme=200;function hme(t,e){var n=this.__data__;if(n instanceof lme){var r=n.__data__;if(!ume||r.length<fme-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cme(r)}return n.set(t,e),this.size=n.size,this}var dme=hme,pme=xC,mme=Mde,gme=Ide,yme=Pde,vme=Bde,_me=dme;function By(t){var e=this.__data__=new pme(t);this.size=e.size}By.prototype.clear=mme;By.prototype.delete=gme;By.prototype.get=yme;By.prototype.has=vme;By.prototype.set=_me;var kB=By,xme="__lodash_hash_undefined__";function wme(t){return this.__data__.set(t,xme),this}var bme=wme;function Sme(t){return this.__data__.has(t)}var Ame=Sme,Eme=OB,Tme=bme,Cme=Ame;function VE(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Eme;++e<n;)this.add(t[e])}VE.prototype.add=VE.prototype.push=Tme;VE.prototype.has=Cme;var Mme=VE;function Rme(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ime=Rme;function Lme(t,e){return t.has(e)}var Pme=Lme,Dme=Mme,Bme=Ime,Ome=Pme,kme=1,Fme=2;function Nme(t,e,n,r,i,s){var o=n&kme,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),f=s.get(e);if(u&&f)return u==e&&f==t;var c=-1,h=!0,g=n&Fme?new Dme:void 0;for(s.set(t,e),s.set(e,t);++c<a;){var y=t[c],_=e[c];if(r)var x=o?r(_,y,c,e,t,s):r(y,_,c,t,e,s);if(x!==void 0){if(x)continue;h=!1;break}if(g){if(!Bme(e,function(w,b){if(!Ome(g,b)&&(y===w||i(y,w,n,r,s)))return g.push(b)})){h=!1;break}}else if(!(y===_||i(y,_,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var yW=Nme,Ume=Fu,Hme=Ume.Uint8Array,vW=Hme;function Gme(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var zme=Gme;function $me(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Vme=$me,eU=Ux,tU=vW,Wme=DB,jme=yW,qme=zme,Kme=Vme,Qme=1,Jme=2,Xme="[object Boolean]",Yme="[object Date]",Zme="[object Error]",ege="[object Map]",tge="[object Number]",nge="[object RegExp]",rge="[object Set]",ige="[object String]",sge="[object Symbol]",oge="[object ArrayBuffer]",age="[object DataView]",nU=eU?eU.prototype:void 0,aR=nU?nU.valueOf:void 0;function lge(t,e,n,r,i,s,o){switch(n){case age:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oge:return!(t.byteLength!=e.byteLength||!s(new tU(t),new tU(e)));case Xme:case Yme:case tge:return Wme(+t,+e);case Zme:return t.name==e.name&&t.message==e.message;case nge:case ige:return t==e+"";case ege:var a=qme;case rge:var l=r&Qme;if(a||(a=Kme),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Jme,o.set(t,e);var f=jme(a(t),a(e),r,i,s,o);return o.delete(t),f;case sge:if(aR)return aR.call(t)==aR.call(e)}return!1}var uge=lge;function cge(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var _W=cge,fge=_W,hge=Ll;function dge(t,e,n){var r=e(t);return hge(t)?r:fge(r,n(t))}var xW=dge;function pge(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var mge=pge;function gge(){return[]}var wW=gge,yge=mge,vge=wW,_ge=Object.prototype,xge=_ge.propertyIsEnumerable,rU=Object.getOwnPropertySymbols,wge=rU?function(t){return t==null?[]:(t=Object(t),yge(rU(t),function(e){return xge.call(t,e)}))}:vge,FB=wge,bge=xW,Sge=FB,Age=Hx;function Ege(t){return bge(t,Age,Sge)}var bW=Ege,iU=bW,Tge=1,Cge=Object.prototype,Mge=Cge.hasOwnProperty;function Rge(t,e,n,r,i,s){var o=n&Tge,a=iU(t),l=a.length,u=iU(e),f=u.length;if(l!=f&&!o)return!1;for(var c=l;c--;){var h=a[c];if(!(o?h in e:Mge.call(e,h)))return!1}var g=s.get(t),y=s.get(e);if(g&&y)return g==e&&y==t;var _=!0;s.set(t,e),s.set(e,t);for(var x=o;++c<l;){h=a[c];var w=t[h],b=e[h];if(r)var E=o?r(b,w,h,e,t,s):r(w,b,h,t,e,s);if(!(E===void 0?w===b||i(w,b,n,r,s):E)){_=!1;break}x||(x=h=="constructor")}if(_&&!x){var C=t.constructor,M=e.constructor;C!=M&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof M=="function"&&M instanceof M)&&(_=!1)}return s.delete(t),s.delete(e),_}var Ige=Rge,Lge=Xp,Pge=Fu,Dge=Lge(Pge,"DataView"),Bge=Dge,Oge=Xp,kge=Fu,Fge=Oge(kge,"Promise"),Nge=Fge,Uge=Xp,Hge=Fu,Gge=Uge(Hge,"Set"),zge=Gge,$ge=Xp,Vge=Fu,Wge=$ge(Vge,"WeakMap"),jge=Wge,hP=Bge,dP=BB,pP=Nge,mP=zge,gP=jge,SW=Jp,Oy=gW,sU="[object Map]",qge="[object Object]",oU="[object Promise]",aU="[object Set]",lU="[object WeakMap]",uU="[object DataView]",Kge=Oy(hP),Qge=Oy(dP),Jge=Oy(pP),Xge=Oy(mP),Yge=Oy(gP),jd=SW;(hP&&jd(new hP(new ArrayBuffer(1)))!=uU||dP&&jd(new dP)!=sU||pP&&jd(pP.resolve())!=oU||mP&&jd(new mP)!=aU||gP&&jd(new gP)!=lU)&&(jd=function(t){var e=SW(t),n=e==qge?t.constructor:void 0,r=n?Oy(n):"";if(r)switch(r){case Kge:return uU;case Qge:return sU;case Jge:return oU;case Xge:return aU;case Yge:return lU}return e});var SC=jd,lR=kB,Zge=yW,e0e=uge,t0e=Ige,cU=SC,fU=Ll,hU=j_.exports,n0e=lW,r0e=1,dU="[object Arguments]",pU="[object Array]",sS="[object Object]",i0e=Object.prototype,mU=i0e.hasOwnProperty;function s0e(t,e,n,r,i,s){var o=fU(t),a=fU(e),l=o?pU:cU(t),u=a?pU:cU(e);l=l==dU?sS:l,u=u==dU?sS:u;var f=l==sS,c=u==sS,h=l==u;if(h&&hU(t)){if(!hU(e))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new lR),o||n0e(t)?Zge(t,e,n,r,i,s):e0e(t,e,l,n,r,i,s);if(!(n&r0e)){var g=f&&mU.call(t,"__wrapped__"),y=c&&mU.call(e,"__wrapped__");if(g||y){var _=g?t.value():t,x=y?e.value():e;return s||(s=new lR),i(_,x,n,r,s)}}return h?(s||(s=new lR),t0e(t,e,n,r,i,s)):!1}var o0e=s0e,a0e=o0e,gU=kc;function AW(t,e,n,r,i){return t===e?!0:t==null||e==null||!gU(t)&&!gU(e)?t!==t&&e!==e:a0e(t,e,n,r,AW,i)}var EW=AW,l0e=kB,u0e=EW,c0e=1,f0e=2;function h0e(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],f=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var c=new l0e;if(r)var h=r(u,f,l,t,e,c);if(!(h===void 0?u0e(f,u,c0e|f0e,r,c):h))return!1}}return!0}var d0e=h0e,p0e=Iy;function m0e(t){return t===t&&!p0e(t)}var TW=m0e,g0e=TW,y0e=Hx;function v0e(t){for(var e=y0e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,g0e(i)]}return e}var _0e=v0e;function x0e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var CW=x0e,w0e=d0e,b0e=_0e,S0e=CW;function A0e(t){var e=b0e(t);return e.length==1&&e[0][2]?S0e(e[0][0],e[0][1]):function(n){return n===t||w0e(n,t,e)}}var E0e=A0e,T0e=Jp,C0e=kc,M0e="[object Symbol]";function R0e(t){return typeof t=="symbol"||C0e(t)&&T0e(t)==M0e}var NB=R0e,I0e=Ll,L0e=NB,P0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,D0e=/^\w*$/;function B0e(t,e){if(I0e(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||L0e(t)?!0:D0e.test(t)||!P0e.test(t)||e!=null&&t in Object(e)}var UB=B0e,MW=OB,O0e="Expected a function";function HB(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(O0e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(HB.Cache||MW),n}HB.Cache=MW;var k0e=HB,F0e=k0e,N0e=500;function U0e(t){var e=F0e(t,function(r){return n.size===N0e&&n.clear(),r}),n=e.cache;return e}var H0e=U0e,G0e=H0e,z0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$0e=/\\(\\)?/g,V0e=G0e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(z0e,function(n,r,i,s){e.push(i?s.replace($0e,"$1"):r||n)}),e}),W0e=V0e,yU=Ux,j0e=mW,q0e=Ll,K0e=NB,Q0e=1/0,vU=yU?yU.prototype:void 0,_U=vU?vU.toString:void 0;function RW(t){if(typeof t=="string")return t;if(q0e(t))return j0e(t,RW)+"";if(K0e(t))return _U?_U.call(t):"";var e=t+"";return e=="0"&&1/t==-Q0e?"-0":e}var J0e=RW,X0e=J0e;function Y0e(t){return t==null?"":X0e(t)}var Z0e=Y0e,eye=Ll,tye=UB,nye=W0e,rye=Z0e;function iye(t,e){return eye(t)?t:tye(t,e)?[t]:nye(rye(t))}var IW=iye,sye=NB,oye=1/0;function aye(t){if(typeof t=="string"||sye(t))return t;var e=t+"";return e=="0"&&1/t==-oye?"-0":e}var AC=aye,lye=IW,uye=AC;function cye(t,e){e=lye(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[uye(e[n++])];return n&&n==r?t:void 0}var LW=cye,fye=LW;function hye(t,e,n){var r=t==null?void 0:fye(t,e);return r===void 0?n:r}var dye=hye;function pye(t,e){return t!=null&&e in Object(t)}var mye=pye,gye=IW,yye=oW,vye=Ll,_ye=aW,xye=MB,wye=AC;function bye(t,e,n){e=gye(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=wye(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&xye(i)&&_ye(o,i)&&(vye(t)||yye(t)))}var Sye=bye,Aye=mye,Eye=Sye;function Tye(t,e){return t!=null&&Eye(t,e,Aye)}var Cye=Tye,Mye=EW,Rye=dye,Iye=Cye,Lye=UB,Pye=TW,Dye=CW,Bye=AC,Oye=1,kye=2;function Fye(t,e){return Lye(t)&&Pye(e)?Dye(Bye(t),e):function(n){var r=Rye(n,t);return r===void 0&&r===e?Iye(n,t):Mye(e,r,Oye|kye)}}var Nye=Fye;function Uye(t){return function(e){return e==null?void 0:e[t]}}var Hye=Uye,Gye=LW;function zye(t){return function(e){return Gye(e,t)}}var $ye=zye,Vye=Hye,Wye=$ye,jye=UB,qye=AC;function Kye(t){return jye(t)?Vye(qye(t)):Wye(t)}var Qye=Kye,Jye=E0e,Xye=Nye,Yye=dW,Zye=Ll,eve=Qye;function tve(t){return typeof t=="function"?t:t==null?Yye:typeof t=="object"?Zye(t)?Xye(t[0],t[1]):Jye(t):eve(t)}var nve=tve,rve=vC;function ive(t,e){return function(n,r){if(n==null)return n;if(!rve(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var sve=ive,ove=hW,ave=sve,lve=ave(ove),uve=lve,cve=uve,fve=vC;function hve(t,e){var n=-1,r=fve(t)?Array(t.length):[];return cve(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var dve=hve,pve=mW,mve=nve,gve=dve,yve=Ll;function vve(t,e){var n=yve(t)?pve:gve;return n(t,mve(e))}var _ve=vve;Object.defineProperty(Nx,"__esModule",{value:!0});Nx.flattenNames=void 0;var xve=Kce,wve=EC(xve),bve=LB,Sve=EC(bve),Ave=ede,Eve=EC(Ave),Tve=_ve,Cve=EC(Tve);function EC(t){return t&&t.__esModule?t:{default:t}}var Mve=Nx.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,Cve.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,Eve.default)(r)?(0,Sve.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,wve.default)(r)&&n.push(r)}),n};Nx.default=Mve;var Gx={};function Rve(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var Ive=Rve,Lve=Xp,Pve=function(){try{var t=Lve(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Dve=Pve,xU=Dve;function Bve(t,e,n){e=="__proto__"&&xU?xU(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var PW=Bve,Ove=PW,kve=DB,Fve=Object.prototype,Nve=Fve.hasOwnProperty;function Uve(t,e,n){var r=t[e];(!(Nve.call(t,e)&&kve(r,n))||n===void 0&&!(e in t))&&Ove(t,e,n)}var DW=Uve,Hve=DW,Gve=PW;function zve(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Gve(n,a,l):Hve(n,a,l)}return n}var TC=zve,$ve=TC,Vve=Hx;function Wve(t,e){return t&&$ve(e,Vve(e),t)}var jve=Wve;function qve(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Kve=qve,Qve=Iy,Jve=IB,Xve=Kve,Yve=Object.prototype,Zve=Yve.hasOwnProperty;function e1e(t){if(!Qve(t))return Xve(t);var e=Jve(t),n=[];for(var r in t)r=="constructor"&&(e||!Zve.call(t,r))||n.push(r);return n}var t1e=e1e,n1e=uW,r1e=t1e,i1e=vC;function s1e(t){return i1e(t)?n1e(t,!0):r1e(t)}var GB=s1e,o1e=TC,a1e=GB;function l1e(t,e){return t&&o1e(e,a1e(e),t)}var u1e=l1e,yP={exports:{}};(function(t,e){var n=Fu,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,f){if(f)return u.slice();var c=u.length,h=a?a(c):new u.constructor(c);return u.copy(h),h}t.exports=l})(yP,yP.exports);function c1e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var f1e=c1e,h1e=TC,d1e=FB;function p1e(t,e){return h1e(t,d1e(t),e)}var m1e=p1e,g1e=_W,y1e=PB,v1e=FB,_1e=wW,x1e=Object.getOwnPropertySymbols,w1e=x1e?function(t){for(var e=[];t;)g1e(e,v1e(t)),t=y1e(t);return e}:_1e,BW=w1e,b1e=TC,S1e=BW;function A1e(t,e){return b1e(t,S1e(t),e)}var E1e=A1e,T1e=xW,C1e=BW,M1e=GB;function R1e(t){return T1e(t,M1e,C1e)}var I1e=R1e,L1e=Object.prototype,P1e=L1e.hasOwnProperty;function D1e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&P1e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var B1e=D1e,wU=vW;function O1e(t){var e=new t.constructor(t.byteLength);return new wU(e).set(new wU(t)),e}var zB=O1e,k1e=zB;function F1e(t,e){var n=e?k1e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var N1e=F1e,U1e=/\w*$/;function H1e(t){var e=new t.constructor(t.source,U1e.exec(t));return e.lastIndex=t.lastIndex,e}var G1e=H1e,bU=Ux,SU=bU?bU.prototype:void 0,AU=SU?SU.valueOf:void 0;function z1e(t){return AU?Object(AU.call(t)):{}}var $1e=z1e,V1e=zB;function W1e(t,e){var n=e?V1e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var j1e=W1e,q1e=zB,K1e=N1e,Q1e=G1e,J1e=$1e,X1e=j1e,Y1e="[object Boolean]",Z1e="[object Date]",e_e="[object Map]",t_e="[object Number]",n_e="[object RegExp]",r_e="[object Set]",i_e="[object String]",s_e="[object Symbol]",o_e="[object ArrayBuffer]",a_e="[object DataView]",l_e="[object Float32Array]",u_e="[object Float64Array]",c_e="[object Int8Array]",f_e="[object Int16Array]",h_e="[object Int32Array]",d_e="[object Uint8Array]",p_e="[object Uint8ClampedArray]",m_e="[object Uint16Array]",g_e="[object Uint32Array]";function y_e(t,e,n){var r=t.constructor;switch(e){case o_e:return q1e(t);case Y1e:case Z1e:return new r(+t);case a_e:return K1e(t,n);case l_e:case u_e:case c_e:case f_e:case h_e:case d_e:case p_e:case m_e:case g_e:return X1e(t,n);case e_e:return new r;case t_e:case i_e:return new r(t);case n_e:return Q1e(t);case r_e:return new r;case s_e:return J1e(t)}}var v_e=y_e,__e=Iy,EU=Object.create,x_e=function(){function t(){}return function(e){if(!__e(e))return{};if(EU)return EU(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),w_e=x_e,b_e=w_e,S_e=PB,A_e=IB;function E_e(t){return typeof t.constructor=="function"&&!A_e(t)?b_e(S_e(t)):{}}var T_e=E_e,C_e=SC,M_e=kc,R_e="[object Map]";function I_e(t){return M_e(t)&&C_e(t)==R_e}var L_e=I_e,P_e=L_e,D_e=RB,TU=q_.exports,CU=TU&&TU.isMap,B_e=CU?D_e(CU):P_e,O_e=B_e,k_e=SC,F_e=kc,N_e="[object Set]";function U_e(t){return F_e(t)&&k_e(t)==N_e}var H_e=U_e,G_e=H_e,z_e=RB,MU=q_.exports,RU=MU&&MU.isSet,$_e=RU?z_e(RU):G_e,V_e=$_e,W_e=kB,j_e=Ive,q_e=DW,K_e=jve,Q_e=u1e,J_e=yP.exports,X_e=f1e,Y_e=m1e,Z_e=E1e,exe=bW,txe=I1e,nxe=SC,rxe=B1e,ixe=v_e,sxe=T_e,oxe=Ll,axe=j_.exports,lxe=O_e,uxe=Iy,cxe=V_e,fxe=Hx,hxe=GB,dxe=1,pxe=2,mxe=4,OW="[object Arguments]",gxe="[object Array]",yxe="[object Boolean]",vxe="[object Date]",_xe="[object Error]",kW="[object Function]",xxe="[object GeneratorFunction]",wxe="[object Map]",bxe="[object Number]",FW="[object Object]",Sxe="[object RegExp]",Axe="[object Set]",Exe="[object String]",Txe="[object Symbol]",Cxe="[object WeakMap]",Mxe="[object ArrayBuffer]",Rxe="[object DataView]",Ixe="[object Float32Array]",Lxe="[object Float64Array]",Pxe="[object Int8Array]",Dxe="[object Int16Array]",Bxe="[object Int32Array]",Oxe="[object Uint8Array]",kxe="[object Uint8ClampedArray]",Fxe="[object Uint16Array]",Nxe="[object Uint32Array]",nr={};nr[OW]=nr[gxe]=nr[Mxe]=nr[Rxe]=nr[yxe]=nr[vxe]=nr[Ixe]=nr[Lxe]=nr[Pxe]=nr[Dxe]=nr[Bxe]=nr[wxe]=nr[bxe]=nr[FW]=nr[Sxe]=nr[Axe]=nr[Exe]=nr[Txe]=nr[Oxe]=nr[kxe]=nr[Fxe]=nr[Nxe]=!0;nr[_xe]=nr[kW]=nr[Cxe]=!1;function NA(t,e,n,r,i,s){var o,a=e&dxe,l=e&pxe,u=e&mxe;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!uxe(t))return t;var f=oxe(t);if(f){if(o=rxe(t),!a)return X_e(t,o)}else{var c=nxe(t),h=c==kW||c==xxe;if(axe(t))return J_e(t,a);if(c==FW||c==OW||h&&!i){if(o=l||h?{}:sxe(t),!a)return l?Z_e(t,Q_e(o,t)):Y_e(t,K_e(o,t))}else{if(!nr[c])return i?t:{};o=ixe(t,c,a)}}s||(s=new W_e);var g=s.get(t);if(g)return g;s.set(t,o),cxe(t)?t.forEach(function(x){o.add(NA(x,e,n,x,t,s))}):lxe(t)&&t.forEach(function(x,w){o.set(w,NA(x,e,n,w,t,s))});var y=u?l?txe:exe:l?hxe:fxe,_=f?void 0:y(t);return j_e(_||t,function(x,w){_&&(w=x,x=t[w]),q_e(o,w,NA(x,e,n,w,t,s))}),o}var Uxe=NA,Hxe=Uxe,Gxe=1,zxe=4;function $xe(t){return Hxe(t,Gxe|zxe)}var Vxe=$xe;Object.defineProperty(Gx,"__esModule",{value:!0});Gx.mergeClasses=void 0;var Wxe=LB,jxe=NW(Wxe),qxe=Vxe,Kxe=NW(qxe),Qxe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function NW(t){return t&&t.__esModule?t:{default:t}}var Jxe=Gx.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Kxe.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,jxe.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=Qxe({},r[a],s[a])}),i}),r};Gx.default=Jxe;var zx={};Object.defineProperty(zx,"__esModule",{value:!0});zx.autoprefix=void 0;var Xxe=LB,IU=Zxe(Xxe),Yxe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Zxe(t){return t&&t.__esModule?t:{default:t}}var ewe={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},twe=zx.autoprefix=function(e){var n={};return(0,IU.default)(e,function(r,i){var s={};(0,IU.default)(r,function(o,a){var l=ewe[a];l?s=Yxe({},s,l(o)):s[a]=o}),n[i]=s}),n};zx.default=twe;var $x={};Object.defineProperty($x,"__esModule",{value:!0});$x.hover=void 0;var nwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rwe=z.exports,uR=iwe(rwe);function iwe(t){return t&&t.__esModule?t:{default:t}}function swe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function owe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var awe=$x.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){owe(i,r);function i(){var s,o,a,l;swe(this,i);for(var u=arguments.length,f=Array(u),c=0;c<u;c++)f[c]=arguments[c];return l=(o=(a=LU(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(f))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return uR.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},uR.default.createElement(e,nwe({},a.props,a.state)))},o),LU(a,l)}return i}(uR.default.Component)};$x.default=awe;var Vx={};Object.defineProperty(Vx,"__esModule",{value:!0});Vx.active=void 0;var lwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uwe=z.exports,cR=cwe(uwe);function cwe(t){return t&&t.__esModule?t:{default:t}}function fwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dwe=Vx.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){hwe(i,r);function i(){var s,o,a,l;fwe(this,i);for(var u=arguments.length,f=Array(u),c=0;c<u;c++)f[c]=arguments[c];return l=(o=(a=PU(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(f))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return cR.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},cR.default.createElement(e,lwe({},a.props,a.state)))},o),PU(a,l)}return i}(cR.default.Component)};Vx.default=dwe;var $B={};Object.defineProperty($B,"__esModule",{value:!0});var pwe=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};$B.default=pwe;Object.defineProperty(Na,"__esModule",{value:!0});Na.ReactCSS=Na.loop=Na.handleActive=VB=Na.handleHover=Na.hover=void 0;var mwe=Nx,gwe=ky(mwe),ywe=Gx,vwe=ky(ywe),_we=zx,xwe=ky(_we),wwe=$x,UW=ky(wwe),bwe=Vx,Swe=ky(bwe),Awe=$B,Ewe=ky(Awe);function ky(t){return t&&t.__esModule?t:{default:t}}Na.hover=UW.default;var VB=Na.handleHover=UW.default;Na.handleActive=Swe.default;Na.loop=Ewe.default;var Twe=Na.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,gwe.default)(r),o=(0,vwe.default)(e,s);return(0,xwe.default)(o)},jt=Na.default=Twe,Cwe=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,f=l-(s.getBoundingClientRect().left+window.pageXOffset),c=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var h=void 0;if(c<0?h=0:c>a?h=1:h=Math.round(c*100/a)/100,n.a!==h)return{h:n.h,s:n.s,l:n.l,a:h,source:"rgb"}}else{var g=void 0;if(f<0?g=0:f>o?g=1:g=Math.round(f*100/o)/100,i!==g)return{h:n.h,s:n.s,l:n.l,a:g,source:"rgb"}}return null},fR={},Mwe=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},Rwe=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(fR[s])return fR[s];var o=Mwe(e,n,r,i);return fR[s]=o,o},DU=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=jt({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+Rwe(n,r,i,s.canvas)+") center left"}}});return z.exports.isValidElement(l)?ut.cloneElement(l,DU({},l.props,{style:DU({},l.props.style,u.grid)})):W("div",{style:u.grid})};Fy.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var Iwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lwe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Pwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var WB=function(t){Dwe(e,t);function e(){var n,r,i,s;Pwe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=BU(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var f=Cwe(u,i.props.hsl,i.props.direction,i.props.a,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),BU(i,s)}return Lwe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=jt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:Iwe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return St("div",{style:s.alpha,children:[W("div",{style:s.checkboard,children:W(Fy,{renderers:this.props.renderers})}),W("div",{style:s.gradient}),W("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange,children:W("div",{style:s.pointer,children:this.props.pointer?ut.createElement(this.props.pointer,this.props):W("div",{style:s.slider})})})]})}}]),e}(z.exports.PureComponent||z.exports.Component),Bwe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Owe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fwe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Nwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Uwe=1,HW=38,Hwe=40,Gwe=[HW,Hwe],zwe=function(e){return Gwe.indexOf(e)>-1},$we=function(e){return Number(String(e).replace(/%/g,""))},Vwe=1,En=function(t){Nwe(e,t);function e(n){kwe(this,e);var r=Fwe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=$we(i.target.value);if(!isNaN(s)&&zwe(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===HW?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Vwe++,r}return Bwe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return Owe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Uwe}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=jt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return St("div",{style:i.wrap,children:[W("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?W("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown,children:this.props.label}):null]})}}]),e}(z.exports.PureComponent||z.exports.Component),Wwe=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),f=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var c=void 0;if(f<0)c=359;else if(f>o)c=0;else{var h=-(f*100/o)+100;c=360*h/100}if(r.h!==c)return{h:c,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var g=void 0;if(u<0)g=0;else if(u>s)g=359;else{var y=u*100/s;g=360*y/100}if(r.h!==g)return{h:g,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},jwe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function qwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ny=function(t){Kwe(e,t);function e(){var n,r,i,s;qwe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=OU(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var f=Wwe(u,i.props.direction,i.props.hsl,i.container);f&&typeof i.props.onChange=="function"&&i.props.onChange(f,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),OU(i,s)}return jwe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=jt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return W("div",{style:o.hue,children:St("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange,children:[W("style",{children:".hue-horizontal { background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); background: -webkit-linear-gradient(to right, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); } .hue-vertical { background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%); }"}),W("div",{style:o.pointer,children:this.props.pointer?ut.createElement(this.props.pointer,this.props):W("div",{style:o.slider})})]})})}}]),e}(z.exports.PureComponent||z.exports.Component),ze={exports:{}},Qwe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jwe=Qwe,Xwe=Jwe;function GW(){}function zW(){}zW.resetWarningCache=GW;var Ywe=function(){function t(r,i,s,o,a,l){if(l!==Xwe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:zW,resetWarningCache:GW};return n.PropTypes=n,n};ze.exports=Ywe();function Zwe(){this.__data__=[],this.size=0}function Wx(t,e){return t===e||t!==t&&e!==e}function CC(t,e){for(var n=t.length;n--;)if(Wx(t[n][0],e))return n;return-1}var ebe=Array.prototype,tbe=ebe.splice;function nbe(t){var e=this.__data__,n=CC(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():tbe.call(e,n,1),--this.size,!0}function rbe(t){var e=this.__data__,n=CC(e,t);return n<0?void 0:e[n][1]}function ibe(t){return CC(this.__data__,t)>-1}function sbe(t,e){var n=this.__data__,r=CC(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Fc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fc.prototype.clear=Zwe;Fc.prototype.delete=nbe;Fc.prototype.get=rbe;Fc.prototype.has=ibe;Fc.prototype.set=sbe;function obe(){this.__data__=new Fc,this.size=0}function abe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function lbe(t){return this.__data__.get(t)}function ube(t){return this.__data__.has(t)}var cbe=typeof global=="object"&&global&&global.Object===Object&&global;const $W=cbe;var fbe=typeof self=="object"&&self&&self.Object===Object&&self,hbe=$W||fbe||Function("return this")();const Pl=hbe;var dbe=Pl.Symbol;const fh=dbe;var VW=Object.prototype,pbe=VW.hasOwnProperty,mbe=VW.toString,y1=fh?fh.toStringTag:void 0;function gbe(t){var e=pbe.call(t,y1),n=t[y1];try{t[y1]=void 0;var r=!0}catch{}var i=mbe.call(t);return r&&(e?t[y1]=n:delete t[y1]),i}var ybe=Object.prototype,vbe=ybe.toString;function _be(t){return vbe.call(t)}var xbe="[object Null]",wbe="[object Undefined]",kU=fh?fh.toStringTag:void 0;function Yp(t){return t==null?t===void 0?wbe:xbe:kU&&kU in Object(t)?gbe(t):_be(t)}function Wa(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bbe="[object AsyncFunction]",Sbe="[object Function]",Abe="[object GeneratorFunction]",Ebe="[object Proxy]";function jB(t){if(!Wa(t))return!1;var e=Yp(t);return e==Sbe||e==Abe||e==bbe||e==Ebe}var Tbe=Pl["__core-js_shared__"];const hR=Tbe;var FU=function(){var t=/[^.]+$/.exec(hR&&hR.keys&&hR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Cbe(t){return!!FU&&FU in t}var Mbe=Function.prototype,Rbe=Mbe.toString;function Zp(t){if(t!=null){try{return Rbe.call(t)}catch{}try{return t+""}catch{}}return""}var Ibe=/[\\^$.*+?()[\]{}|]/g,Lbe=/^\[object .+?Constructor\]$/,Pbe=Function.prototype,Dbe=Object.prototype,Bbe=Pbe.toString,Obe=Dbe.hasOwnProperty,kbe=RegExp("^"+Bbe.call(Obe).replace(Ibe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Fbe(t){if(!Wa(t)||Cbe(t))return!1;var e=jB(t)?kbe:Lbe;return e.test(Zp(t))}function Nbe(t,e){return t==null?void 0:t[e]}function em(t,e){var n=Nbe(t,e);return Fbe(n)?n:void 0}var Ube=em(Pl,"Map");const K_=Ube;var Hbe=em(Object,"create");const Q_=Hbe;function Gbe(){this.__data__=Q_?Q_(null):{},this.size=0}function zbe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $be="__lodash_hash_undefined__",Vbe=Object.prototype,Wbe=Vbe.hasOwnProperty;function jbe(t){var e=this.__data__;if(Q_){var n=e[t];return n===$be?void 0:n}return Wbe.call(e,t)?e[t]:void 0}var qbe=Object.prototype,Kbe=qbe.hasOwnProperty;function Qbe(t){var e=this.__data__;return Q_?e[t]!==void 0:Kbe.call(e,t)}var Jbe="__lodash_hash_undefined__";function Xbe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Q_&&e===void 0?Jbe:e,this}function Mp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mp.prototype.clear=Gbe;Mp.prototype.delete=zbe;Mp.prototype.get=jbe;Mp.prototype.has=Qbe;Mp.prototype.set=Xbe;function Ybe(){this.size=0,this.__data__={hash:new Mp,map:new(K_||Fc),string:new Mp}}function Zbe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function MC(t,e){var n=t.__data__;return Zbe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function eSe(t){var e=MC(this,t).delete(t);return this.size-=e?1:0,e}function tSe(t){return MC(this,t).get(t)}function nSe(t){return MC(this,t).has(t)}function rSe(t,e){var n=MC(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Nc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nc.prototype.clear=Ybe;Nc.prototype.delete=eSe;Nc.prototype.get=tSe;Nc.prototype.has=nSe;Nc.prototype.set=rSe;var iSe=200;function sSe(t,e){var n=this.__data__;if(n instanceof Fc){var r=n.__data__;if(!K_||r.length<iSe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Nc(r)}return n.set(t,e),this.size=n.size,this}function xu(t){var e=this.__data__=new Fc(t);this.size=e.size}xu.prototype.clear=obe;xu.prototype.delete=abe;xu.prototype.get=lbe;xu.prototype.has=ube;xu.prototype.set=sSe;var oSe=function(){try{var t=em(Object,"defineProperty");return t({},"",{}),t}catch{}}();const WE=oSe;function qB(t,e,n){e=="__proto__"&&WE?WE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function vP(t,e,n){(n!==void 0&&!Wx(t[e],n)||n===void 0&&!(e in t))&&qB(t,e,n)}function aSe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var lSe=aSe();const WW=lSe;var jW=typeof na=="object"&&na&&!na.nodeType&&na,NU=jW&&typeof ra=="object"&&ra&&!ra.nodeType&&ra,uSe=NU&&NU.exports===jW,UU=uSe?Pl.Buffer:void 0,HU=UU?UU.allocUnsafe:void 0;function cSe(t,e){if(e)return t.slice();var n=t.length,r=HU?HU(n):new t.constructor(n);return t.copy(r),r}var fSe=Pl.Uint8Array;const jE=fSe;function hSe(t){var e=new t.constructor(t.byteLength);return new jE(e).set(new jE(t)),e}function dSe(t,e){var n=e?hSe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function pSe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var GU=Object.create,mSe=function(){function t(){}return function(e){if(!Wa(e))return{};if(GU)return GU(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const gSe=mSe;function qW(t,e){return function(n){return t(e(n))}}var ySe=qW(Object.getPrototypeOf,Object);const KW=ySe;var vSe=Object.prototype;function KB(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||vSe;return t===n}function _Se(t){return typeof t.constructor=="function"&&!KB(t)?gSe(KW(t)):{}}function hh(t){return t!=null&&typeof t=="object"}var xSe="[object Arguments]";function zU(t){return hh(t)&&Yp(t)==xSe}var QW=Object.prototype,wSe=QW.hasOwnProperty,bSe=QW.propertyIsEnumerable,SSe=zU(function(){return arguments}())?zU:function(t){return hh(t)&&wSe.call(t,"callee")&&!bSe.call(t,"callee")};const qE=SSe;var ASe=Array.isArray;const fa=ASe;var ESe=9007199254740991;function QB(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ESe}function Uy(t){return t!=null&&QB(t.length)&&!jB(t)}function TSe(t){return hh(t)&&Uy(t)}function CSe(){return!1}var JW=typeof na=="object"&&na&&!na.nodeType&&na,$U=JW&&typeof ra=="object"&&ra&&!ra.nodeType&&ra,MSe=$U&&$U.exports===JW,VU=MSe?Pl.Buffer:void 0,RSe=VU?VU.isBuffer:void 0,ISe=RSe||CSe;const KE=ISe;var LSe="[object Object]",PSe=Function.prototype,DSe=Object.prototype,XW=PSe.toString,BSe=DSe.hasOwnProperty,OSe=XW.call(Object);function kSe(t){if(!hh(t)||Yp(t)!=LSe)return!1;var e=KW(t);if(e===null)return!0;var n=BSe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&XW.call(n)==OSe}var FSe="[object Arguments]",NSe="[object Array]",USe="[object Boolean]",HSe="[object Date]",GSe="[object Error]",zSe="[object Function]",$Se="[object Map]",VSe="[object Number]",WSe="[object Object]",jSe="[object RegExp]",qSe="[object Set]",KSe="[object String]",QSe="[object WeakMap]",JSe="[object ArrayBuffer]",XSe="[object DataView]",YSe="[object Float32Array]",ZSe="[object Float64Array]",eAe="[object Int8Array]",tAe="[object Int16Array]",nAe="[object Int32Array]",rAe="[object Uint8Array]",iAe="[object Uint8ClampedArray]",sAe="[object Uint16Array]",oAe="[object Uint32Array]",lr={};lr[YSe]=lr[ZSe]=lr[eAe]=lr[tAe]=lr[nAe]=lr[rAe]=lr[iAe]=lr[sAe]=lr[oAe]=!0;lr[FSe]=lr[NSe]=lr[JSe]=lr[USe]=lr[XSe]=lr[HSe]=lr[GSe]=lr[zSe]=lr[$Se]=lr[VSe]=lr[WSe]=lr[jSe]=lr[qSe]=lr[KSe]=lr[QSe]=!1;function aAe(t){return hh(t)&&QB(t.length)&&!!lr[Yp(t)]}function lAe(t){return function(e){return t(e)}}var YW=typeof na=="object"&&na&&!na.nodeType&&na,a_=YW&&typeof ra=="object"&&ra&&!ra.nodeType&&ra,uAe=a_&&a_.exports===YW,dR=uAe&&$W.process,cAe=function(){try{var t=a_&&a_.require&&a_.require("util").types;return t||dR&&dR.binding&&dR.binding("util")}catch{}}();const WU=cAe;var jU=WU&&WU.isTypedArray,fAe=jU?lAe(jU):aAe;const JB=fAe;function _P(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var hAe=Object.prototype,dAe=hAe.hasOwnProperty;function pAe(t,e,n){var r=t[e];(!(dAe.call(t,e)&&Wx(r,n))||n===void 0&&!(e in t))&&qB(t,e,n)}function mAe(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?qB(n,a,l):pAe(n,a,l)}return n}function gAe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var yAe=9007199254740991,vAe=/^(?:0|[1-9]\d*)$/;function XB(t,e){var n=typeof t;return e=e==null?yAe:e,!!e&&(n=="number"||n!="symbol"&&vAe.test(t))&&t>-1&&t%1==0&&t<e}var _Ae=Object.prototype,xAe=_Ae.hasOwnProperty;function ZW(t,e){var n=fa(t),r=!n&&qE(t),i=!n&&!r&&KE(t),s=!n&&!r&&!i&&JB(t),o=n||r||i||s,a=o?gAe(t.length,String):[],l=a.length;for(var u in t)(e||xAe.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||XB(u,l)))&&a.push(u);return a}function wAe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var bAe=Object.prototype,SAe=bAe.hasOwnProperty;function AAe(t){if(!Wa(t))return wAe(t);var e=KB(t),n=[];for(var r in t)r=="constructor"&&(e||!SAe.call(t,r))||n.push(r);return n}function ej(t){return Uy(t)?ZW(t,!0):AAe(t)}function EAe(t){return mAe(t,ej(t))}function TAe(t,e,n,r,i,s,o){var a=_P(t,n),l=_P(e,n),u=o.get(l);if(u){vP(t,n,u);return}var f=s?s(a,l,n+"",t,e,o):void 0,c=f===void 0;if(c){var h=fa(l),g=!h&&KE(l),y=!h&&!g&&JB(l);f=l,h||g||y?fa(a)?f=a:TSe(a)?f=pSe(a):g?(c=!1,f=cSe(l,!0)):y?(c=!1,f=dSe(l,!0)):f=[]:kSe(l)||qE(l)?(f=a,qE(a)?f=EAe(a):(!Wa(a)||jB(a))&&(f=_Se(l))):c=!1}c&&(o.set(l,f),i(f,l,r,s,o),o.delete(l)),vP(t,n,f)}function tj(t,e,n,r,i){t!==e&&WW(e,function(s,o){if(i||(i=new xu),Wa(s))TAe(t,e,o,n,tj,r,i);else{var a=r?r(_P(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),vP(t,o,a)}},ej)}function RC(t){return t}function CAe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var qU=Math.max;function MAe(t,e,n){return e=qU(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=qU(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),CAe(t,this,a)}}function RAe(t){return function(){return t}}var IAe=WE?function(t,e){return WE(t,"toString",{configurable:!0,enumerable:!1,value:RAe(e),writable:!0})}:RC;const LAe=IAe;var PAe=800,DAe=16,BAe=Date.now;function OAe(t){var e=0,n=0;return function(){var r=BAe(),i=DAe-(r-n);if(n=r,i>0){if(++e>=PAe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var kAe=OAe(LAe);const FAe=kAe;function NAe(t,e){return FAe(MAe(t,e,RC),t+"")}function UAe(t,e,n){if(!Wa(n))return!1;var r=typeof e;return(r=="number"?Uy(n)&&XB(e,n.length):r=="string"&&e in n)?Wx(n[e],t):!1}function HAe(t){return NAe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&UAe(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var GAe=HAe(function(t,e,n){tj(t,e,n)});const Lo=GAe;var jx=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=jt(Lo({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return St("div",{style:l.wrap,children:[W("div",{style:l.bg}),W("div",{style:l.content,children:s})]})};jx.propTypes={background:ze.exports.string,zDepth:ze.exports.oneOf([0,1,2,3,4,5]),radius:ze.exports.number,styles:ze.exports.object};jx.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var zAe=function(){return Pl.Date.now()};const pR=zAe;var $Ae=/\s/;function VAe(t){for(var e=t.length;e--&&$Ae.test(t.charAt(e)););return e}var WAe=/^\s+/;function jAe(t){return t&&t.slice(0,VAe(t)+1).replace(WAe,"")}var qAe="[object Symbol]";function IC(t){return typeof t=="symbol"||hh(t)&&Yp(t)==qAe}var KU=0/0,KAe=/^[-+]0x[0-9a-f]+$/i,QAe=/^0b[01]+$/i,JAe=/^0o[0-7]+$/i,XAe=parseInt;function QU(t){if(typeof t=="number")return t;if(IC(t))return KU;if(Wa(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Wa(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jAe(t);var n=QAe.test(t);return n||JAe.test(t)?XAe(t.slice(2),n?2:8):KAe.test(t)?KU:+t}var YAe="Expected a function",ZAe=Math.max,eEe=Math.min;function nj(t,e,n){var r,i,s,o,a,l,u=0,f=!1,c=!1,h=!0;if(typeof t!="function")throw new TypeError(YAe);e=QU(e)||0,Wa(n)&&(f=!!n.leading,c="maxWait"in n,s=c?ZAe(QU(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function g(P){var D=r,L=i;return r=i=void 0,u=P,o=t.apply(L,D),o}function y(P){return u=P,a=setTimeout(w,e),f?g(P):o}function _(P){var D=P-l,L=P-u,O=e-D;return c?eEe(O,s-L):O}function x(P){var D=P-l,L=P-u;return l===void 0||D>=e||D<0||c&&L>=s}function w(){var P=pR();if(x(P))return b(P);a=setTimeout(w,_(P))}function b(P){return a=void 0,h&&r?g(P):(r=i=void 0,o)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?o:b(pR())}function M(){var P=pR(),D=x(P);if(r=arguments,i=this,l=P,D){if(a===void 0)return y(l);if(c)return clearTimeout(a),a=setTimeout(w,e),g(l)}return a===void 0&&(a=setTimeout(w,e)),o}return M.cancel=E,M.flush=C,M}var tEe="Expected a function";function nEe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(tEe);return Wa(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nj(t,e,{leading:r,maxWait:e,trailing:i})}var rEe=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),f=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),f<0?f=0:f>o&&(f=o);var c=u/s,h=1-f/o;return{h:n.h,s:c,v:h,a:n.a,source:"hsv"}},iEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function sEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oEe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var LC=function(t){aEe(e,t);function e(n){sEe(this,e);var r=oEe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,rEe(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=nEe(function(i,s,o){i(s,o)},50),r}return iEe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,f=jt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return St("div",{style:f.color,ref:function(h){return r.container=h},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange,children:[W("style",{children:".saturation-white { background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0)); background: linear-gradient(to right, #fff, rgba(255,255,255,0)); } .saturation-black { background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0)); background: linear-gradient(to top, #000, rgba(0,0,0,0)); }"}),St("div",{style:f.white,className:"saturation-white",children:[W("div",{style:f.black,className:"saturation-black"}),W("div",{style:f.pointer,children:this.props.pointer?ut.createElement(this.props.pointer,this.props):W("div",{style:f.circle})})]})]})}}]),e}(z.exports.PureComponent||z.exports.Component);function lEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var uEe=qW(Object.keys,Object);const cEe=uEe;var fEe=Object.prototype,hEe=fEe.hasOwnProperty;function dEe(t){if(!KB(t))return cEe(t);var e=[];for(var n in Object(t))hEe.call(t,n)&&n!="constructor"&&e.push(n);return e}function YB(t){return Uy(t)?ZW(t):dEe(t)}function pEe(t,e){return t&&WW(t,e,YB)}function mEe(t,e){return function(n,r){if(n==null)return n;if(!Uy(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var gEe=mEe(pEe);const rj=gEe;function yEe(t){return typeof t=="function"?t:RC}function vEe(t,e){var n=fa(t)?lEe:rj;return n(t,yEe(e))}var ij={exports:{}};(function(t){(function(e){var n=/^\s+/,r=/\s+$/,i=0,s=e.round,o=e.min,a=e.max,l=e.random;function u(U,te){if(U=U||"",te=te||{},U instanceof u)return U;if(!(this instanceof u))return new u(U,te);var J=f(U);this._originalInput=U,this._r=J.r,this._g=J.g,this._b=J.b,this._a=J.a,this._roundA=s(100*this._a)/100,this._format=te.format||J.format,this._gradientType=te.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=J.ok,this._tc_id=i++}u.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var U=this.toRgb();return(U.r*299+U.g*587+U.b*114)/1e3},getLuminance:function(){var U=this.toRgb(),te,J,ve,Pe,Le,je;return te=U.r/255,J=U.g/255,ve=U.b/255,te<=.03928?Pe=te/12.92:Pe=e.pow((te+.055)/1.055,2.4),J<=.03928?Le=J/12.92:Le=e.pow((J+.055)/1.055,2.4),ve<=.03928?je=ve/12.92:je=e.pow((ve+.055)/1.055,2.4),.2126*Pe+.7152*Le+.0722*je},setAlpha:function(U){return this._a=G(U),this._roundA=s(100*this._a)/100,this},toHsv:function(){var U=y(this._r,this._g,this._b);return{h:U.h*360,s:U.s,v:U.v,a:this._a}},toHsvString:function(){var U=y(this._r,this._g,this._b),te=s(U.h*360),J=s(U.s*100),ve=s(U.v*100);return this._a==1?"hsv("+te+", "+J+"%, "+ve+"%)":"hsva("+te+", "+J+"%, "+ve+"%, "+this._roundA+")"},toHsl:function(){var U=h(this._r,this._g,this._b);return{h:U.h*360,s:U.s,l:U.l,a:this._a}},toHslString:function(){var U=h(this._r,this._g,this._b),te=s(U.h*360),J=s(U.s*100),ve=s(U.l*100);return this._a==1?"hsl("+te+", "+J+"%, "+ve+"%)":"hsla("+te+", "+J+"%, "+ve+"%, "+this._roundA+")"},toHex:function(U){return x(this._r,this._g,this._b,U)},toHexString:function(U){return"#"+this.toHex(U)},toHex8:function(U){return w(this._r,this._g,this._b,this._a,U)},toHex8String:function(U){return"#"+this.toHex8(U)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s($(this._r,255)*100)+"%",g:s($(this._g,255)*100)+"%",b:s($(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+s($(this._r,255)*100)+"%, "+s($(this._g,255)*100)+"%, "+s($(this._b,255)*100)+"%)":"rgba("+s($(this._r,255)*100)+"%, "+s($(this._g,255)*100)+"%, "+s($(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ee[x(this._r,this._g,this._b,!0)]||!1},toFilter:function(U){var te="#"+b(this._r,this._g,this._b,this._a),J=te,ve=this._gradientType?"GradientType = 1, ":"";if(U){var Pe=u(U);J="#"+b(Pe._r,Pe._g,Pe._b,Pe._a)}return"progid:DXImageTransform.Microsoft.gradient("+ve+"startColorstr="+te+",endColorstr="+J+")"},toString:function(U){var te=!!U;U=U||this._format;var J=!1,ve=this._a<1&&this._a>=0,Pe=!te&&ve&&(U==="hex"||U==="hex6"||U==="hex3"||U==="hex4"||U==="hex8"||U==="name");return Pe?U==="name"&&this._a===0?this.toName():this.toRgbString():(U==="rgb"&&(J=this.toRgbString()),U==="prgb"&&(J=this.toPercentageRgbString()),(U==="hex"||U==="hex6")&&(J=this.toHexString()),U==="hex3"&&(J=this.toHexString(!0)),U==="hex4"&&(J=this.toHex8String(!0)),U==="hex8"&&(J=this.toHex8String()),U==="name"&&(J=this.toName()),U==="hsl"&&(J=this.toHslString()),U==="hsv"&&(J=this.toHsvString()),J||this.toHexString())},clone:function(){return u(this.toString())},_applyModification:function(U,te){var J=U.apply(null,[this].concat([].slice.call(te)));return this._r=J._r,this._g=J._g,this._b=J._b,this.setAlpha(J._a),this},lighten:function(){return this._applyModification(P,arguments)},brighten:function(){return this._applyModification(D,arguments)},darken:function(){return this._applyModification(L,arguments)},desaturate:function(){return this._applyModification(E,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(M,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(U,te){return U.apply(null,[this].concat([].slice.call(te)))},analogous:function(){return this._applyCombination(F,arguments)},complement:function(){return this._applyCombination(q,arguments)},monochromatic:function(){return this._applyCombination(Y,arguments)},splitcomplement:function(){return this._applyCombination(le,arguments)},triad:function(){return this._applyCombination(j,arguments)},tetrad:function(){return this._applyCombination(oe,arguments)}},u.fromRatio=function(U,te){if(typeof U=="object"){var J={};for(var ve in U)U.hasOwnProperty(ve)&&(ve==="a"?J[ve]=U[ve]:J[ve]=ge(U[ve]));U=J}return u(U,te)};function f(U){var te={r:0,g:0,b:0},J=1,ve=null,Pe=null,Le=null,je=!1,xt=!1;return typeof U=="string"&&(U=mt(U)),typeof U=="object"&&(Ue(U.r)&&Ue(U.g)&&Ue(U.b)?(te=c(U.r,U.g,U.b),je=!0,xt=String(U.r).substr(-1)==="%"?"prgb":"rgb"):Ue(U.h)&&Ue(U.s)&&Ue(U.v)?(ve=ge(U.s),Pe=ge(U.v),te=_(U.h,ve,Pe),je=!0,xt="hsv"):Ue(U.h)&&Ue(U.s)&&Ue(U.l)&&(ve=ge(U.s),Le=ge(U.l),te=g(U.h,ve,Le),je=!0,xt="hsl"),U.hasOwnProperty("a")&&(J=U.a)),J=G(J),{ok:je,format:U.format||xt,r:o(255,a(te.r,0)),g:o(255,a(te.g,0)),b:o(255,a(te.b,0)),a:J}}function c(U,te,J){return{r:$(U,255)*255,g:$(te,255)*255,b:$(J,255)*255}}function h(U,te,J){U=$(U,255),te=$(te,255),J=$(J,255);var ve=a(U,te,J),Pe=o(U,te,J),Le,je,xt=(ve+Pe)/2;if(ve==Pe)Le=je=0;else{var gt=ve-Pe;switch(je=xt>.5?gt/(2-ve-Pe):gt/(ve+Pe),ve){case U:Le=(te-J)/gt+(te<J?6:0);break;case te:Le=(J-U)/gt+2;break;case J:Le=(U-te)/gt+4;break}Le/=6}return{h:Le,s:je,l:xt}}function g(U,te,J){var ve,Pe,Le;U=$(U,360),te=$(te,100),J=$(J,100);function je(se,X,Ae){return Ae<0&&(Ae+=1),Ae>1&&(Ae-=1),Ae<1/6?se+(X-se)*6*Ae:Ae<1/2?X:Ae<2/3?se+(X-se)*(2/3-Ae)*6:se}if(te===0)ve=Pe=Le=J;else{var xt=J<.5?J*(1+te):J+te-J*te,gt=2*J-xt;ve=je(gt,xt,U+1/3),Pe=je(gt,xt,U),Le=je(gt,xt,U-1/3)}return{r:ve*255,g:Pe*255,b:Le*255}}function y(U,te,J){U=$(U,255),te=$(te,255),J=$(J,255);var ve=a(U,te,J),Pe=o(U,te,J),Le,je,xt=ve,gt=ve-Pe;if(je=ve===0?0:gt/ve,ve==Pe)Le=0;else{switch(ve){case U:Le=(te-J)/gt+(te<J?6:0);break;case te:Le=(J-U)/gt+2;break;case J:Le=(U-te)/gt+4;break}Le/=6}return{h:Le,s:je,v:xt}}function _(U,te,J){U=$(U,360)*6,te=$(te,100),J=$(J,100);var ve=e.floor(U),Pe=U-ve,Le=J*(1-te),je=J*(1-Pe*te),xt=J*(1-(1-Pe)*te),gt=ve%6,se=[J,je,Le,Le,xt,J][gt],X=[xt,J,J,je,Le,Le][gt],Ae=[Le,Le,xt,J,J,je][gt];return{r:se*255,g:X*255,b:Ae*255}}function x(U,te,J,ve){var Pe=[de(s(U).toString(16)),de(s(te).toString(16)),de(s(J).toString(16))];return ve&&Pe[0].charAt(0)==Pe[0].charAt(1)&&Pe[1].charAt(0)==Pe[1].charAt(1)&&Pe[2].charAt(0)==Pe[2].charAt(1)?Pe[0].charAt(0)+Pe[1].charAt(0)+Pe[2].charAt(0):Pe.join("")}function w(U,te,J,ve,Pe){var Le=[de(s(U).toString(16)),de(s(te).toString(16)),de(s(J).toString(16)),de(Ze(ve))];return Pe&&Le[0].charAt(0)==Le[0].charAt(1)&&Le[1].charAt(0)==Le[1].charAt(1)&&Le[2].charAt(0)==Le[2].charAt(1)&&Le[3].charAt(0)==Le[3].charAt(1)?Le[0].charAt(0)+Le[1].charAt(0)+Le[2].charAt(0)+Le[3].charAt(0):Le.join("")}function b(U,te,J,ve){var Pe=[de(Ze(ve)),de(s(U).toString(16)),de(s(te).toString(16)),de(s(J).toString(16))];return Pe.join("")}u.equals=function(U,te){return!U||!te?!1:u(U).toRgbString()==u(te).toRgbString()},u.random=function(){return u.fromRatio({r:l(),g:l(),b:l()})};function E(U,te){te=te===0?0:te||10;var J=u(U).toHsl();return J.s-=te/100,J.s=ie(J.s),u(J)}function C(U,te){te=te===0?0:te||10;var J=u(U).toHsl();return J.s+=te/100,J.s=ie(J.s),u(J)}function M(U){return u(U).desaturate(100)}function P(U,te){te=te===0?0:te||10;var J=u(U).toHsl();return J.l+=te/100,J.l=ie(J.l),u(J)}function D(U,te){te=te===0?0:te||10;var J=u(U).toRgb();return J.r=a(0,o(255,J.r-s(255*-(te/100)))),J.g=a(0,o(255,J.g-s(255*-(te/100)))),J.b=a(0,o(255,J.b-s(255*-(te/100)))),u(J)}function L(U,te){te=te===0?0:te||10;var J=u(U).toHsl();return J.l-=te/100,J.l=ie(J.l),u(J)}function O(U,te){var J=u(U).toHsl(),ve=(J.h+te)%360;return J.h=ve<0?360+ve:ve,u(J)}function q(U){var te=u(U).toHsl();return te.h=(te.h+180)%360,u(te)}function j(U){var te=u(U).toHsl(),J=te.h;return[u(U),u({h:(J+120)%360,s:te.s,l:te.l}),u({h:(J+240)%360,s:te.s,l:te.l})]}function oe(U){var te=u(U).toHsl(),J=te.h;return[u(U),u({h:(J+90)%360,s:te.s,l:te.l}),u({h:(J+180)%360,s:te.s,l:te.l}),u({h:(J+270)%360,s:te.s,l:te.l})]}function le(U){var te=u(U).toHsl(),J=te.h;return[u(U),u({h:(J+72)%360,s:te.s,l:te.l}),u({h:(J+216)%360,s:te.s,l:te.l})]}function F(U,te,J){te=te||6,J=J||30;var ve=u(U).toHsl(),Pe=360/J,Le=[u(U)];for(ve.h=(ve.h-(Pe*te>>1)+720)%360;--te;)ve.h=(ve.h+Pe)%360,Le.push(u(ve));return Le}function Y(U,te){te=te||6;for(var J=u(U).toHsv(),ve=J.h,Pe=J.s,Le=J.v,je=[],xt=1/te;te--;)je.push(u({h:ve,s:Pe,v:Le})),Le=(Le+xt)%1;return je}u.mix=function(U,te,J){J=J===0?0:J||50;var ve=u(U).toRgb(),Pe=u(te).toRgb(),Le=J/100,je={r:(Pe.r-ve.r)*Le+ve.r,g:(Pe.g-ve.g)*Le+ve.g,b:(Pe.b-ve.b)*Le+ve.b,a:(Pe.a-ve.a)*Le+ve.a};return u(je)},u.readability=function(U,te){var J=u(U),ve=u(te);return(e.max(J.getLuminance(),ve.getLuminance())+.05)/(e.min(J.getLuminance(),ve.getLuminance())+.05)},u.isReadable=function(U,te,J){var ve=u.readability(U,te),Pe,Le;switch(Le=!1,Pe=Re(J),Pe.level+Pe.size){case"AAsmall":case"AAAlarge":Le=ve>=4.5;break;case"AAlarge":Le=ve>=3;break;case"AAAsmall":Le=ve>=7;break}return Le},u.mostReadable=function(U,te,J){var ve=null,Pe=0,Le,je,xt,gt;J=J||{},je=J.includeFallbackColors,xt=J.level,gt=J.size;for(var se=0;se<te.length;se++)Le=u.readability(U,te[se]),Le>Pe&&(Pe=Le,ve=u(te[se]));return u.isReadable(U,ve,{level:xt,size:gt})||!je?ve:(J.includeFallbackColors=!1,u.mostReadable(U,["#fff","#000"],J))};var H=u.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ee=u.hexNames=k(H);function k(U){var te={};for(var J in U)U.hasOwnProperty(J)&&(te[U[J]]=J);return te}function G(U){return U=parseFloat(U),(isNaN(U)||U<0||U>1)&&(U=1),U}function $(U,te){xe(U)&&(U="100%");var J=Oe(U);return U=o(te,a(0,parseFloat(U))),J&&(U=parseInt(U*te,10)/100),e.abs(U-te)<1e-6?1:U%te/parseFloat(te)}function ie(U){return o(1,a(0,U))}function ue(U){return parseInt(U,16)}function xe(U){return typeof U=="string"&&U.indexOf(".")!=-1&&parseFloat(U)===1}function Oe(U){return typeof U=="string"&&U.indexOf("%")!=-1}function de(U){return U.length==1?"0"+U:""+U}function ge(U){return U<=1&&(U=U*100+"%"),U}function Ze(U){return e.round(parseFloat(U)*255).toString(16)}function Qe(U){return ue(U)/255}var We=function(){var U="[-\\+]?\\d+%?",te="[-\\+]?\\d*\\.\\d+%?",J="(?:"+te+")|(?:"+U+")",ve="[\\s|\\(]+("+J+")[,|\\s]+("+J+")[,|\\s]+("+J+")\\s*\\)?",Pe="[\\s|\\(]+("+J+")[,|\\s]+("+J+")[,|\\s]+("+J+")[,|\\s]+("+J+")\\s*\\)?";return{CSS_UNIT:new RegExp(J),rgb:new RegExp("rgb"+ve),rgba:new RegExp("rgba"+Pe),hsl:new RegExp("hsl"+ve),hsla:new RegExp("hsla"+Pe),hsv:new RegExp("hsv"+ve),hsva:new RegExp("hsva"+Pe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ue(U){return!!We.CSS_UNIT.exec(U)}function mt(U){U=U.replace(n,"").replace(r,"").toLowerCase();var te=!1;if(H[U])U=H[U],te=!0;else if(U=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var J;return(J=We.rgb.exec(U))?{r:J[1],g:J[2],b:J[3]}:(J=We.rgba.exec(U))?{r:J[1],g:J[2],b:J[3],a:J[4]}:(J=We.hsl.exec(U))?{h:J[1],s:J[2],l:J[3]}:(J=We.hsla.exec(U))?{h:J[1],s:J[2],l:J[3],a:J[4]}:(J=We.hsv.exec(U))?{h:J[1],s:J[2],v:J[3]}:(J=We.hsva.exec(U))?{h:J[1],s:J[2],v:J[3],a:J[4]}:(J=We.hex8.exec(U))?{r:ue(J[1]),g:ue(J[2]),b:ue(J[3]),a:Qe(J[4]),format:te?"name":"hex8"}:(J=We.hex6.exec(U))?{r:ue(J[1]),g:ue(J[2]),b:ue(J[3]),format:te?"name":"hex"}:(J=We.hex4.exec(U))?{r:ue(J[1]+""+J[1]),g:ue(J[2]+""+J[2]),b:ue(J[3]+""+J[3]),a:Qe(J[4]+""+J[4]),format:te?"name":"hex8"}:(J=We.hex3.exec(U))?{r:ue(J[1]+""+J[1]),g:ue(J[2]+""+J[2]),b:ue(J[3]+""+J[3]),format:te?"name":"hex"}:!1}function Re(U){var te,J;return U=U||{level:"AA",size:"small"},te=(U.level||"AA").toUpperCase(),J=(U.size||"small").toLowerCase(),te!=="AA"&&te!=="AAA"&&(te="AA"),J!=="small"&&J!=="large"&&(J="small"),{level:te,size:J}}t.exports?t.exports=u:window.tinycolor=u})(Math)})(ij);const QE=ij.exports;var JU=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return vEe(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},H1=function(e,n){var r=e.hex?QE(e.hex):QE(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},Dh=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&QE(e).isValid()},ZB=function(e){if(!e)return"#fff";var n=H1(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},mR=function(e,n){var r=e.replace("\xB0","");return QE(n+" ("+r+")")._ok},oS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_Ee=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function xEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wEe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Po=function(e){var n=function(r){bEe(i,r);function i(s){xEe(this,i);var o=wEe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=JU(a);if(u){var f=H1(a,a.h||o.state.oldHue);o.setState(f),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,f,l),o.props.onChange&&o.props.onChange(f,l)}},o.handleSwatchHover=function(a,l){var u=JU(a);if(u){var f=H1(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(f,l)}},o.state=oS({},H1(s.color,0)),o.debounce=nj(function(a,l,u){a(l,u)},100),o}return _Ee(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),W(e,{...this.props,...this.state,onChange:this.handleChange,...o})}}],[{key:"getDerivedStateFromProps",value:function(o,a){return oS({},H1(o.color,a.oldHue))}}]),i}(z.exports.PureComponent||z.exports.Component);return n.propTypes=oS({},e.propTypes),n.defaultProps=oS({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},SEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function AEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XU(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function EEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var TEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){EEe(i,r);function i(){var s,o,a,l;AEe(this,i);for(var u=arguments.length,f=Array(u),c=0;c<u;c++)f[c]=arguments[c];return l=(o=(a=XU(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(f))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),XU(a,l)}return SEe(i,[{key:"render",value:function(){return W(n,{onFocus:this.handleFocus,onBlur:this.handleBlur,children:W(e,{...this.props,...this.state})})}}]),i}(ut.Component)},CEe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MEe=13,REe=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,f=e.focus,c=e.focusStyle,h=c===void 0?{}:c,g=n==="transparent",y=jt({default:{swatch:CEe({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,f?h:{})}}),_=function(C){return s(n,C)},x=function(C){return C.keyCode===MEe&&s(n,C)},w=function(C){return o(n,C)},b={};return o&&(b.onMouseOver=w),St("div",{style:y.swatch,onClick:_,title:l,tabIndex:0,onKeyDown:x,...b,children:[u,g&&W(Fy,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"})]})};const tm=TEe(REe);var IEe=function(e){var n=e.direction,r=jt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return W("div",{style:r.picker})},sj=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,f=e.pointer,c=e.className,h=c===void 0?"":c,g=jt({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return W("div",{style:g.picker,className:"alpha-picker "+h,children:W(WB,{...g.alpha,rgb:n,hsl:r,pointer:f,renderers:u,onChange:o,direction:a})})};sj.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:IEe};Po(sj);function oj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var LEe="__lodash_hash_undefined__";function PEe(t){return this.__data__.set(t,LEe),this}function DEe(t){return this.__data__.has(t)}function JE(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Nc;++e<n;)this.add(t[e])}JE.prototype.add=JE.prototype.push=PEe;JE.prototype.has=DEe;function BEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function OEe(t,e){return t.has(e)}var kEe=1,FEe=2;function aj(t,e,n,r,i,s){var o=n&kEe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),f=s.get(e);if(u&&f)return u==e&&f==t;var c=-1,h=!0,g=n&FEe?new JE:void 0;for(s.set(t,e),s.set(e,t);++c<a;){var y=t[c],_=e[c];if(r)var x=o?r(_,y,c,e,t,s):r(y,_,c,t,e,s);if(x!==void 0){if(x)continue;h=!1;break}if(g){if(!BEe(e,function(w,b){if(!OEe(g,b)&&(y===w||i(y,w,n,r,s)))return g.push(b)})){h=!1;break}}else if(!(y===_||i(y,_,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function NEe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function UEe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var HEe=1,GEe=2,zEe="[object Boolean]",$Ee="[object Date]",VEe="[object Error]",WEe="[object Map]",jEe="[object Number]",qEe="[object RegExp]",KEe="[object Set]",QEe="[object String]",JEe="[object Symbol]",XEe="[object ArrayBuffer]",YEe="[object DataView]",YU=fh?fh.prototype:void 0,gR=YU?YU.valueOf:void 0;function ZEe(t,e,n,r,i,s,o){switch(n){case YEe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case XEe:return!(t.byteLength!=e.byteLength||!s(new jE(t),new jE(e)));case zEe:case $Ee:case jEe:return Wx(+t,+e);case VEe:return t.name==e.name&&t.message==e.message;case qEe:case QEe:return t==e+"";case WEe:var a=NEe;case KEe:var l=r&HEe;if(a||(a=UEe),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=GEe,o.set(t,e);var f=aj(a(t),a(e),r,i,s,o);return o.delete(t),f;case JEe:if(gR)return gR.call(t)==gR.call(e)}return!1}function eTe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function tTe(t,e,n){var r=e(t);return fa(t)?r:eTe(r,n(t))}function nTe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function rTe(){return[]}var iTe=Object.prototype,sTe=iTe.propertyIsEnumerable,ZU=Object.getOwnPropertySymbols,oTe=ZU?function(t){return t==null?[]:(t=Object(t),nTe(ZU(t),function(e){return sTe.call(t,e)}))}:rTe;const aTe=oTe;function e6(t){return tTe(t,YB,aTe)}var lTe=1,uTe=Object.prototype,cTe=uTe.hasOwnProperty;function fTe(t,e,n,r,i,s){var o=n&lTe,a=e6(t),l=a.length,u=e6(e),f=u.length;if(l!=f&&!o)return!1;for(var c=l;c--;){var h=a[c];if(!(o?h in e:cTe.call(e,h)))return!1}var g=s.get(t),y=s.get(e);if(g&&y)return g==e&&y==t;var _=!0;s.set(t,e),s.set(e,t);for(var x=o;++c<l;){h=a[c];var w=t[h],b=e[h];if(r)var E=o?r(b,w,h,e,t,s):r(w,b,h,t,e,s);if(!(E===void 0?w===b||i(w,b,n,r,s):E)){_=!1;break}x||(x=h=="constructor")}if(_&&!x){var C=t.constructor,M=e.constructor;C!=M&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof M=="function"&&M instanceof M)&&(_=!1)}return s.delete(t),s.delete(e),_}var hTe=em(Pl,"DataView");const xP=hTe;var dTe=em(Pl,"Promise");const wP=dTe;var pTe=em(Pl,"Set");const bP=pTe;var mTe=em(Pl,"WeakMap");const SP=mTe;var t6="[object Map]",gTe="[object Object]",n6="[object Promise]",r6="[object Set]",i6="[object WeakMap]",s6="[object DataView]",yTe=Zp(xP),vTe=Zp(K_),_Te=Zp(wP),xTe=Zp(bP),wTe=Zp(SP),qd=Yp;(xP&&qd(new xP(new ArrayBuffer(1)))!=s6||K_&&qd(new K_)!=t6||wP&&qd(wP.resolve())!=n6||bP&&qd(new bP)!=r6||SP&&qd(new SP)!=i6)&&(qd=function(t){var e=Yp(t),n=e==gTe?t.constructor:void 0,r=n?Zp(n):"";if(r)switch(r){case yTe:return s6;case vTe:return t6;case _Te:return n6;case xTe:return r6;case wTe:return i6}return e});const o6=qd;var bTe=1,a6="[object Arguments]",l6="[object Array]",aS="[object Object]",STe=Object.prototype,u6=STe.hasOwnProperty;function ATe(t,e,n,r,i,s){var o=fa(t),a=fa(e),l=o?l6:o6(t),u=a?l6:o6(e);l=l==a6?aS:l,u=u==a6?aS:u;var f=l==aS,c=u==aS,h=l==u;if(h&&KE(t)){if(!KE(e))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new xu),o||JB(t)?aj(t,e,n,r,i,s):ZEe(t,e,l,n,r,i,s);if(!(n&bTe)){var g=f&&u6.call(t,"__wrapped__"),y=c&&u6.call(e,"__wrapped__");if(g||y){var _=g?t.value():t,x=y?e.value():e;return s||(s=new xu),i(_,x,n,r,s)}}return h?(s||(s=new xu),fTe(t,e,n,r,i,s)):!1}function eO(t,e,n,r,i){return t===e?!0:t==null||e==null||!hh(t)&&!hh(e)?t!==t&&e!==e:ATe(t,e,n,r,eO,i)}var ETe=1,TTe=2;function CTe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],f=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var c=new xu;if(r)var h=r(u,f,l,t,e,c);if(!(h===void 0?eO(f,u,ETe|TTe,r,c):h))return!1}}return!0}function lj(t){return t===t&&!Wa(t)}function MTe(t){for(var e=YB(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,lj(i)]}return e}function uj(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function RTe(t){var e=MTe(t);return e.length==1&&e[0][2]?uj(e[0][0],e[0][1]):function(n){return n===t||CTe(n,t,e)}}var ITe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LTe=/^\w*$/;function tO(t,e){if(fa(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||IC(t)?!0:LTe.test(t)||!ITe.test(t)||e!=null&&t in Object(e)}var PTe="Expected a function";function nO(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(PTe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(nO.Cache||Nc),n}nO.Cache=Nc;var DTe=500;function BTe(t){var e=nO(t,function(r){return n.size===DTe&&n.clear(),r}),n=e.cache;return e}var OTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kTe=/\\(\\)?/g,FTe=BTe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(OTe,function(n,r,i,s){e.push(i?s.replace(kTe,"$1"):r||n)}),e});const NTe=FTe;var UTe=1/0,c6=fh?fh.prototype:void 0,f6=c6?c6.toString:void 0;function cj(t){if(typeof t=="string")return t;if(fa(t))return oj(t,cj)+"";if(IC(t))return f6?f6.call(t):"";var e=t+"";return e=="0"&&1/t==-UTe?"-0":e}function HTe(t){return t==null?"":cj(t)}function fj(t,e){return fa(t)?t:tO(t,e)?[t]:NTe(HTe(t))}var GTe=1/0;function PC(t){if(typeof t=="string"||IC(t))return t;var e=t+"";return e=="0"&&1/t==-GTe?"-0":e}function hj(t,e){e=fj(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[PC(e[n++])];return n&&n==r?t:void 0}function zTe(t,e,n){var r=t==null?void 0:hj(t,e);return r===void 0?n:r}function $Te(t,e){return t!=null&&e in Object(t)}function VTe(t,e,n){e=fj(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=PC(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&QB(i)&&XB(o,i)&&(fa(t)||qE(t)))}function WTe(t,e){return t!=null&&VTe(t,e,$Te)}var jTe=1,qTe=2;function KTe(t,e){return tO(t)&&lj(e)?uj(PC(t),e):function(n){var r=zTe(n,t);return r===void 0&&r===e?WTe(n,t):eO(e,r,jTe|qTe)}}function QTe(t){return function(e){return e==null?void 0:e[t]}}function JTe(t){return function(e){return hj(e,t)}}function XTe(t){return tO(t)?QTe(PC(t)):JTe(t)}function YTe(t){return typeof t=="function"?t:t==null?RC:typeof t=="object"?fa(t)?KTe(t[0],t[1]):RTe(t):XTe(t)}function ZTe(t,e){var n=-1,r=Uy(t)?Array(t.length):[];return rj(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function nm(t,e){var n=fa(t)?oj:ZTe;return n(t,YTe(e))}var eCe=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=jt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return St("div",{style:s.swatches,children:[nm(n,function(o){return W(tm,{color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}},o)}),W("div",{style:s.clear})]})},rO=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,f=e.className,c=f===void 0?"":f,h=i==="transparent",g=function(x,w){Dh(x)&&n({hex:x,source:"hex"},w)},y=jt(Lo({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:ZB(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return St("div",{style:y.card,className:"block-picker "+c,children:[W("div",{style:y.triangle}),St("div",{style:y.head,children:[h&&W(Fy,{borderRadius:"6px 6px 0 0"}),W("div",{style:y.label,children:i})]}),St("div",{style:y.body,children:[W(eCe,{colors:s,onClick:g,onSwatchHover:r}),W(En,{style:{input:y.input},value:i,onChange:g})]})]})};rO.propTypes={width:ze.exports.oneOfType([ze.exports.string,ze.exports.number]),colors:ze.exports.arrayOf(ze.exports.string),triangle:ze.exports.oneOf(["top","hide"]),styles:ze.exports.object};rO.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Po(rO);var Sg={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ag={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Eg={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Tg={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Cg={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Mg={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Rg={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Ig={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Lg={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},G1={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},Pg={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},Dg={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},Bg={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},Og={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},kg={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},Fg={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Ng={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},Ug={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},dj=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=jt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return W("div",{style:u.swatch,children:W(tm,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}})})};dj.defaultProps={circleSize:28,circleSpacing:14};const tCe=VB(dj);var iO=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,f=e.circleSpacing,c=e.className,h=c===void 0?"":c,g=jt(Lo({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-f,marginBottom:-f}}},u)),y=function(x,w){return r({hex:x,source:"hex"},w)};return W("div",{style:g.card,className:"circle-picker "+h,children:nm(s,function(_){return W(tCe,{color:_,onClick:y,onSwatchHover:i,active:o===_.toLowerCase(),circleSize:a,circleSpacing:f},_)})})};iO.propTypes={width:ze.exports.oneOfType([ze.exports.string,ze.exports.number]),circleSize:ze.exports.number,circleSpacing:ze.exports.number,styles:ze.exports.object};iO.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Sg[500],Ag[500],Eg[500],Tg[500],Cg[500],Mg[500],Rg[500],Ig[500],Lg[500],G1[500],Pg[500],Dg[500],Bg[500],Og[500],kg[500],Fg[500],Ng[500],Ug[500]],styles:{}};Po(iO);function h6(t){return t===void 0}var pj={};Object.defineProperty(pj,"__esModule",{value:!0});var d6=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nCe=z.exports,p6=rCe(nCe);function rCe(t){return t&&t.__esModule?t:{default:t}}function iCe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n}var lS=24,sCe=pj.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?lS:r,s=t.height,o=s===void 0?lS:s,a=t.style,l=a===void 0?{}:a,u=iCe(t,["fill","width","height","style"]);return p6.default.createElement("svg",d6({viewBox:"0 0 "+lS+" "+lS,style:d6({fill:n,width:i,height:o},l)},u),p6.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},oCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function aCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mj=function(t){uCe(e,t);function e(n){aCe(this,e);var r=lCe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?Dh(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(h6(i.s)?r.props.hsl.s:i.s),l:Number(h6(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return oCe(e,[{key:"render",value:function(){var r=this,i=jt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=W("div",{style:i.fields,className:"flexbox-fix",children:W("div",{style:i.field,children:W(En,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange})})}):this.state.view==="rgb"?s=St("div",{style:i.fields,className:"flexbox-fix",children:[W("div",{style:i.field,children:W(En,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})}),W("div",{style:i.field,children:W(En,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})}),W("div",{style:i.field,children:W(En,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})}),W("div",{style:i.alpha,children:W(En,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange})})]}):this.state.view==="hsl"&&(s=St("div",{style:i.fields,className:"flexbox-fix",children:[W("div",{style:i.field,children:W(En,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})}),W("div",{style:i.field,children:W(En,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})}),W("div",{style:i.field,children:W(En,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})}),W("div",{style:i.alpha,children:W(En,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})})]})),St("div",{style:i.wrap,className:"flexbox-fix",children:[s,W("div",{style:i.toggle,children:W("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a},children:W(sCe,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight})})})]})}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(ut.Component);mj.defaultProps={view:"hex"};var m6=function(){var e=jt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return W("div",{style:e.picker})},cCe=function(){var e=jt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return W("div",{style:e.picker})},sO=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,f=e.styles,c=f===void 0?{}:f,h=e.className,g=h===void 0?"":h,y=e.defaultView,_=jt(Lo({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},c),{disableAlpha:i});return St("div",{style:_.picker,className:"chrome-picker "+g,children:[W("div",{style:_.saturation,children:W(LC,{style:_.Saturation,hsl:o,hsv:a,pointer:cCe,onChange:r})}),St("div",{style:_.body,children:[St("div",{style:_.controls,className:"flexbox-fix",children:[W("div",{style:_.color,children:St("div",{style:_.swatch,children:[W("div",{style:_.active}),W(Fy,{renderers:u})]})}),St("div",{style:_.toggles,children:[W("div",{style:_.hue,children:W(Ny,{style:_.Hue,hsl:o,pointer:m6,onChange:r})}),W("div",{style:_.alpha,children:W(WB,{style:_.Alpha,rgb:s,hsl:o,pointer:m6,renderers:u,onChange:r})})]})]}),W(mj,{rgb:s,hsl:o,hex:l,view:y,onChange:r,disableAlpha:i})]})]})};sO.propTypes={width:ze.exports.oneOfType([ze.exports.string,ze.exports.number]),disableAlpha:ze.exports.bool,styles:ze.exports.object,defaultView:ze.exports.oneOf(["hex","rgb","hsl"])};sO.defaultProps={width:225,disableAlpha:!1,styles:{}};Po(sO);var fCe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=jt({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:ZB(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return W(tm,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n},children:W("div",{style:a.dot})})},hCe=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=jt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return St("div",{style:s.fields,className:"flexbox-fix",children:[W("div",{style:s.active}),W(En,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),W(En,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),W(En,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),W(En,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o})]})},oO=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,f=u===void 0?"":u,c=jt(Lo({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),h=function(y,_){y.hex?Dh(y.hex)&&n({hex:y.hex,source:"hex"},_):n(y,_)};return W(jx,{style:c.Compact,styles:l,children:St("div",{style:c.compact,className:"compact-picker "+f,children:[St("div",{children:[nm(i,function(g){return W(fCe,{color:g,active:g.toLowerCase()===s,onClick:h,onSwatchHover:r},g)}),W("div",{style:c.clear})]}),W(hCe,{hex:s,rgb:o,onChange:h})]})})};oO.propTypes={colors:ze.exports.arrayOf(ze.exports.string),styles:ze.exports.object};oO.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Po(oO);var dCe=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=jt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return W("div",{style:a.swatch,children:W(tm,{color:r,onClick:i,onHover:s,focusStyle:o})})};const pCe=VB(dCe);var aO=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,f=u===void 0?"":u,c=jt(Lo({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),h=function(y,_){return i({hex:y,source:"hex"},_)};return St("div",{style:c.card,className:"github-picker "+f,children:[W("div",{style:c.triangleShadow}),W("div",{style:c.triangle}),nm(r,function(g){return W(pCe,{color:g,onClick:h,onSwatchHover:s},g)})]})};aO.propTypes={width:ze.exports.oneOfType([ze.exports.string,ze.exports.number]),colors:ze.exports.arrayOf(ze.exports.string),triangle:ze.exports.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ze.exports.object};aO.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Po(aO);var mCe=function(e){var n=e.direction,r=jt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return W("div",{style:r.picker})},lO=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,f=e.className,c=f===void 0?"":f,h=jt(Lo({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),g=function(_){return i({a:1,h:_.h,l:.5,s:1})};return W("div",{style:h.picker,className:"hue-picker "+c,children:W(Ny,{...h.hue,hsl:s,pointer:a,onChange:g,direction:o})})};lO.propTypes={styles:ze.exports.object};lO.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:mCe,styles:{}};Po(lO);var gCe=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=jt(Lo({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),f=function(h,g){h.hex?Dh(h.hex)&&n({hex:h.hex,source:"hex"},g):(h.r||h.g||h.b)&&n({r:h.r||i.r,g:h.g||i.g,b:h.b||i.b,source:"rgb"},g)};return W(jx,{styles:o,children:St("div",{style:u.material,className:"material-picker "+l,children:[W(En,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:f}),St("div",{style:u.split,className:"flexbox-fix",children:[W("div",{style:u.third,children:W(En,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:f})}),W("div",{style:u.third,children:W(En,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:f})}),W("div",{style:u.third,children:W(En,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:f})})]})]})})};Po(gCe);var yCe=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=jt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,f){u["#"]?Dh(u["#"])&&n({hex:u["#"],source:"hex"},f):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},f):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},f)};return St("div",{style:o.fields,children:[W(En,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),W(En,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),W(En,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),W("div",{style:o.divider}),W(En,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),W(En,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),W(En,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),W("div",{style:o.divider}),W(En,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),St("div",{style:o.fieldSymbols,children:[W("div",{style:o.symbol,children:"\xB0"}),W("div",{style:o.symbol,children:"%"}),W("div",{style:o.symbol,children:"%"})]})]})},vCe=function(e){var n=e.hsl,r=jt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return W("div",{style:r.picker})},_Ce=function(){var e=jt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return St("div",{style:e.pointer,children:[W("div",{style:e.left,children:W("div",{style:e.leftInside})}),W("div",{style:e.right,children:W("div",{style:e.rightInside})})]})},g6=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=jt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return W("div",{style:o.button,onClick:n,children:r||i})},xCe=function(e){var n=e.rgb,r=e.currentColor,i=jt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return St("div",{children:[W("div",{style:i.label,children:"new"}),St("div",{style:i.swatches,children:[W("div",{style:i.new}),W("div",{style:i.current})]}),W("div",{style:i.label,children:"current"})]})},wCe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function bCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SCe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ACe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uO=function(t){ACe(e,t);function e(n){bCe(this,e);var r=SCe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return wCe(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=jt(Lo({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return St("div",{style:l.picker,className:"photoshop-picker "+a,children:[W("div",{style:l.head,children:this.props.header}),St("div",{style:l.body,className:"flexbox-fix",children:[W("div",{style:l.saturation,children:W(LC,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:vCe,onChange:this.props.onChange})}),W("div",{style:l.hue,children:W(Ny,{direction:"vertical",hsl:this.props.hsl,pointer:_Ce,onChange:this.props.onChange})}),W("div",{style:l.controls,children:St("div",{style:l.top,className:"flexbox-fix",children:[W("div",{style:l.previews,children:W(xCe,{rgb:this.props.rgb,currentColor:this.state.currentColor})}),St("div",{style:l.actions,children:[W(g6,{label:"OK",onClick:this.props.onAccept,active:!0}),W(g6,{label:"Cancel",onClick:this.props.onCancel}),W(yCe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex})]})]})})]})]})}}]),e}(ut.Component);uO.propTypes={header:ze.exports.string,styles:ze.exports.object};uO.defaultProps={header:"Color Picker",styles:{}};Po(uO);var ECe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=jt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(f,c){f.hex?Dh(f.hex)&&n({hex:f.hex,source:"hex"},c):f.r||f.g||f.b?n({r:f.r||r.r,g:f.g||r.g,b:f.b||r.b,a:r.a,source:"rgb"},c):f.a&&(f.a<0?f.a=0:f.a>100&&(f.a=100),f.a/=100,n({h:i.h,s:i.s,l:i.l,a:f.a,source:"rgb"},c))};return St("div",{style:a.fields,className:"flexbox-fix",children:[W("div",{style:a.double,children:W(En,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})}),W("div",{style:a.single,children:W(En,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})}),W("div",{style:a.single,children:W(En,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})}),W("div",{style:a.single,children:W(En,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})}),W("div",{style:a.alpha,children:W(En,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})})]})},gj=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=jt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,f){i({hex:u,source:"hex"},f)};return W("div",{style:o.colors,className:"flexbox-fix",children:n.map(function(l){var u=typeof l=="string"?{color:l}:l,f=""+u.color+(u.title||"");return W("div",{style:o.swatchWrap,children:W(tm,{...u,style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})},f)})})};gj.propTypes={colors:ze.exports.arrayOf(ze.exports.oneOfType([ze.exports.string,ze.exports.shape({color:ze.exports.string,title:ze.exports.string})])).isRequired};var TCe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cO=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,f=e.presetColors,c=e.renderers,h=e.styles,g=h===void 0?{}:h,y=e.className,_=y===void 0?"":y,x=jt(Lo({default:TCe({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},g),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},g),{disableAlpha:u});return St("div",{style:x.picker,className:"sketch-picker "+_,children:[W("div",{style:x.saturation,children:W(LC,{style:x.Saturation,hsl:o,hsv:s,onChange:a})}),St("div",{style:x.controls,className:"flexbox-fix",children:[St("div",{style:x.sliders,children:[W("div",{style:x.hue,children:W(Ny,{style:x.Hue,hsl:o,onChange:a})}),W("div",{style:x.alpha,children:W(WB,{style:x.Alpha,rgb:r,hsl:o,renderers:c,onChange:a})})]}),St("div",{style:x.color,children:[W(Fy,{}),W("div",{style:x.activeColor})]})]}),W(ECe,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),W(gj,{colors:f,onClick:a,onSwatchHover:l})]})};cO.propTypes={disableAlpha:ze.exports.bool,width:ze.exports.oneOfType([ze.exports.string,ze.exports.number]),styles:ze.exports.object};cO.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const CCe=Po(cO);var v1=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=jt({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),f=function(h){return s({h:n.h,s:.5,l:r,source:"hsl"},h)};return W("div",{style:u.swatch,onClick:f})},MCe=function(e){var n=e.onClick,r=e.hsl,i=jt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return St("div",{style:i.swatches,children:[W("div",{style:i.swatch,children:W(v1,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})}),W("div",{style:i.swatch,children:W(v1,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})}),W("div",{style:i.swatch,children:W(v1,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})}),W("div",{style:i.swatch,children:W(v1,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})}),W("div",{style:i.swatch,children:W(v1,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})}),W("div",{style:i.clear})]})},RCe=function(){var e=jt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return W("div",{style:e.picker})},fO=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=jt(Lo({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return St("div",{style:u.wrap||{},className:"slider-picker "+l,children:[W("div",{style:u.hue,children:W(Ny,{style:u.Hue,hsl:n,pointer:i,onChange:r})}),W("div",{style:u.swatches,children:W(MCe,{hsl:n,onClick:r})})]})};fO.propTypes={styles:ze.exports.object};fO.defaultProps={pointer:RCe,styles:{}};Po(fO);var yj={};Object.defineProperty(yj,"__esModule",{value:!0});var y6=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ICe=z.exports,v6=LCe(ICe);function LCe(t){return t&&t.__esModule?t:{default:t}}function PCe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n}var uS=24,DCe=yj.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?uS:r,s=t.height,o=s===void 0?uS:s,a=t.style,l=a===void 0?{}:a,u=PCe(t,["fill","width","height","style"]);return v6.default.createElement("svg",y6({viewBox:"0 0 "+uS+" "+uS,style:y6({fill:n,width:i,height:o},l)},u),v6.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},BCe=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=jt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:ZB(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return W(tm,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n},children:W("div",{style:u.check,children:W(DCe,{})})})},OCe=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=jt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return W("div",{style:o.group,children:nm(i,function(a,l){return W(BCe,{color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r},a)})})},hO=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,f=e.className,c=f===void 0?"":f,h=jt(Lo({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),g=function(_,x){return i({hex:_,source:"hex"},x)};return W("div",{style:h.picker,className:"swatches-picker "+c,children:W(jx,{children:W("div",{style:h.overflow,children:St("div",{style:h.body,children:[nm(o,function(y){return W(OCe,{group:y,active:a,onClick:g,onSwatchHover:s},y.toString())}),W("div",{style:h.clear})]})})})})};hO.propTypes={width:ze.exports.oneOfType([ze.exports.string,ze.exports.number]),height:ze.exports.oneOfType([ze.exports.string,ze.exports.number]),colors:ze.exports.arrayOf(ze.exports.arrayOf(ze.exports.string)),styles:ze.exports.object};hO.defaultProps={width:320,height:240,colors:[[Sg[900],Sg[700],Sg[500],Sg[300],Sg[100]],[Ag[900],Ag[700],Ag[500],Ag[300],Ag[100]],[Eg[900],Eg[700],Eg[500],Eg[300],Eg[100]],[Tg[900],Tg[700],Tg[500],Tg[300],Tg[100]],[Cg[900],Cg[700],Cg[500],Cg[300],Cg[100]],[Mg[900],Mg[700],Mg[500],Mg[300],Mg[100]],[Rg[900],Rg[700],Rg[500],Rg[300],Rg[100]],[Ig[900],Ig[700],Ig[500],Ig[300],Ig[100]],[Lg[900],Lg[700],Lg[500],Lg[300],Lg[100]],["#194D33",G1[700],G1[500],G1[300],G1[100]],[Pg[900],Pg[700],Pg[500],Pg[300],Pg[100]],[Dg[900],Dg[700],Dg[500],Dg[300],Dg[100]],[Bg[900],Bg[700],Bg[500],Bg[300],Bg[100]],[Og[900],Og[700],Og[500],Og[300],Og[100]],[kg[900],kg[700],kg[500],kg[300],kg[100]],[Fg[900],Fg[700],Fg[500],Fg[300],Fg[100]],[Ng[900],Ng[700],Ng[500],Ng[300],Ng[100]],[Ug[900],Ug[700],Ug[500],Ug[300],Ug[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Po(hO);var dO=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,f=e.className,c=f===void 0?"":f,h=jt(Lo({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),g=function(_,x){Dh(_)&&n({hex:_,source:"hex"},x)};return St("div",{style:h.card,className:"twitter-picker "+c,children:[W("div",{style:h.triangleShadow}),W("div",{style:h.triangle}),St("div",{style:h.body,children:[nm(s,function(y,_){return W(tm,{color:y,hex:y,style:h.swatch,onClick:g,onHover:r,focusStyle:{boxShadow:"0 0 4px "+y}},_)}),W("div",{style:h.hash,children:"#"}),W(En,{label:null,style:{input:h.input},value:i.replace("#",""),onChange:g}),W("div",{style:h.clear})]})]})};dO.propTypes={width:ze.exports.oneOfType([ze.exports.string,ze.exports.number]),triangle:ze.exports.oneOf(["hide","top-left","top-right"]),colors:ze.exports.arrayOf(ze.exports.string),styles:ze.exports.object};dO.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Po(dO);var pO=function(e){var n=jt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return W("div",{style:n.picker})};pO.propTypes={hsl:ze.exports.shape({h:ze.exports.number,s:ze.exports.number,l:ze.exports.number,a:ze.exports.number})};pO.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var mO=function(e){var n=jt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return W("div",{style:n.picker})};mO.propTypes={hsl:ze.exports.shape({h:ze.exports.number,s:ze.exports.number,l:ze.exports.number,a:ze.exports.number})};mO.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var kCe=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(g,y){if(g.hex)Dh(g.hex)&&n({hex:g.hex,source:"hex"},y);else if(g.rgb){var _=g.rgb.split(",");mR(g.rgb,"rgb")&&n({r:_[0],g:_[1],b:_[2],a:1,source:"rgb"},y)}else if(g.hsv){var x=g.hsv.split(",");mR(g.hsv,"hsv")&&(x[2]=x[2].replace("%",""),x[1]=x[1].replace("%",""),x[0]=x[0].replace("\xB0",""),x[1]==1?x[1]=.01:x[2]==1&&(x[2]=.01),n({h:Number(x[0]),s:Number(x[1]),v:Number(x[2]),source:"hsv"},y))}else if(g.hsl){var w=g.hsl.split(",");mR(g.hsl,"hsl")&&(w[2]=w[2].replace("%",""),w[1]=w[1].replace("%",""),w[0]=w[0].replace("\xB0",""),c[1]==1?c[1]=.01:c[2]==1&&(c[2]=.01),n({h:Number(w[0]),s:Number(w[1]),v:Number(w[2]),source:"hsl"},y))}},l=jt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,f=Math.round(i.h)+"\xB0, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",c=Math.round(o.h)+"\xB0, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return W("div",{style:l.wrap,className:"flexbox-fix",children:St("div",{style:l.fields,children:[W("div",{style:l.double,children:W(En,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})}),St("div",{style:l.column,children:[W("div",{style:l.single,children:W(En,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})}),W("div",{style:l.single,children:W(En,{style:{input:l.input2,label:l.label2},label:"hsv",value:c,onChange:a})}),W("div",{style:l.single,children:W(En,{style:{input:l.input2,label:l.label2},label:"hsl",value:f,onChange:a})})]})]})})},gO=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,f=u===void 0?{}:u,c=e.className,h=c===void 0?"":c,g=jt(Lo({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},f));return St("div",{style:g.picker,className:"google-picker "+h,children:[W("div",{style:g.head,children:l}),W("div",{style:g.swatch}),W("div",{style:g.saturation,children:W(LC,{hsl:s,hsv:o,pointer:pO,onChange:r})}),St("div",{style:g.body,children:[W("div",{style:g.controls,className:"flexbox-fix",children:W("div",{style:g.hue,children:W(Ny,{style:g.Hue,hsl:s,radius:"4px",pointer:mO,onChange:r})})}),W(kCe,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})]})]})};gO.propTypes={width:ze.exports.oneOfType([ze.exports.string,ze.exports.number]),styles:ze.exports.object,header:ze.exports.string};gO.defaultProps={width:652,styles:{},header:"Color picker"};Po(gO);function FCe(t,e,n){return Px.call(e,"css")?W(ID,RD(t,e),n):W(t,e,n)}function NCe(t,e,n){return Px.call(e,"css")?St(ID,RD(t,e),n):St(t,e,n)}const Z=(t,e,n)=>FCe(t,PD(e),n),Ke=(t,e,n)=>NCe(t,PD(e),n),UCe=({value:t,onChange:e,onOpen:n,label:r,isOpen:i,onClose:s})=>Ke(z.exports.Fragment,{children:[Ke("div",{sx:{display:"flex",width:"200px"},children:[Z("p",{sx:{width:"90px"},children:r}),Z("div",{sx:{height:"20px",width:"100px",backgroundColor:t,m:"2px",ml:"4px",textShadow:"1px 1px 1px  white"},onClick:()=>{if(i){s==null||s();return}n()},children:t})]}),i?Z("div",{sx:{position:"absolute",right:"210px"},children:Z(CCe,{color:t,onChange:o=>e(o.hex)})}):null]}),HCe=new X7,GCe=({children:t})=>{const[e,n]=z.exports.useState(bl);return Z(tW,{client:HCe,children:Ke(Fae,{theme:wce(e!=null?e:bl),children:[window.location.search.includes("colors")&&Z(zCe,{onChange:n}),Z($Ce,{sx:{width:"100%",WebkitFontSmoothing:"antialiased",fontFamily:"monospace"},children:Z(OD,{children:Z(vj,{colors:e!=null?e:bl,children:t})})})]})})},zCe=({onChange:t})=>{const[e,n]=z.exports.useState(),[r,i]=z.exports.useState("");z.exports.useEffect(()=>{e&&t(e)},[e]);const[s]=ku();return Z("div",{sx:{position:"absolute",top:"20px",right:"20px",width:"200px",zIndex:1,pointerEvents:"all"},children:[s].map(o=>Ke("div",{sx:{mb:"20px",backdropFilter:"blur(10px)",p:"10px"},children:[Z("p",{sx:{pb:"10px"},children:o}),Object.keys(bl[o]).map(a=>{var l;return Z(UCe,{label:a,isOpen:r===`${o}-${a}`,onOpen:()=>i(`${o}-${a}`),onClose:()=>i(""),value:(l=e==null?void 0:e.light[a])!=null?l:bl[o][a],onChange:u=>{var f,c;n({...e!=null?e:{},light:{...bl.light,...(f=e==null?void 0:e.light)!=null?f:{},[a]:u},dark:{...bl.dark,...(c=e==null?void 0:e.dark)!=null?c:{},[a]:u}})}},`${o}-${a}`)})]},o))})},yO=z.exports.createContext(void 0),vj=({colors:t,children:e})=>Z(yO.Provider,{value:t!=null?t:bl,children:e}),$Ce=({children:t,...e})=>{const n=ku()[1],[r,i]=z.exports.useState(!1);return z.exports.useEffect(()=>{if(window.location.search.includes("light")){n("light"),i(!0);return}if(window.location.search.includes("dark")){n("dark"),i(!0);return}if(window.location.href.includes("admin")){n("dark"),i(!0);return}const o=new Date().getHours();o>17||o<7?n("dark"):n("light"),i(!0)},[]),r?Z("div",{...e,children:t}):null},VCe="popstate",vO="pushState",_O="replaceState",_6=[VCe,vO,_O],WCe=({base:t=""}={})=>{const[{path:e,search:n},r]=z.exports.useState(()=>({path:x6(t),search:location.search})),i=z.exports.useRef(e+n);z.exports.useEffect(()=>{const o=()=>{const a=x6(t),l=location.search,u=a+l;i.current!==u&&(i.current=u,r({path:a,search:l}))};return _6.forEach(a=>addEventListener(a,o)),o(),()=>_6.forEach(a=>removeEventListener(a,o))},[t]);const s=z.exports.useCallback((o,{replace:a=!1}={})=>history[a?_O:vO](null,"",o[0]==="~"?o.slice(1):t+o),[t]);return[e,s]};if(typeof history<"u")for(const t of[vO,_O]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}const x6=(t,e=location.pathname)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/";function jCe(t=KCe){let e={};const n=r=>e[r]||(e[r]=t(r));return(r,i)=>{const{regexp:s,keys:o}=n(r||""),a=s.exec(i);if(!a)return[!1,null];const l=o.reduce((u,f,c)=>(u[f.name]=a[c+1],u),{});return[!0,l]}}const w6=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),qCe=(t,e,n)=>{let r=t?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&n&&(r="(?:\\/"+r+")"),r+(e?"?":"")},KCe=t=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let n=null,r=0,i=[],s="";for(;(n=e.exec(t))!==null;){const[o,a,l]=n,u=l==="+"||l==="*",f=l==="?"||l==="*",c=f&&t[n.index-1]==="/"?1:0,h=t.substring(r,n.index-c);i.push({name:a}),r=e.lastIndex,s+=w6(h)+qCe(u,f,c)}return s+=w6(t.substring(r)),{keys:i,regexp:new RegExp("^"+s+"(?:\\/)?$","i")}},QCe=z.exports.createContext({}),JCe=({hook:t=WCe,base:e="",matcher:n=jCe()}={})=>({hook:t,base:e,matcher:n}),_j=()=>{const t=z.exports.useContext(QCe);return t.v||(t.v=JCe())},XCe=()=>{const t=_j();return t.hook(t)},YCe=t=>{const[e]=XCe();return _j().matcher(t,e)},po=({path:t,match:e,component:n,children:r})=>{const i=YCe(t),[s,o]=e||i;return s?n?z.exports.createElement(n,{params:o}):typeof r=="function"?r(o):r:null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZCe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,c=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(h=64)),r.push(n[f],n[c],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZCe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const c=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||c==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const g=a<<4&240|u>>2;if(r.push(g),c!==64){const y=u<<6&192|c;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},eMe=function(t){const e=xj(t);return wj.encodeByteArray(e,!0)},bj=function(t){return eMe(t).replace(/\./g,"")},tMe=function(t){try{return wj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nMe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ni())}function Aj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ej(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rMe(){return Ni().indexOf("Electron/")>=0}function Tj(){const t=Ni();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iMe(){return Ni().indexOf("MSAppHost/")>=0}function sMe(){return typeof indexedDB=="object"}function oMe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aMe="FirebaseError";class Uc extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aMe,Object.setPrototypeOf(this,Uc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qx.prototype.create)}}class qx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lMe(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Uc(i,a,r)}}function lMe(t,e){return t.replace(uMe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uMe=/\{\$([^}]+)}/g;function cMe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function XE(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(b6(s)&&b6(o)){if(!XE(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function b6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function z1(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $1(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fMe(t,e){const n=new hMe(t,e);return n.subscribe.bind(n)}class hMe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dMe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yR),i.error===void 0&&(i.error=yR),i.complete===void 0&&(i.complete=yR);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dMe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yR(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){return new Promise((n,r)=>{t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var s;r(`${e}: ${(s=i.target.error)===null||s===void 0?void 0:s.message}`)}})}class S6{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,n="readonly"){return new Cj(this._db.transaction.call(this._db,e,n))}createObjectStore(e,n){return new Mj(this._db.createObjectStore(e,n))}close(){this._db.close()}}class Cj{constructor(e){this._transaction=e,this.complete=new Promise((n,r)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new Mj(this._transaction.objectStore(e))}}class Mj{constructor(e){this._store=e}index(e){return new A6(this._store.index(e))}createIndex(e,n,r){return new A6(this._store.createIndex(e,n,r))}get(e){const n=this._store.get(e);return V1(n,"Error reading from IndexedDB")}put(e,n){const r=this._store.put(e,n);return V1(r,"Error writing to IndexedDB")}delete(e){const n=this._store.delete(e);return V1(n,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return V1(e,"Error clearing IndexedDB object store")}}class A6{constructor(e){this._index=e}get(e){const n=this._index.get(e);return V1(n,"Error reading from IndexedDB")}}function pMe(t,e,n){return new Promise((r,i)=>{try{const s=indexedDB.open(t,e);s.onsuccess=o=>{r(new S6(o.target.result))},s.onerror=o=>{var a;i(`Error opening indexedDB: ${(a=o.target.error)===null||a===void 0?void 0:a.message}`)},s.onupgradeneeded=o=>{n(new S6(s.result),o.oldVersion,o.newVersion,new Cj(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}class Rc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mMe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nMe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yMe(e))try{this.getOrInitializeService({instanceIdentifier:Kd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Kd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kd){return this.instances.has(e)}getOptions(e=Kd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gMe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kd){return this.component?this.component.multipleInstances?e:Kd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gMe(t){return t===Kd?void 0:t}function yMe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vMe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mMe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nn||(Nn={}));const _Me={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},xMe=Nn.INFO,wMe={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},bMe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wMe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xO{constructor(e){this.name=e,this._logLevel=xMe,this._logHandler=bMe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_Me[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...e),this._logHandler(this,Nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...e),this._logHandler(this,Nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...e),this._logHandler(this,Nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...e),this._logHandler(this,Nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...e),this._logHandler(this,Nn.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SMe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AMe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AMe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const AP="@firebase/app",E6="0.7.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new xO("@firebase/app"),EMe="@firebase/app-compat",TMe="@firebase/analytics-compat",CMe="@firebase/analytics",MMe="@firebase/app-check-compat",RMe="@firebase/app-check",IMe="@firebase/auth",LMe="@firebase/auth-compat",PMe="@firebase/database",DMe="@firebase/database-compat",BMe="@firebase/functions",OMe="@firebase/functions-compat",kMe="@firebase/installations",FMe="@firebase/installations-compat",NMe="@firebase/messaging",UMe="@firebase/messaging-compat",HMe="@firebase/performance",GMe="@firebase/performance-compat",zMe="@firebase/remote-config",$Me="@firebase/remote-config-compat",VMe="@firebase/storage",WMe="@firebase/storage-compat",jMe="@firebase/firestore",qMe="@firebase/firestore-compat",KMe="firebase",QMe="9.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="[DEFAULT]",JMe={[AP]:"fire-core",[EMe]:"fire-core-compat",[CMe]:"fire-analytics",[TMe]:"fire-analytics-compat",[RMe]:"fire-app-check",[MMe]:"fire-app-check-compat",[IMe]:"fire-auth",[LMe]:"fire-auth-compat",[PMe]:"fire-rtdb",[DMe]:"fire-rtdb-compat",[BMe]:"fire-fn",[OMe]:"fire-fn-compat",[kMe]:"fire-iid",[FMe]:"fire-iid-compat",[NMe]:"fire-fcm",[UMe]:"fire-fcm-compat",[HMe]:"fire-perf",[GMe]:"fire-perf-compat",[zMe]:"fire-rc",[$Me]:"fire-rc-compat",[VMe]:"fire-gcs",[WMe]:"fire-gcs-compat",[jMe]:"fire-fst",[qMe]:"fire-fst-compat","fire-js":"fire-js",[KMe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map,EP=new Map;function XMe(t,e){try{t.container.addComponent(e)}catch(n){wO.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dh(t){const e=t.name;if(EP.has(e))return wO.debug(`There were multiple attempts to register component ${e}.`),!1;EP.set(e,t);for(const n of YE.values())XMe(n,t);return!0}function Qx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YMe={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},Rp=new qx("app","Firebase",YMe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZMe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rp.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=QMe;function e2e(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Rj,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Rp.create("bad-app-name",{appName:String(r)});const i=YE.get(r);if(i){if(XE(t,i.options)&&XE(n,i.config))return i;throw Rp.create("duplicate-app",{appName:r})}const s=new vMe(r);for(const a of EP.values())s.addComponent(a);const o=new ZMe(t,n,s);return YE.set(r,o),o}function DC(t=Rj){const e=YE.get(t);if(!e)throw Rp.create("no-app",{appName:t});return e}function za(t,e,n){var r;let i=(r=JMe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wO.warn(a.join(" "));return}dh(new Rc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2e="firebase-heartbeat-database",n2e=1,J_="firebase-heartbeat-store";let vR=null;function Ij(){return vR||(vR=pMe(t2e,n2e,(t,e)=>{switch(e){case 0:t.createObjectStore(J_)}}).catch(t=>{throw Rp.create("storage-open",{originalErrorMessage:t.message})})),vR}async function r2e(t){try{return(await Ij()).transaction(J_).objectStore(J_).get(Lj(t))}catch(e){throw Rp.create("storage-get",{originalErrorMessage:e.message})}}async function T6(t,e){try{const r=(await Ij()).transaction(J_,"readwrite");return await r.objectStore(J_).put(e,Lj(t)),r.complete}catch(n){throw Rp.create("storage-set",{originalErrorMessage:n.message})}}function Lj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2e=1024,s2e=30*24*60*60*1e3;class o2e{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l2e(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=C6();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=s2e}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C6(),{heartbeatsToSend:n,unsentEntries:r}=a2e(this._heartbeatsCache.heartbeats),i=bj(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function C6(){return new Date().toISOString().substring(0,10)}function a2e(t,e=i2e){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),M6(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),M6(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class l2e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sMe()?oMe().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await r2e(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return T6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return T6(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function M6(t){return bj(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2e(t){dh(new Rc("platform-logger",e=>new SMe(e),"PRIVATE")),dh(new Rc("heartbeat",e=>new o2e(e),"PRIVATE")),za(AP,E6,t),za(AP,E6,"esm2017"),za("fire-js","")}u2e("");function bO(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Pj(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c2e=Pj,Dj=new qx("auth","Firebase",Pj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=new xO("@firebase/auth");function UA(t,...e){R6.logLevel<=Nn.ERROR&&R6.error(`Auth (${Hy}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t,...e){throw SO(t,...e)}function wu(t,...e){return SO(t,...e)}function f2e(t,e,n){const r=Object.assign(Object.assign({},c2e()),{[e]:n});return new qx("auth","Firebase",r).create(e,{appName:t.name})}function SO(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Dj.create(t,...e)}function Qt(t,e,...n){if(!t)throw SO(e,...n)}function vc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw UA(e),new Error(e)}function Ic(t,e){t||vc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new Map;function _c(t){Ic(t instanceof Function,"Expected a class definition");let e=I6.get(t);return e?(Ic(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I6.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2e(t,e){const n=Qx(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(XE(s,e!=null?e:{}))return i;Rl(i,"already-initialized")}return n.initialize({options:e})}function d2e(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_c);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function p2e(){return L6()==="http:"||L6()==="https:"}function L6(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p2e()||Aj()||"connection"in navigator)?navigator.onLine:!0}function g2e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ic(n>e,"Short delay should be less than long delay!"),this.isMobile=Sj()||Ej()}get(){return m2e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e){Ic(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;vc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;vc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;vc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2e=new Jx(3e4,6e4);function BC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xx(t,e,n,r,i={}){return Oj(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Kx(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Bj.fetch()(kj(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Oj(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y2e),e);try{const i=new _2e(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _R(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _R(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw _R(t,"email-already-in-use",o);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw f2e(t,f,u);Rl(t,f)}}catch(i){if(i instanceof Uc)throw i;Rl(t,"network-request-failed")}}async function OC(t,e,n,r,i={}){const s=await Xx(t,e,n,r,i);return"mfaPendingCredential"in s&&Rl(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kj(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?AO(t.config,i):`${t.config.apiScheme}://${i}`}class _2e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wu(this.auth,"network-request-failed")),v2e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _R(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wu(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2e(t,e){return Xx(t,"POST","/v1/accounts:delete",e)}async function w2e(t,e){return Xx(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b2e(t,e=!1){const n=Ui(t),r=await n.getIdToken(e),i=EO(r);Qt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:l_(xR(i.auth_time)),issuedAtTime:l_(xR(i.iat)),expirationTime:l_(xR(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xR(t){return Number(t)*1e3}function EO(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return UA("JWT malformed, contained fewer than 3 sections"),null;try{const i=tMe(n);return i?JSON.parse(i):(UA("Failed to decode base64 JWT payload"),null)}catch(i){return UA("Caught error parsing JWT payload as JSON",i),null}}function S2e(t){const e=EO(t);return Qt(e,"internal-error"),Qt(typeof e.exp<"u","internal-error"),Qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X_(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Uc&&A2e(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A2e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=l_(this.lastLoginAt),this.creationTime=l_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(t){var e;const n=t.auth,r=await t.getIdToken(),i=await X_(t,w2e(n,{idToken:r}));Qt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?M2e(s.providerUserInfo):[],a=C2e(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),f=l?u:!1,c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Fj(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,c)}async function T2e(t){const e=Ui(t);await ZE(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C2e(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function M2e(t){return t.map(e=>{var{providerId:n}=e,r=bO(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2e(t,e){const n=await Oj(t,{},async()=>{const r=Kx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kj(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Bj.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qt(e.idToken,"internal-error"),Qt(typeof e.idToken<"u","internal-error"),Qt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S2e(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Qt(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await R2e(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Y_;return r&&(Qt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Qt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Qt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Y_,this.toJSON())}_performRefresh(){return vc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t,e){Qt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dp{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=bO(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E2e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fj(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await X_(this,this.stsTokenManager.getToken(this.auth,e));return Qt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return b2e(this,e)}reload(){return T2e(this)}_assign(e){this!==e&&(Qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new dp(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ZE(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await X_(this,x2e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,f;const c=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:E,emailVerified:C,isAnonymous:M,providerData:P,stsTokenManager:D}=n;Qt(E&&D,e,"internal-error");const L=Y_.fromJSON(this.name,D);Qt(typeof E=="string",e,"internal-error"),bf(c,e.name),bf(h,e.name),Qt(typeof C=="boolean",e,"internal-error"),Qt(typeof M=="boolean",e,"internal-error"),bf(g,e.name),bf(y,e.name),bf(_,e.name),bf(x,e.name),bf(w,e.name),bf(b,e.name);const O=new dp({uid:E,auth:e,email:h,emailVerified:C,displayName:c,isAnonymous:M,photoURL:y,phoneNumber:g,tenantId:_,stsTokenManager:L,createdAt:w,lastLoginAt:b});return P&&Array.isArray(P)&&(O.providerData=P.map(q=>Object.assign({},q))),x&&(O._redirectEventId=x),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new Y_;i.updateFromServerResponse(n);const s=new dp({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ZE(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nj.type="NONE";const P6=Nj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t,e,n){return`firebase:${t}:${e}:${n}`}class b0{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=HA(this.userKey,i.apiKey,s),this.fullPersistenceKey=HA("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dp._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new b0(_c(P6),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_c(P6);const o=HA(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const c=dp._fromJSON(e,f);u!==s&&(a=c),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new b0(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new b0(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($j(e))return"Blackberry";if(Vj(e))return"Webos";if(TO(e))return"Safari";if((e.includes("chrome/")||Hj(e))&&!e.includes("edge/"))return"Chrome";if(zj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Uj(t=Ni()){return/firefox\//i.test(t)}function TO(t=Ni()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hj(t=Ni()){return/crios\//i.test(t)}function Gj(t=Ni()){return/iemobile/i.test(t)}function zj(t=Ni()){return/android/i.test(t)}function $j(t=Ni()){return/blackberry/i.test(t)}function Vj(t=Ni()){return/webos/i.test(t)}function kC(t=Ni()){return/iphone|ipad|ipod/i.test(t)}function I2e(t=Ni()){var e;return kC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L2e(){return Tj()&&document.documentMode===10}function Wj(t=Ni()){return kC(t)||zj(t)||Vj(t)||$j(t)||/windows phone/i.test(t)||Gj(t)}function P2e(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t,e=[]){let n;switch(t){case"Browser":n=D6(Ni());break;case"Worker":n=`${D6(Ni())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hy}/${r}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2e{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B6(this),this.idTokenSubscription=new B6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dj,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_c(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await b0.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e)}}async initializeCurrentUser(e){var n;let r=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=r==null?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);(!i||i===s)&&(o==null?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(Qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)):this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ZE(e)}catch(n){if(n.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g2e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ui(e):null;return n&&Qt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_c(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qx("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_c(e)||this._popupRedirectResolver;Qt(n,this,"argument-error"),this.redirectPersistenceManager=await b0.create(this,[_c(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Qt(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function CO(t){return Ui(t)}class B6{constructor(e){this.auth=e,this.observer=null,this.addObserver=fMe(n=>this.observer=n)}get next(){return Qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vc("not implemented")}_getIdTokenResponse(e){return vc("not implemented")}_linkToIdToken(e,n){return vc("not implemented")}_getReauthenticationResolver(e){return vc("not implemented")}}async function B2e(t,e){return Xx(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2e(t,e){return OC(t,"POST","/v1/accounts:signInWithPassword",BC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2e(t,e){return OC(t,"POST","/v1/accounts:signInWithEmailLink",BC(t,e))}async function F2e(t,e){return OC(t,"POST","/v1/accounts:signInWithEmailLink",BC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends MO{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Z_(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Z_(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return O2e(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return k2e(e,{email:this._email,oobCode:this._password});default:Rl(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return B2e(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return F2e(e,{idToken:n,email:this._email,oobCode:this._password});default:Rl(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(t,e){return OC(t,"POST","/v1/accounts:signInWithIdp",BC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2e="http://localhost";class Ip extends MO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ip(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rl("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=bO(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ip(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return S0(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,S0(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,S0(e,n)}buildRequest(){const e={requestUri:N2e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kx(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2e(t){const e=z1($1(t)).link,n=e?z1($1(e)).deep_link_id:null,r=z1($1(t)).deep_link_id;return(r?z1($1(r)).link:null)||r||n||e||t}class RO{constructor(e){var n,r,i,s,o,a;const l=z1($1(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,c=U2e((i=l.mode)!==null&&i!==void 0?i:null);Qt(u&&f&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=H2e(e);try{return new RO(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.providerId=Gy.PROVIDER_ID}static credential(e,n){return Z_._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=RO.parseLink(n);return Qt(r,"argument-error"),Z_._fromEmailAndCode(e,r.code,r.tenantId)}}Gy.PROVIDER_ID="password";Gy.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gy.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends qj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Yx{constructor(){super("facebook.com")}static credential(e){return Ip._fromParams({providerId:Gf.PROVIDER_ID,signInMethod:Gf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gf.credentialFromTaggedObject(e)}static credentialFromError(e){return Gf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gf.credential(e.oauthAccessToken)}catch{return null}}}Gf.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf extends Yx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ip._fromParams({providerId:zf.PROVIDER_ID,signInMethod:zf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zf.credentialFromTaggedObject(e)}static credentialFromError(e){return zf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zf.credential(n,r)}catch{return null}}}zf.GOOGLE_SIGN_IN_METHOD="google.com";zf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends Yx{constructor(){super("github.com")}static credential(e){return Ip._fromParams({providerId:$f.PROVIDER_ID,signInMethod:$f.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $f.credentialFromTaggedObject(e)}static credentialFromError(e){return $f.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $f.credential(e.oauthAccessToken)}catch{return null}}}$f.GITHUB_SIGN_IN_METHOD="github.com";$f.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Yx{constructor(){super("twitter.com")}static credential(e,n){return Ip._fromParams({providerId:Vf.PROVIDER_ID,signInMethod:Vf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vf.credentialFromTaggedObject(e)}static credentialFromError(e){return Vf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vf.credential(n,r)}catch{return null}}}Vf.TWITTER_SIGN_IN_METHOD="twitter.com";Vf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await dp._fromIdTokenResponse(e,r,i),o=O6(r);return new H0({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=O6(r);return new H0({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function O6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends Uc{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,eT.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new eT(e,n,r,i)}}function Kj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?eT._fromErrorAndOperation(t,s,e,r):s})}async function G2e(t,e,n=!1){const r=await X_(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return H0._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2e(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await X_(t,Kj(r,i,e,t),n);Qt(s.idToken,r,"internal-error");const o=EO(s.idToken);Qt(o,r,"internal-error");const{sub:a}=o;return Qt(t.uid===a,r,"user-mismatch"),H0._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rl(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qj(t,e,n=!1){const r="signIn",i=await Kj(t,r,e),s=await H0._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $2e(t,e){return Qj(CO(t),e)}function V2e(t,e,n){return $2e(Ui(t),Gy.credential(e,n))}function W2e(t,e,n,r){return Ui(t).onAuthStateChanged(e,n,r)}const tT="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tT,"1"),this.storage.removeItem(tT),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2e(){const t=Ni();return TO(t)||kC(t)}const q2e=1e3,K2e=10;class Xj extends Jj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=j2e()&&P2e(),this.fallbackToPolling=Wj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);L2e()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,K2e):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},q2e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xj.type="LOCAL";const Q2e=Xj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj extends Jj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yj.type="SESSION";const Zj=Yj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2e(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new FC(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await J2e(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}FC.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=IO("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(c){const h=c;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(){return window}function Y2e(t){bu().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(){return typeof bu().WorkerGlobalScope<"u"&&typeof bu().importScripts=="function"}async function Z2e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eRe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tRe(){return eq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="firebaseLocalStorageDb",nRe=1,nT="firebaseLocalStorage",nq="fbase_key";class Zx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function NC(t,e){return t.transaction([nT],e?"readwrite":"readonly").objectStore(nT)}function rRe(){const t=indexedDB.deleteDatabase(tq);return new Zx(t).toPromise()}function CP(){const t=indexedDB.open(tq,nRe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nT,{keyPath:nq})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nT)?e(r):(r.close(),await rRe(),e(await CP()))})})}async function k6(t,e,n){const r=NC(t,!0).put({[nq]:e,value:n});return new Zx(r).toPromise()}async function iRe(t,e){const n=NC(t,!1).get(e),r=await new Zx(n).toPromise();return r===void 0?null:r.value}function F6(t,e){const n=NC(t,!0).delete(e);return new Zx(n).toPromise()}const sRe=800,oRe=3;class rq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CP(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>oRe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=FC._getInstance(tRe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Z2e(),!this.activeServiceWorker)return;this.sender=new X2e(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eRe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CP();return await k6(e,tT,"1"),await F6(e,tT),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>k6(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>iRe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>F6(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=NC(i,!1).getAll();return new Zx(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sRe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rq.type="LOCAL";const aRe=rq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lRe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function uRe(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wu("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",lRe().appendChild(r)})}function cRe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Jx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fRe(t,e){return e?_c(e):(Qt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO extends MO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return S0(e,this._buildIdpRequest())}_linkToIdToken(e,n){return S0(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return S0(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hRe(t){return Qj(t.auth,new LO(t),t.bypassAuthState)}function dRe(t){const{auth:e,user:n}=t;return Qt(n,e,"internal-error"),z2e(n,new LO(t),t.bypassAuthState)}async function pRe(t){const{auth:e,user:n}=t;return Qt(n,e,"internal-error"),G2e(n,new LO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hRe;case"linkViaPopup":case"linkViaRedirect":return pRe;case"reauthViaPopup":case"reauthViaRedirect":return dRe;default:Rl(this.auth,"internal-error")}}resolve(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mRe=new Jx(2e3,1e4);class t0 extends iq{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,t0.currentPopupAction&&t0.currentPopupAction.cancel(),t0.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qt(e,this.auth,"internal-error"),e}async onExecution(){Ic(this.filter.length===1,"Popup operations only handle one event");const e=IO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t0.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wu(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,mRe.get())};e()}}t0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gRe="pendingRedirect",wR=new Map;class yRe extends iq{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=wR.get(this.auth._key());if(!e){try{const r=await vRe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}wR.set(this.auth._key(),e)}return this.bypassAuthState||wR.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vRe(t,e){const n=xRe(e),r=_Re(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _Re(t){return _c(t._redirectPersistence)}function xRe(t){return HA(gRe,t.config.apiKey,t.name)}async function wRe(t,e,n=!1){const r=CO(t),i=fRe(r,e),o=await new yRe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bRe=10*60*1e3;class SRe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ARe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sq(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wu(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bRe&&this.cachedEventUids.clear(),this.cachedEventUids.has(N6(e))}saveEventToCache(e){this.cachedEventUids.add(N6(e)),this.lastProcessedEventTime=Date.now()}}function N6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sq({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ARe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sq(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ERe(t,e={}){return Xx(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TRe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CRe=/^https?/;async function MRe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ERe(t);for(const n of e)try{if(RRe(n))return}catch{}Rl(t,"unauthorized-domain")}function RRe(t){const e=TP(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CRe.test(n))return!1;if(TRe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IRe=new Jx(3e4,6e4);function U6(){const t=bu().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LRe(t){return new Promise((e,n)=>{var r,i,s;function o(){U6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U6(),n(wu(t,"network-request-failed"))},timeout:IRe.get()})}if(!((i=(r=bu().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=bu().gapi)===null||s===void 0)&&s.load)o();else{const a=cRe("iframefcb");return bu()[a]=()=>{gapi.load?o():n(wu(t,"network-request-failed"))},uRe(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw GA=null,e})}let GA=null;function PRe(t){return GA=GA||LRe(t),GA}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DRe=new Jx(5e3,15e3),BRe="__/auth/iframe",ORe="emulator/auth/iframe",kRe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FRe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NRe(t){const e=t.config;Qt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?AO(e,ORe):`https://${t.config.authDomain}/${BRe}`,r={apiKey:e.apiKey,appName:t.name,v:Hy},i=FRe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Kx(r).slice(1)}`}async function URe(t){const e=await PRe(t),n=bu().gapi;return Qt(n,t,"internal-error"),e.open({where:document.body,url:NRe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kRe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wu(t,"network-request-failed"),a=bu().setTimeout(()=>{s(o)},DRe.get());function l(){bu().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HRe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GRe=500,zRe=600,$Re="_blank",VRe="http://localhost";class H6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WRe(t,e,n,r=GRe,i=zRe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},HRe),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ni().toLowerCase();n&&(a=Hj(u)?$Re:n),Uj(u)&&(e=e||VRe,l.scrollbars="yes");const f=Object.entries(l).reduce((h,[g,y])=>`${h}${g}=${y},`,"");if(I2e(u)&&a!=="_self")return jRe(e||"",a),new H6(null);const c=window.open(e||"",a,f);Qt(c,t,"popup-blocked");try{c.focus()}catch{}return new H6(c)}function jRe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qRe="__/auth/handler",KRe="emulator/auth/handler";function G6(t,e,n,r,i,s){Qt(t.config.authDomain,t,"auth-domain-config-required"),Qt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hy,eventId:i};if(e instanceof qj){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cMe(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Yx){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${QRe(t)}?${Kx(a).slice(1)}`}function QRe({config:t}){return t.emulator?AO(t,KRe):`https://${t.authDomain}/${qRe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="webStorageSupport";class JRe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zj,this._completeRedirectFn=wRe}async _openPopup(e,n,r,i){var s;Ic((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=G6(e,n,r,TP(),i);return WRe(e,o,IO())}async _openRedirect(e,n,r,i){return await this._originValidation(e),Y2e(G6(e,n,r,TP(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ic(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await URe(e),r=new SRe(e);return n.register("authEvent",i=>(Qt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bR,{type:bR},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bR];o!==void 0&&n(!!o),Rl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MRe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Wj()||TO()||kC()}}const XRe=JRe;var z6="@firebase/auth",$6="0.19.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YRe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZRe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function eIe(t){dh(new Rc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{Qt(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),Qt(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jj(t)},f=new D2e(a,l,u);return d2e(f,n),f})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dh(new Rc("auth-internal",e=>{const n=CO(e.getProvider("auth").getImmediate());return(r=>new YRe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),za(z6,$6,ZRe(t)),za(z6,$6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tIe(t=DC()){const e=Qx(t,"auth");return e.isInitialized()?e.getImmediate():h2e(t,{popupRedirectResolver:XRe,persistence:[aRe,Q2e,Zj]})}eIe("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function oq(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(c){o(c)}}function l(f){try{u(r.throw(f))}catch(c){o(c)}}function u(f){f.done?s(f.value):i(f.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function aq(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(f){u=[6,f],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n0=function(){return n0=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},n0.apply(this,arguments)},lq=function(t){return{loading:t==null,value:t}},nIe=function(){return function(t,e){switch(e.type){case"error":return n0(n0({},t),{error:e.error,loading:!1,value:void 0});case"reset":return lq(e.defaultValue);case"value":return n0(n0({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},rIe=function(t){var e=t?t():void 0,n=z.exports.useReducer(nIe(),lq(e)),r=n[0],i=n[1],s=function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},o=function(l){i({type:"error",error:l})},a=function(l){i({type:"value",value:l})};return z.exports.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},iIe=function(t,e){var n=rIe(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;z.exports.useEffect(function(){var u=W2e(t,function(f){return oq(void 0,void 0,void 0,function(){var c;return aq(this,function(h){switch(h.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),s(c),[3,4];case 4:return o(f),[2]}})})},s);return function(){u()}},[t]);var l=[a,i,r];return z.exports.useMemo(function(){return l},l)},sIe=function(t){var e=z.exports.useState(),n=e[0],r=e[1],i=z.exports.useState(),s=i[0],o=i[1],a=z.exports.useState(!1),l=a[0],u=a[1],f=function(h,g){return oq(void 0,void 0,void 0,function(){var y,_;return aq(this,function(x){switch(x.label){case 0:u(!0),r(void 0),x.label=1;case 1:return x.trys.push([1,3,4,5]),[4,V2e(t,h,g)];case 2:return y=x.sent(),o(y),[3,5];case 3:return _=x.sent(),r(_),[3,5];case 4:return u(!1),[7];case 5:return[2]}})})},c=[f,s,l,n];return z.exports.useMemo(function(){return c},c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oIe="type.googleapis.com/google.protobuf.Int64Value",aIe="type.googleapis.com/google.protobuf.UInt64Value";function uq(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function MP(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>MP(e));if(typeof t=="function"||typeof t=="object")return uq(t,e=>MP(e));throw new Error("Data cannot be encoded in JSON: "+t)}function rT(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case oIe:case aIe:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>rT(e)):typeof t=="function"||typeof t=="object"?uq(t,e=>rT(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A0 extends Uc{constructor(e,n,r){super(`${PO}/${e}`,n||""),this.details=r}}function lIe(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function uIe(t,e){let n=lIe(t),r=n,i;try{const s=e&&e.error;if(s){const o=s.status;if(typeof o=="string"){if(!V6[o])return new A0("internal","internal");n=V6[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=rT(i))}}catch{}return n==="ok"?null:new A0(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cIe{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(!!this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(){if(this.appCheck){const e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){const e=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken();return{authToken:e,messagingToken:n,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="us-central1";function fIe(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new A0("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class hIe{constructor(e,n,r,i,s=RP,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new cIe(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=RP}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function dIe(t,e,n){return r=>mIe(t,e,r,n||{})}async function pIe(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function mIe(t,e,n,r){const i=t._url(e);return gIe(t,i,n,r)}async function gIe(t,e,n,r){n=MP(n);const i={data:n},s={},o=await t.contextProvider.getContext();o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=fIe(a),u=await Promise.race([pIe(e,i,s,t.fetchImpl),l.promise,t.cancelAllRequests]);if(l.cancel(),!u)throw new A0("cancelled","Firebase Functions instance was deleted.");const f=uIe(u.status,u.json);if(f)throw f;if(!u.json)throw new A0("internal","Response is not valid JSON object.");let c=u.json.data;if(typeof c>"u"&&(c=u.json.result),typeof c>"u")throw new A0("internal","Response is missing data field.");return{data:rT(c)}}const W6="@firebase/functions",j6="0.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yIe="auth-internal",vIe="app-check-internal",_Ie="messaging-internal";function xIe(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(yIe),a=r.getProvider(_Ie),l=r.getProvider(vIe);return new hIe(s,o,a,l,i,t)};dh(new Rc(PO,n,"PUBLIC").setMultipleInstances(!0)),za(W6,j6,e),za(W6,j6,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wIe(t=DC(),e=RP){return Qx(Ui(t),PO).getImmediate({identifier:e})}function Ts(t,e,n){return dIe(Ui(t),e,n)}xIe(fetch.bind(self));var bIe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dt,DO=DO||{},Jt=bIe||self;function iT(){}function IP(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ew(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SIe(t){return Object.prototype.hasOwnProperty.call(t,SR)&&t[SR]||(t[SR]=++AIe)}var SR="closure_uid_"+(1e9*Math.random()>>>0),AIe=0;function EIe(t,e,n){return t.call.apply(t.bind,arguments)}function TIe(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ts(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ts=EIe:ts=TIe,ts.apply(null,arguments)}function cS(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function as(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Bh(){this.s=this.s,this.o=this.o}var CIe=0;Bh.prototype.s=!1;Bh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),CIe!=0)&&SIe(this)};Bh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cq=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},fq=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function MIe(t){e:{var e=_Le;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function q6(t){return Array.prototype.concat.apply([],arguments)}function BO(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function sT(t){return/^[\s\xa0]*$/.test(t)}var K6=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function js(t,e){return t.indexOf(e)!=-1}function AR(t,e){return t<e?-1:t>e?1:0}var qs;e:{var Q6=Jt.navigator;if(Q6){var J6=Q6.userAgent;if(J6){qs=J6;break e}}qs=""}function OO(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function hq(t){const e={};for(const n in t)e[n]=t[n];return e}var X6="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dq(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<X6.length;s++)n=X6[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kO(t){return kO[" "](t),t}kO[" "]=iT;function RIe(t){var e=PIe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var IIe=js(qs,"Opera"),G0=js(qs,"Trident")||js(qs,"MSIE"),pq=js(qs,"Edge"),LP=pq||G0,mq=js(qs,"Gecko")&&!(js(qs.toLowerCase(),"webkit")&&!js(qs,"Edge"))&&!(js(qs,"Trident")||js(qs,"MSIE"))&&!js(qs,"Edge"),LIe=js(qs.toLowerCase(),"webkit")&&!js(qs,"Edge");function gq(){var t=Jt.document;return t?t.documentMode:void 0}var oT;e:{var ER="",TR=function(){var t=qs;if(mq)return/rv:([^\);]+)(\)|;)/.exec(t);if(pq)return/Edge\/([\d\.]+)/.exec(t);if(G0)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(LIe)return/WebKit\/(\S+)/.exec(t);if(IIe)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(TR&&(ER=TR?TR[1]:""),G0){var CR=gq();if(CR!=null&&CR>parseFloat(ER)){oT=String(CR);break e}}oT=ER}var PIe={};function DIe(){return RIe(function(){let t=0;const e=K6(String(oT)).split("."),n=K6("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=AR(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||AR(i[2].length==0,s[2].length==0)||AR(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var PP;if(Jt.document&&G0){var Y6=gq();PP=Y6||parseInt(oT,10)||void 0}else PP=void 0;var BIe=PP,OIe=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Jt.addEventListener("test",iT,e),Jt.removeEventListener("test",iT,e)}catch{}return t}();function Ss(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ss.prototype.h=function(){this.defaultPrevented=!0};function ex(t,e){if(Ss.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mq){e:{try{kO(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:kIe[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ex.Z.h.call(this)}}as(ex,Ss);var kIe={2:"touch",3:"pen",4:"mouse"};ex.prototype.h=function(){ex.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var tw="closure_listenable_"+(1e6*Math.random()|0),FIe=0;function NIe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++FIe,this.ca=this.fa=!1}function UC(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function HC(t){this.src=t,this.g={},this.h=0}HC.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=BP(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new NIe(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function DP(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=cq(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(UC(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function BP(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var FO="closure_lm_"+(1e6*Math.random()|0),MR={};function yq(t,e,n,r,i){if(r&&r.once)return _q(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)yq(t,e[s],n,r,i);return null}return n=HO(n),t&&t[tw]?t.N(e,n,ew(r)?!!r.capture:!!r,i):vq(t,e,n,!1,r,i)}function vq(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ew(i)?!!i.capture:!!i,a=UO(t);if(a||(t[FO]=a=new HC(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=UIe(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OIe||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(wq(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function UIe(){function t(n){return e.call(t.src,t.listener,n)}var e=HIe;return t}function _q(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)_q(t,e[s],n,r,i);return null}return n=HO(n),t&&t[tw]?t.O(e,n,ew(r)?!!r.capture:!!r,i):vq(t,e,n,!0,r,i)}function xq(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)xq(t,e[s],n,r,i);else r=ew(r)?!!r.capture:!!r,n=HO(n),t&&t[tw]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=BP(s,n,r,i),-1<n&&(UC(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=UO(t))&&(e=t.g[e.toString()],t=-1,e&&(t=BP(e,n,r,i)),(n=-1<t?e[t]:null)&&NO(n))}function NO(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[tw])DP(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(wq(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=UO(e))?(DP(n,t),n.h==0&&(n.src=null,e[FO]=null)):UC(t)}}}function wq(t){return t in MR?MR[t]:MR[t]="on"+t}function HIe(t,e){if(t.ca)t=!0;else{e=new ex(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&NO(t),t=n.call(r,e)}return t}function UO(t){return t=t[FO],t instanceof HC?t:null}var RR="__closure_events_fn_"+(1e9*Math.random()>>>0);function HO(t){return typeof t=="function"?t:(t[RR]||(t[RR]=function(e){return t.handleEvent(e)}),t[RR])}function Hi(){Bh.call(this),this.i=new HC(this),this.P=this,this.I=null}as(Hi,Bh);Hi.prototype[tw]=!0;Hi.prototype.removeEventListener=function(t,e,n,r){xq(this,t,e,n,r)};function ns(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Ss(e,t);else if(e instanceof Ss)e.target=e.target||t;else{var i=e;e=new Ss(r,t),dq(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=fS(o,r,!0,e)&&i}if(o=e.g=t,i=fS(o,r,!0,e)&&i,i=fS(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=fS(o,r,!1,e)&&i}Hi.prototype.M=function(){if(Hi.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)UC(n[r]);delete t.g[e],t.h--}}this.I=null};Hi.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Hi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function fS(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&DP(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var GO=Jt.JSON.stringify;function GIe(){var t=Sq;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class zIe{constructor(){this.h=this.g=null}add(e,n){const r=bq.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var bq=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new $Ie,t=>t.reset());class $Ie{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function VIe(t){Jt.setTimeout(()=>{throw t},0)}function zO(t,e){OP||WIe(),kP||(OP(),kP=!0),Sq.add(t,e)}var OP;function WIe(){var t=Jt.Promise.resolve(void 0);OP=function(){t.then(jIe)}}var kP=!1,Sq=new zIe;function jIe(){for(var t;t=GIe();){try{t.h.call(t.g)}catch(n){VIe(n)}var e=bq;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}kP=!1}function GC(t,e){Hi.call(this),this.h=t||1,this.g=e||Jt,this.j=ts(this.kb,this),this.l=Date.now()}as(GC,Hi);dt=GC.prototype;dt.da=!1;dt.S=null;dt.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ns(this,"tick"),this.da&&($O(this),this.start()))}};dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $O(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}dt.M=function(){GC.Z.M.call(this),$O(this),delete this.g};function VO(t,e,n){if(typeof t=="function")n&&(t=ts(t,n));else if(t&&typeof t.handleEvent=="function")t=ts(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Jt.setTimeout(t,e||0)}function Aq(t){t.g=VO(()=>{t.g=null,t.i&&(t.i=!1,Aq(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class qIe extends Bh{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Aq(this)}M(){super.M(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tx(t){Bh.call(this),this.h=t,this.g={}}as(tx,Bh);var Z6=[];function Eq(t,e,n,r){Array.isArray(n)||(n&&(Z6[0]=n.toString()),n=Z6);for(var i=0;i<n.length;i++){var s=yq(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Tq(t){OO(t.g,function(e,n){this.g.hasOwnProperty(n)&&NO(e)},t),t.g={}}tx.prototype.M=function(){tx.Z.M.call(this),Tq(this)};tx.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zC(){this.g=!0}zC.prototype.Aa=function(){this.g=!1};function KIe(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var f=u[0];u=u[1];var c=f.split("_");o=2<=c.length&&c[1]=="type"?o+(f+"="+u+"&"):o+(f+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function QIe(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function r0(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+XIe(t,n)+(r?" "+r:"")})}function JIe(t,e){t.info(function(){return"TIMEOUT: "+e})}zC.prototype.info=function(){};function XIe(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return GO(n)}catch{return e}}var rm={},e8=null;function $C(){return e8=e8||new Hi}rm.Ma="serverreachability";function Cq(t){Ss.call(this,rm.Ma,t)}as(Cq,Ss);function nx(t){const e=$C();ns(e,new Cq(e))}rm.STAT_EVENT="statevent";function Mq(t,e){Ss.call(this,rm.STAT_EVENT,t),this.stat=e}as(Mq,Ss);function Ks(t){const e=$C();ns(e,new Mq(e,t))}rm.Na="timingevent";function Rq(t,e){Ss.call(this,rm.Na,t),this.size=e}as(Rq,Ss);function nw(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){t()},e)}var VC={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Iq={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function WO(){}WO.prototype.h=null;function t8(t){return t.h||(t.h=t.i())}function Lq(){}var rw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jO(){Ss.call(this,"d")}as(jO,Ss);function qO(){Ss.call(this,"c")}as(qO,Ss);var FP;function WC(){}as(WC,WO);WC.prototype.g=function(){return new XMLHttpRequest};WC.prototype.i=function(){return{}};FP=new WC;function iw(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new tx(this),this.P=YIe,t=LP?125:void 0,this.W=new GC(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Pq}function Pq(){this.i=null,this.g="",this.h=!1}var YIe=45e3,NP={},aT={};dt=iw.prototype;dt.setTimeout=function(t){this.P=t};function UP(t,e,n){t.K=1,t.v=qC(Lc(e)),t.s=n,t.U=!0,Dq(t,null)}function Dq(t,e){t.F=Date.now(),sw(t),t.A=Lc(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Hq(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Pq,t.g=oK(t.l,n?e:null,!t.s),0<t.O&&(t.L=new qIe(ts(t.Ia,t,t.g),t.O)),Eq(t.V,t.g,"readystatechange",t.gb),e=t.H?hq(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),nx(),KIe(t.j,t.u,t.A,t.m,t.X,t.s)}dt.gb=function(t){t=t.target;const e=this.L;e&&xc(t)==3?e.l():this.Ia(t)};dt.Ia=function(t){try{if(t==this.g)e:{const f=xc(this.g);var e=this.g.Da();const c=this.g.ba();if(!(3>f)&&(f!=3||LP||this.g&&(this.h.h||this.g.ga()||s8(this.g)))){this.I||f!=4||e==7||(e==8||0>=c?nx(3):nx(2)),jC(this);var n=this.g.ba();this.N=n;t:if(Bq(this)){var r=s8(this.g);t="";var i=r.length,s=xc(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sp(this),u_(this);var o="";break t}this.h.i=new Jt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,QIe(this.j,this.u,this.A,this.m,this.X,f,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sT(a)){var u=a;break t}}u=null}if(n=u)r0(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,HP(this,n);else{this.i=!1,this.o=3,Ks(12),sp(this),u_(this);break e}}this.U?(Oq(this,f,o),LP&&this.i&&f==3&&(Eq(this.V,this.W,"tick",this.fb),this.W.start())):(r0(this.j,this.m,o,null),HP(this,o)),f==4&&sp(this),this.i&&!this.I&&(f==4?nK(this.l,this):(this.i=!1,sw(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ks(12)):(this.o=0,Ks(13)),sp(this),u_(this)}}}catch{}finally{}};function Bq(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Oq(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=ZIe(t,n),i==aT){e==4&&(t.o=4,Ks(14),r=!1),r0(t.j,t.m,null,"[Incomplete Response]");break}else if(i==NP){t.o=4,Ks(15),r0(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else r0(t.j,t.m,i,null),HP(t,i);Bq(t)&&i!=aT&&i!=NP&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ks(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nk(e),e.L=!0,Ks(11))):(r0(t.j,t.m,n,"[Invalid Chunked Response]"),sp(t),u_(t))}dt.fb=function(){if(this.g){var t=xc(this.g),e=this.g.ga();this.C<e.length&&(jC(this),Oq(this,t,e),this.i&&t!=4&&sw(this))}};function ZIe(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?aT:(n=Number(e.substring(n,r)),isNaN(n)?NP:(r+=1,r+n>e.length?aT:(e=e.substr(r,n),t.C=r+n,e)))}dt.cancel=function(){this.I=!0,sp(this)};function sw(t){t.Y=Date.now()+t.P,kq(t,t.P)}function kq(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=nw(ts(t.eb,t),e)}function jC(t){t.B&&(Jt.clearTimeout(t.B),t.B=null)}dt.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(JIe(this.j,this.A),this.K!=2&&(nx(),Ks(17)),sp(this),this.o=2,u_(this)):kq(this,this.Y-t)};function u_(t){t.l.G==0||t.I||nK(t.l,t)}function sp(t){jC(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,$O(t.W),Tq(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function HP(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||GP(n.i,t))){if(n.I=t.N,!t.J&&GP(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)fT(n),JC(n);else break e;tk(n),Ks(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=nw(ts(n.ab,n),6e3));if(1>=$q(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else op(n,11)}else if((t.J||n.g==t)&&fT(n),!sT(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const f=u[3];f!=null&&(n.ma=f,n.h.info("VER="+n.ma));const c=u[4];c!=null&&(n.za=c,n.h.info("SVER="+n.za));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const y=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;!s.g&&(js(y,"spdy")||js(y,"quic")||js(y,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(JO(s,s.h),s.h=null))}if(r.D){const _=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.sa=_,mr(r.F,r.D,_))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=sK(r,r.H?r.la:null,r.W),o.J){Vq(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(jC(a),sw(a)),r.g=o}else eK(r);0<n.l.length&&XC(n)}else u[0]!="stop"&&u[0]!="close"||op(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?op(n,7):ek(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}nx(4)}catch{}}function eLe(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(IP(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function KO(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(IP(t)||typeof t=="string")fq(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(IP(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=eLe(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function zy(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof zy)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}dt=zy.prototype;dt.R=function(){QO(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};dt.T=function(){return QO(this),this.g.concat()};function QO(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Lp(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Lp(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}dt.get=function(t,e){return Lp(this.h,t)?this.h[t]:e};dt.set=function(t,e){Lp(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};dt.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Lp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Fq=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tLe(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Pp(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Pp){this.g=e!==void 0?e:t.g,lT(this,t.j),this.s=t.s,uT(this,t.i),cT(this,t.m),this.l=t.l,e=t.h;var n=new rx;n.i=e.i,e.g&&(n.g=new zy(e.g),n.h=e.h),n8(this,n),this.o=t.o}else t&&(n=String(t).match(Fq))?(this.g=!!e,lT(this,n[1]||"",!0),this.s=c_(n[2]||""),uT(this,n[3]||"",!0),cT(this,n[4]),this.l=c_(n[5]||"",!0),n8(this,n[6]||"",!0),this.o=c_(n[7]||"")):(this.g=!!e,this.h=new rx(null,this.g))}Pp.prototype.toString=function(){var t=[],e=this.j;e&&t.push(W1(e,r8,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(W1(e,r8,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(W1(n,n.charAt(0)=="/"?oLe:sLe,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",W1(n,lLe)),t.join("")};function Lc(t){return new Pp(t)}function lT(t,e,n){t.j=n?c_(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function uT(t,e,n){t.i=n?c_(e,!0):e}function cT(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function n8(t,e,n){e instanceof rx?(t.h=e,uLe(t.h,t.g)):(n||(e=W1(e,aLe)),t.h=new rx(e,t.g))}function mr(t,e,n){t.h.set(e,n)}function qC(t){return mr(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nLe(t){return t instanceof Pp?Lc(t):new Pp(t,void 0)}function rLe(t,e,n,r){var i=new Pp(null,void 0);return t&&lT(i,t),e&&uT(i,e),n&&cT(i,n),r&&(i.l=r),i}function c_(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function W1(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,iLe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iLe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var r8=/[#\/\?@]/g,sLe=/[#\?:]/g,oLe=/[#\?]/g,aLe=/[#\?@]/g,lLe=/#/g;function rx(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Oh(t){t.g||(t.g=new zy,t.h=0,t.i&&tLe(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}dt=rx.prototype;dt.add=function(t,e){Oh(this),this.i=null,t=$y(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Nq(t,e){Oh(t),e=$y(t,e),Lp(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Lp(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&QO(t)))}function Uq(t,e){return Oh(t),e=$y(t,e),Lp(t.g.h,e)}dt.forEach=function(t,e){Oh(this),this.g.forEach(function(n,r){fq(n,function(i){t.call(e,i,r,this)},this)},this)};dt.T=function(){Oh(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};dt.R=function(t){Oh(this);var e=[];if(typeof t=="string")Uq(this,t)&&(e=q6(e,this.g.get($y(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=q6(e,t[n])}return e};dt.set=function(t,e){return Oh(this),this.i=null,t=$y(this,t),Uq(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};dt.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Hq(t,e,n){Nq(t,e),0<n.length&&(t.i=null,t.g.set($y(t,e),BO(n)),t.h+=n.length)}dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function $y(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uLe(t,e){e&&!t.j&&(Oh(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Nq(this,r),Hq(this,i,n))},t)),t.j=e}var cLe=class{constructor(t,e){this.h=t,this.g=e}};function Gq(t){this.l=t||fLe,Jt.PerformanceNavigationTiming?(t=Jt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Jt.g&&Jt.g.Ea&&Jt.g.Ea()&&Jt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fLe=10;function zq(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $q(t){return t.h?1:t.g?t.g.size:0}function GP(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function JO(t,e){t.g?t.g.add(e):t.h=e}function Vq(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Gq.prototype.cancel=function(){if(this.i=Wq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Wq(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return BO(t.i)}function XO(){}XO.prototype.stringify=function(t){return Jt.JSON.stringify(t,void 0)};XO.prototype.parse=function(t){return Jt.JSON.parse(t,void 0)};function hLe(){this.g=new XO}function dLe(t,e,n){const r=n||"";try{KO(t,function(i,s){let o=i;ew(i)&&(o=GO(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function pLe(t,e){const n=new zC;if(Jt.Image){const r=new Image;r.onload=cS(hS,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cS(hS,n,r,"TestLoadImage: error",!1,e),r.onabort=cS(hS,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cS(hS,n,r,"TestLoadImage: timeout",!1,e),Jt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function hS(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ow(t){this.l=t.$b||null,this.j=t.ib||!1}as(ow,WO);ow.prototype.g=function(){return new KC(this.l,this.j)};ow.prototype.i=function(t){return function(){return t}}({});function KC(t,e){Hi.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=YO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}as(KC,Hi);var YO=0;dt=KC.prototype;dt.open=function(t,e){if(this.readyState!=YO)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ix(this)};dt.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Jt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,aw(this)),this.readyState=YO};dt.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ix(this)),this.g&&(this.readyState=3,ix(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Jt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jq(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function jq(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}dt.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?aw(this):ix(this),this.readyState==3&&jq(this)}};dt.Ua=function(t){this.g&&(this.response=this.responseText=t,aw(this))};dt.Ta=function(t){this.g&&(this.response=t,aw(this))};dt.ha=function(){this.g&&aw(this)};function aw(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ix(t)}dt.setRequestHeader=function(t,e){this.v.append(t,e)};dt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};dt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ix(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(KC.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var mLe=Jt.JSON.parse;function ui(t){Hi.call(this),this.headers=new zy,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qq,this.K=this.L=!1}as(ui,Hi);var qq="",gLe=/^https?$/i,yLe=["POST","PUT"];dt=ui.prototype;dt.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():FP.g(),this.C=this.u?t8(this.u):t8(FP),this.g.onreadystatechange=ts(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){i8(this,s);return}t=n||"";const i=new zy(this.headers);r&&KO(r,function(s,o){i.set(o,s)}),r=MIe(i.T()),n=Jt.FormData&&t instanceof Jt.FormData,!(0<=cq(yLe,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jq(this),0<this.B&&((this.K=vLe(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ts(this.pa,this)):this.A=VO(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){i8(this,s)}};function vLe(t){return G0&&DIe()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function _Le(t){return t.toLowerCase()=="content-type"}dt.pa=function(){typeof DO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ns(this,"timeout"),this.abort(8))};function i8(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Kq(t),QC(t)}function Kq(t){t.D||(t.D=!0,ns(t,"complete"),ns(t,"error"))}dt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ns(this,"complete"),ns(this,"abort"),QC(this))};dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),QC(this,!0)),ui.Z.M.call(this)};dt.Fa=function(){this.s||(this.F||this.v||this.l?Qq(this):this.cb())};dt.cb=function(){Qq(this)};function Qq(t){if(t.h&&typeof DO<"u"&&(!t.C[1]||xc(t)!=4||t.ba()!=2)){if(t.v&&xc(t)==4)VO(t.Fa,0,t);else if(ns(t,"readystatechange"),xc(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(Fq)[1]||null;if(!i&&Jt.self&&Jt.self.location){var s=Jt.self.location.protocol;i=s.substr(0,s.length-1)}r=!gLe.test(i?i.toLowerCase():"")}n=r}if(n)ns(t,"complete"),ns(t,"success");else{t.m=6;try{var o=2<xc(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",Kq(t)}}finally{QC(t)}}}}function QC(t,e){if(t.g){Jq(t);const n=t.g,r=t.C[0]?iT:null;t.g=null,t.C=null,e||ns(t,"ready");try{n.onreadystatechange=r}catch{}}}function Jq(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Jt.clearTimeout(t.A),t.A=null)}function xc(t){return t.g?t.g.readyState:0}dt.ba=function(){try{return 2<xc(this)?this.g.status:-1}catch{return-1}};dt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};dt.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),mLe(e)}};function s8(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qq:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}dt.Da=function(){return this.m};dt.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function xLe(t){let e="";return OO(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ZO(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xLe(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):mr(t,e,n))}function _1(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xq(t){this.za=0,this.l=[],this.h=new zC,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_1("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_1("baseRetryDelayMs",5e3,t),this.$a=_1("retryDelaySeedMs",1e4,t),this.Ya=_1("forwardChannelMaxRetries",2,t),this.ra=_1("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Gq(t&&t.concurrentRequestLimit),this.Ca=new hLe,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}dt=Xq.prototype;dt.ma=8;dt.G=1;function ek(t){if(Yq(t),t.G==3){var e=t.V++,n=Lc(t.F);mr(n,"SID",t.J),mr(n,"RID",e),mr(n,"TYPE","terminate"),lw(t,n),e=new iw(t,t.h,e,void 0),e.K=2,e.v=qC(Lc(n)),n=!1,Jt.navigator&&Jt.navigator.sendBeacon&&(n=Jt.navigator.sendBeacon(e.v.toString(),"")),!n&&Jt.Image&&(new Image().src=e.v,n=!0),n||(e.g=oK(e.l,null),e.g.ea(e.v)),e.F=Date.now(),sw(e)}iK(t)}dt.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function JC(t){t.g&&(nk(t),t.g.cancel(),t.g=null)}function Yq(t){JC(t),t.u&&(Jt.clearTimeout(t.u),t.u=null),fT(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Jt.clearTimeout(t.m),t.m=null)}function IR(t,e){t.l.push(new cLe(t.Za++,e)),t.G==3&&XC(t)}function XC(t){zq(t.i)||t.m||(t.m=!0,zO(t.Ha,t),t.C=0)}function wLe(t,e){return $q(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=nw(ts(t.Ha,t,e),rK(t,t.C)),t.C++,!0)}dt.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new iw(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=hq(s),dq(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Zq(this,i,e),n=Lc(this.F),mr(n,"RID",t),mr(n,"CVER",22),this.D&&mr(n,"X-HTTP-Session-Id",this.D),lw(this,n),this.o&&s&&ZO(n,this.o,s),JO(this.i,i),this.Ra&&mr(n,"TYPE","init"),this.ja?(mr(n,"$req",e),mr(n,"SID","null"),i.$=!0,UP(i,n,null)):UP(i,n,e),this.G=2}}else this.G==3&&(t?o8(this,t):this.l.length==0||zq(this.i)||o8(this))};function o8(t,e){var n;e?n=e.m:n=t.V++;const r=Lc(t.F);mr(r,"SID",t.J),mr(r,"RID",n),mr(r,"AID",t.U),lw(t,r),t.o&&t.s&&ZO(r,t.o,t.s),n=new iw(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Zq(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),JO(t.i,n),UP(n,r,e)}function lw(t,e){t.j&&KO({},function(n,r){mr(e,r,n)})}function Zq(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ts(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const f=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{dLe(f,o,"req"+u+"_")}catch{r&&r(f)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function eK(t){t.g||t.u||(t.Y=1,zO(t.Ga,t),t.A=0)}function tk(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=nw(ts(t.Ga,t),rK(t,t.A)),t.A++,!0)}dt.Ga=function(){if(this.u=null,tK(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=nw(ts(this.bb,this),t)}};dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ks(10),JC(this),tK(this))};function nk(t){t.B!=null&&(Jt.clearTimeout(t.B),t.B=null)}function tK(t){t.g=new iw(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Lc(t.oa);mr(e,"RID","rpc"),mr(e,"SID",t.J),mr(e,"CI",t.N?"0":"1"),mr(e,"AID",t.U),lw(t,e),mr(e,"TYPE","xmlhttp"),t.o&&t.s&&ZO(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=qC(Lc(e)),n.s=null,n.U=!0,Dq(n,t)}dt.ab=function(){this.v!=null&&(this.v=null,JC(this),tk(this),Ks(19))};function fT(t){t.v!=null&&(Jt.clearTimeout(t.v),t.v=null)}function nK(t,e){var n=null;if(t.g==e){fT(t),nk(t),t.g=null;var r=2}else if(GP(t.i,e))n=e.D,Vq(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=$C(),ns(r,new Rq(r,n)),XC(t)}else eK(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&wLe(t,e)||r==2&&tk(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:op(t,5);break;case 4:op(t,10);break;case 3:op(t,6);break;default:op(t,2)}}}function rK(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function op(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=ts(t.jb,t);n||(n=new Pp("//www.google.com/images/cleardot.gif"),Jt.location&&Jt.location.protocol=="http"||lT(n,"https"),qC(n)),pLe(n.toString(),r)}else Ks(2);t.G=0,t.j&&t.j.va(e),iK(t),Yq(t)}dt.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ks(2)):(this.h.info("Failed to ping google.com"),Ks(1))};function iK(t){t.G=0,t.I=-1,t.j&&((Wq(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,BO(t.l),t.l.length=0),t.j.ua())}function sK(t,e,n){let r=nLe(n);if(r.i!="")e&&uT(r,e+"."+r.i),cT(r,r.m);else{const i=Jt.location;r=rLe(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&OO(t.aa,function(i,s){mr(r,s,i)}),e=t.D,n=t.sa,e&&n&&mr(r,e,n),mr(r,"VER",t.ma),lw(t,r),r}function oK(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new ui(new ow({ib:!0})):new ui(t.qa),e.L=t.H,e}function aK(){}dt=aK.prototype;dt.xa=function(){};dt.wa=function(){};dt.va=function(){};dt.ua=function(){};dt.Oa=function(){};function hT(){if(G0&&!(10<=Number(BIe)))throw Error("Environmental error: no available transport.")}hT.prototype.g=function(t,e){return new ha(t,e)};function ha(t,e){Hi.call(this),this.g=new Xq(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!sT(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sT(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Vy(this)}as(ha,Hi);ha.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),zO(ts(t.hb,t,e))),Ks(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=sK(t,null,t.W),XC(t)};ha.prototype.close=function(){ek(this.g)};ha.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,IR(this.g,e)}else this.v?(e={},e.__data__=GO(t),IR(this.g,e)):IR(this.g,t)};ha.prototype.M=function(){this.g.j=null,delete this.j,ek(this.g),delete this.g,ha.Z.M.call(this)};function lK(t){jO.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}as(lK,jO);function uK(){qO.call(this),this.status=1}as(uK,qO);function Vy(t){this.g=t}as(Vy,aK);Vy.prototype.xa=function(){ns(this.g,"a")};Vy.prototype.wa=function(t){ns(this.g,new lK(t))};Vy.prototype.va=function(t){ns(this.g,new uK)};Vy.prototype.ua=function(){ns(this.g,"b")};hT.prototype.createWebChannel=hT.prototype.g;ha.prototype.send=ha.prototype.u;ha.prototype.open=ha.prototype.m;ha.prototype.close=ha.prototype.close;VC.NO_ERROR=0;VC.TIMEOUT=8;VC.HTTP_ERROR=6;Iq.COMPLETE="complete";Lq.EventType=rw;rw.OPEN="a";rw.CLOSE="b";rw.ERROR="c";rw.MESSAGE="d";Hi.prototype.listen=Hi.prototype.N;ui.prototype.listenOnce=ui.prototype.O;ui.prototype.getLastError=ui.prototype.La;ui.prototype.getLastErrorCode=ui.prototype.Da;ui.prototype.getStatus=ui.prototype.ba;ui.prototype.getResponseJson=ui.prototype.Qa;ui.prototype.getResponseText=ui.prototype.ga;ui.prototype.send=ui.prototype.ea;var bLe=function(){return new hT},SLe=function(){return $C()},LR=VC,ALe=Iq,ELe=rm,a8={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TLe=ow,dS=Lq,CLe=ui;const l8="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mo.UNAUTHENTICATED=new mo(null),mo.GOOGLE_CREDENTIALS=new mo("google-credentials-uid"),mo.FIRST_PARTY=new mo("first-party-uid"),mo.MOCK_USER=new mo("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wy="9.6.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new xO("@firebase/firestore");function u8(){return Dp.logLevel}function Ct(t,...e){if(Dp.logLevel<=Nn.DEBUG){const n=e.map(rk);Dp.debug(`Firestore (${Wy}): ${t}`,...n)}}function ph(t,...e){if(Dp.logLevel<=Nn.ERROR){const n=e.map(rk);Dp.error(`Firestore (${Wy}): ${t}`,...n)}}function c8(t,...e){if(Dp.logLevel<=Nn.WARN){const n=e.map(rk);Dp.warn(`Firestore (${Wy}): ${t}`,...n)}}function rk(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t="Unexpected state"){const e=`FIRESTORE (${Wy}) INTERNAL ASSERTION FAILED: `+t;throw ph(e),new Error(e)}function li(t,e){t||hn()}function On(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class zt extends Uc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MLe{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RLe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mo.UNAUTHENTICATED))}shutdown(){}}class ILe{constructor(e){this.t=e,this.currentUser=mo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new E0;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new E0,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new E0)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(li(typeof r.accessToken=="string"),new MLe(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return li(e===null||typeof e=="string"),new mo(e)}}class LLe{constructor(e,n,r){this.type="FirstParty",this.user=mo.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class PLe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new LLe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(mo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DLe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BLe{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&Ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,Ct("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):Ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(li(typeof n.token=="string"),this.p=n.token,new DLe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OLe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ik.A=-1;class kLe{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=OLe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Vn(t,e){return t<e?-1:t>e?1:0}function sx(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new zt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new zt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new zt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new zt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Al.fromMillis(Date.now())}static fromDate(e){return Al.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Al(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Vn(this.nanoseconds,e.nanoseconds):Vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dn(e)}static min(){return new dn(new Al(0,0))}static max(){return new dn(new Al(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function YC(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FLe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r){n===void 0?n=0:n>e.length&&hn(),r===void 0?r=e.length-n:r>e.length-n&&hn(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ox.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ox?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kr extends ox{construct(e,n,r){return new kr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new zt(at.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kr(n)}static emptyPath(){return new kr([])}}const NLe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vl extends ox{construct(e,n,r){return new vl(e,n,r)}static isValidIdentifier(e){return NLe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vl.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vl(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new zt(at.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new zt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new zt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new zt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vl(n)}static emptyPath(){return new vl([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ss(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ss(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ss.EMPTY_BYTE_STRING=new ss("");const ULe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mh(t){if(li(!!t),typeof t=="string"){let e=0;const n=ULe.exec(t);if(li(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ii(t.seconds),nanos:ii(t.nanos)}}function ii(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function z0(t){return typeof t=="string"?ss.fromBase64String(t):ss.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fK(t){const e=t.mapValue.fields.__previous_value__;return cK(e)?fK(e):e}function ax(t){const e=mh(t.mapValue.fields.__local_write_time__.timestampValue);return new Al(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HLe{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class $0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){return t==null}function zP(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.path=e}static fromPath(e){return new $t(kr.fromString(e))}static fromName(e){return new $t(kr.fromString(e).popFirst(5))}static empty(){return new $t(kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new kr(e.slice()))}}function Bp(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cK(t)?4:GLe(t)?9:10:hn()}function Cu(t,e){if(t===e)return!0;const n=Bp(t);if(n!==Bp(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ax(t).isEqual(ax(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=mh(r.timestampValue),o=mh(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return z0(r.bytesValue).isEqual(z0(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ii(r.geoPointValue.latitude)===ii(i.geoPointValue.latitude)&&ii(r.geoPointValue.longitude)===ii(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ii(r.integerValue)===ii(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ii(r.doubleValue),o=ii(i.doubleValue);return s===o?zP(s)===zP(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return sx(t.arrayValue.values||[],e.arrayValue.values||[],Cu);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(f8(s)!==f8(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Cu(s[a],o[a])))return!1;return!0}(t,e);default:return hn()}}function lx(t,e){return(t.values||[]).find(n=>Cu(n,e))!==void 0}function V0(t,e){if(t===e)return 0;const n=Bp(t),r=Bp(e);if(n!==r)return Vn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vn(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ii(i.integerValue||i.doubleValue),a=ii(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return h8(t.timestampValue,e.timestampValue);case 4:return h8(ax(t),ax(e));case 5:return Vn(t.stringValue,e.stringValue);case 6:return function(i,s){const o=z0(i),a=z0(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Vn(o[l],a[l]);if(u!==0)return u}return Vn(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Vn(ii(i.latitude),ii(s.latitude));return o!==0?o:Vn(ii(i.longitude),ii(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=V0(o[l],a[l]);if(u)return u}return Vn(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let f=0;f<a.length&&f<u.length;++f){const c=Vn(a[f],u[f]);if(c!==0)return c;const h=V0(o[a[f]],l[u[f]]);if(h!==0)return h}return Vn(a.length,u.length)}(t.mapValue,e.mapValue);default:throw hn()}}function h8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Vn(t,e);const n=mh(t),r=mh(e),i=Vn(n.seconds,r.seconds);return i!==0?i:Vn(n.nanos,r.nanos)}function T0(t){return $P(t)}function $P(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=mh(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?z0(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,$t.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=$P(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${$P(r.fields[a])}`;return s+"}"}(t.mapValue):hn();var e,n}function VP(t){return!!t&&"integerValue"in t}function sk(t){return!!t&&"arrayValue"in t}function d8(t){return!!t&&"nullValue"in t}function p8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function PR(t){return!!t&&"mapValue"in t}function f_(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return YC(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=f_(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=f_(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GLe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.value=e}static empty(){return new dc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!PR(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=f_(n)}setAll(e){let n=vl.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=f_(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());PR(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];PR(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){YC(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dc(f_(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new ws(e,0,dn.min(),dn.min(),dc.empty(),0)}static newFoundDocument(e,n,r){return new ws(e,1,n,dn.min(),r,0)}static newNoDocument(e,n){return new ws(e,2,n,dn.min(),dc.empty(),0)}static newUnknownDocument(e,n){return new ws(e,3,n,dn.min(),dc.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ws&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ws(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function zLe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=dn.fromTimestamp(r===1e9?new Al(n+1,0):new Al(n,r));return new W0(i,$t.empty(),e)}function $Le(t){return new W0(t.readTime,t.key,-1)}class W0{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new W0(dn.min(),$t.empty(),-1)}static max(){return new W0(dn.max(),$t.empty(),-1)}}function VLe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=$t.comparator(t.documentKey,e.documentKey),n!==0?n:Vn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WLe{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function m8(t,e=null,n=[],r=[],i=null,s=null,o=null){return new WLe(t,e,n,r,i,s,o)}function ok(t){const e=On(t);if(e.P===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+T0(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),jy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>T0(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>T0(r)).join(",")),e.P=n}return e.P}function jLe(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${T0(r.value)}`;var r}).join(", ")}]`),jy(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>T0(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>T0(n)).join(",")),`Target(${e})`}function ak(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!ePe(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Cu(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y8(t.startAt,e.startAt)&&y8(t.endAt,e.endAt)}function WP(t){return $t.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class So extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.V(e,n,r):new qLe(e,n,r):n==="array-contains"?new JLe(e,r):n==="in"?new XLe(e,r):n==="not-in"?new YLe(e,r):n==="array-contains-any"?new ZLe(e,r):new So(e,n,r)}static V(e,n,r){return n==="in"?new KLe(e,r):new QLe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.v(V0(n,this.value)):n!==null&&Bp(this.value)===Bp(n)&&this.v(V0(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return hn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qLe extends So{constructor(e,n,r){super(e,n,r),this.key=$t.fromName(r.referenceValue)}matches(e){const n=$t.comparator(e.key,this.key);return this.v(n)}}class KLe extends So{constructor(e,n){super(e,"in",n),this.keys=hK("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QLe extends So{constructor(e,n){super(e,"not-in",n),this.keys=hK("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hK(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>$t.fromName(r.referenceValue))}class JLe extends So{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sk(n)&&lx(n.arrayValue,this.value)}}class XLe extends So{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lx(this.value.arrayValue,n)}}class YLe extends So{constructor(e,n){super(e,"not-in",n)}matches(e){if(lx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lx(this.value.arrayValue,n)}}class ZLe extends So{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sk(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lx(this.value.arrayValue,r))}}class dT{constructor(e,n){this.position=e,this.inclusive=n}}class C0{constructor(e,n="asc"){this.field=e,this.dir=n}}function ePe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function g8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=$t.comparator($t.fromName(o.referenceValue),n.key):r=V0(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function y8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.D=null,this.C=null,this.startAt,this.endAt}}function tPe(t,e,n,r,i,s,o,a){return new uw(t,e,n,r,i,s,o,a)}function lk(t){return new uw(t)}function zA(t){return!jy(t.limit)&&t.limitType==="F"}function pT(t){return!jy(t.limit)&&t.limitType==="L"}function dK(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function pK(t){for(const e of t.filters)if(e.S())return e.field;return null}function nPe(t){return t.collectionGroup!==null}function ux(t){const e=On(t);if(e.D===null){e.D=[];const n=pK(e),r=dK(e);if(n!==null&&r===null)n.isKeyField()||e.D.push(new C0(n)),e.D.push(new C0(vl.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new C0(vl.keyField(),s))}}}return e.D}function Op(t){const e=On(t);if(!e.C)if(e.limitType==="F")e.C=m8(e.path,e.collectionGroup,ux(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ux(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new C0(s.field,o))}const r=e.endAt?new dT(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new dT(e.startAt.position,!e.startAt.inclusive):null;e.C=m8(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function mK(t,e,n){return new uw(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cw(t,e){return ak(Op(t),Op(e))&&t.limitType===e.limitType}function gK(t){return`${ok(Op(t))}|lt:${t.limitType}`}function jP(t){return`Query(target=${jLe(Op(t))}; limitType=${t.limitType})`}function uk(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):$t.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=g8(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ux(n),r)||n.endAt&&!function(i,s,o){const a=g8(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ux(n),r))}(t,e)}function rPe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yK(t){return(e,n)=>{let r=!1;for(const i of ux(t)){const s=iPe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function iPe(t,e,n){const r=t.field.isKeyField()?$t.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?V0(a,l):hn()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return hn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sPe(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zP(e)?"-0":e}}function oPe(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this._=void 0}}function aPe(t,e,n){return t instanceof qP?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof mT?vK(t,e):t instanceof gT?_K(t,e):function(r,i){const s=uPe(r,i),o=v8(s)+v8(r.k);return VP(s)&&VP(r.k)?oPe(o):sPe(r.M,o)}(t,e)}function lPe(t,e,n){return t instanceof mT?vK(t,e):t instanceof gT?_K(t,e):n}function uPe(t,e){return t instanceof KP?VP(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class qP extends ZC{}class mT extends ZC{constructor(e){super(),this.elements=e}}function vK(t,e){const n=xK(e);for(const r of t.elements)n.some(i=>Cu(i,r))||n.push(r);return{arrayValue:{values:n}}}class gT extends ZC{constructor(e){super(),this.elements=e}}function _K(t,e){let n=xK(e);for(const r of t.elements)n=n.filter(i=>!Cu(i,r));return{arrayValue:{values:n}}}class KP extends ZC{constructor(e,n){super(),this.M=e,this.k=n}}function v8(t){return ii(t.integerValue||t.doubleValue)}function xK(t){return sk(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cPe(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof mT&&r instanceof mT||n instanceof gT&&r instanceof gT?sx(n.elements,r.elements,Cu):n instanceof KP&&r instanceof KP?Cu(n.k,r.k):n instanceof qP&&r instanceof qP}(t.transform,e.transform)}function $A(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wK{}function fPe(t,e,n){t instanceof bK?function(r,i,s){const o=r.value.clone(),a=w8(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof SK?function(r,i,s){if(!$A(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=w8(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(AK(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function QP(t,e,n){t instanceof bK?function(r,i,s){if(!$A(r.precondition,i))return;const o=r.value.clone(),a=b8(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(x8(i),o).setHasLocalMutations()}(t,e,n):t instanceof SK?function(r,i,s){if(!$A(r.precondition,i))return;const o=b8(r.fieldTransforms,s,i),a=i.data;a.setAll(AK(r)),a.setAll(o),i.convertToFoundDocument(x8(i),a).setHasLocalMutations()}(t,e,n):function(r,i){$A(r.precondition,i)&&i.convertToNoDocument(dn.min())}(t,e)}function _8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&sx(n,r,(i,s)=>cPe(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function x8(t){return t.isFoundDocument()?t.version:dn.min()}class bK extends wK{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class SK extends wK{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function AK(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function w8(t,e,n){const r=new Map;li(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lPe(o,a,n[i]))}return r}function b8(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,aPe(s,o,e))}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hPe{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni,In;function EK(t){if(t===void 0)return ph("GRPC error has no .code"),at.UNKNOWN;switch(t){case ni.OK:return at.OK;case ni.CANCELLED:return at.CANCELLED;case ni.UNKNOWN:return at.UNKNOWN;case ni.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case ni.INTERNAL:return at.INTERNAL;case ni.UNAVAILABLE:return at.UNAVAILABLE;case ni.UNAUTHENTICATED:return at.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case ni.NOT_FOUND:return at.NOT_FOUND;case ni.ALREADY_EXISTS:return at.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return at.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case ni.ABORTED:return at.ABORTED;case ni.OUT_OF_RANGE:return at.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return at.UNIMPLEMENTED;case ni.DATA_LOSS:return at.DATA_LOSS;default:return hn()}}(In=ni||(ni={}))[In.OK=0]="OK",In[In.CANCELLED=1]="CANCELLED",In[In.UNKNOWN=2]="UNKNOWN",In[In.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",In[In.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",In[In.NOT_FOUND=5]="NOT_FOUND",In[In.ALREADY_EXISTS=6]="ALREADY_EXISTS",In[In.PERMISSION_DENIED=7]="PERMISSION_DENIED",In[In.UNAUTHENTICATED=16]="UNAUTHENTICATED",In[In.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",In[In.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",In[In.ABORTED=10]="ABORTED",In[In.OUT_OF_RANGE=11]="OUT_OF_RANGE",In[In.UNIMPLEMENTED=12]="UNIMPLEMENTED",In[In.INTERNAL=13]="INTERNAL",In[In.UNAVAILABLE=14]="UNAVAILABLE",In[In.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){YC(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FLe(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n){this.comparator=e,this.root=n||Xi.EMPTY}insert(e,n){return new os(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new os(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pS(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pS(this.root,e,this.comparator,!1)}getReverseIterator(){return new pS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pS(this.root,e,this.comparator,!0)}}class pS{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Xi.RED,this.left=i!=null?i:Xi.EMPTY,this.right=s!=null?s:Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Xi(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw hn();const e=this.left.check();if(e!==this.right.check())throw hn();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1;Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw hn()}get value(){throw hn()}get color(){throw hn()}get left(){throw hn()}get right(){throw hn()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Xi(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.comparator=e,this.data=new os(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S8(this.data.getIterator())}getIteratorFrom(e){return new S8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rs)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rs(this.comparator);return n.data=e,n}}class S8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dPe=new os($t.comparator);function kp(){return dPe}const pPe=new os($t.comparator);function JP(){return pPe}function DR(){return new qy(t=>t.toString(),(t,e)=>t.isEqual(e))}new os($t.comparator);const mPe=new rs($t.comparator);function gr(...t){let e=mPe;for(const n of t)e=e.add(n);return e}const gPe=new rs(Vn);function TK(){return gPe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,fw.createSynthesizedTargetChangeForCurrentChange(e,n)),new eM(dn.min(),r,TK(),kp(),gr())}}class fw{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new fw(ss.EMPTY_BYTE_STRING,n,gr(),gr(),gr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class CK{constructor(e,n){this.targetId=e,this.$=n}}class MK{constructor(e,n,r=ss.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class A8{constructor(){this.B=0,this.L=T8(),this.U=ss.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=gr(),n=gr(),r=gr();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:hn()}}),new fw(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=T8()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class yPe{constructor(e){this.nt=e,this.st=new Map,this.it=kp(),this.rt=E8(),this.ot=new rs(Vn)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:hn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(WP(s))if(r===0){const o=new $t(s.path);this.ct(n,o,ws.newNoDocument(o,dn.min()))}else li(r===1);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&WP(a.target)){const l=new $t(a.target.path);this.it.get(l)!==null||this.It(o,l)||this.ct(o,l,ws.newNoDocument(l,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=gr();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.wt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new eM(e,n,this.ot,this.it,r);return this.it=kp(),this.rt=E8(),this.ot=new rs(Vn),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new A8,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new rs(Vn),this.rt=this.rt.insert(e,n)),n}ft(e){const n=this.wt(e)!==null;return n||Ct("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new A8),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function E8(){return new os($t.comparator)}function T8(){return new os($t.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vPe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_Pe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class xPe{constructor(e,n){this.databaseId=e,this.N=n}}function wPe(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bPe(t,e){return t.N?e.toBase64():e.toUint8Array()}function cx(t){return li(!!t),dn.fromTimestamp(function(e){const n=mh(e);return new Al(n.seconds,n.nanos)}(t))}function SPe(t,e){return function(n){return new kr(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function RK(t){const e=kr.fromString(t);return li(PK(e)),e}function BR(t,e){const n=RK(e);if(n.get(1)!==t.databaseId.projectId)throw new zt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new zt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new $t(IK(n))}function XP(t,e){return SPe(t.databaseId,e)}function APe(t){const e=RK(t);return e.length===4?kr.emptyPath():IK(e)}function C8(t){return new kr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function IK(t){return li(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function EPe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:hn()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.N?(li(u===void 0||typeof u=="string"),ss.fromBase64String(u||"")):(li(u===void 0||u instanceof Uint8Array),ss.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?at.UNKNOWN:EK(l.code);return new zt(u,l.message||"")}(o);n=new MK(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=BR(t,r.document.name),s=cx(r.document.updateTime),o=new dc({mapValue:{fields:r.document.fields}}),a=ws.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new VA(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=BR(t,r.document),s=r.readTime?cx(r.readTime):dn.min(),o=ws.newNoDocument(i,s),a=r.removedTargetIds||[];n=new VA([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=BR(t,r.document),s=r.removedTargetIds||[];n=new VA([],s,i,null)}else{if(!("filter"in e))return hn();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new hPe(i),o=r.targetId;n=new CK(o,s)}}return n}function TPe(t,e){return{documents:[XP(t,e.path)]}}function CPe(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=XP(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=XP(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(f=>function(c){if(c.op==="=="){if(p8(c.value))return{unaryFilter:{field:Zm(c.field),op:"IS_NAN"}};if(d8(c.value))return{unaryFilter:{field:Zm(c.field),op:"IS_NULL"}}}else if(c.op==="!="){if(p8(c.value))return{unaryFilter:{field:Zm(c.field),op:"IS_NOT_NAN"}};if(d8(c.value))return{unaryFilter:{field:Zm(c.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zm(c.field),op:LPe(c.op),value:c.value}}}(f));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Zm(f.field),direction:IPe(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.N||jy(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function MPe(t){let e=APe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){li(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=LK(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(f=>function(c){return new C0(i0(c.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(c.direction))}(f)));let a=null;n.limit&&(a=function(f){let c;return c=typeof f=="object"?f.value:f,jy(c)?null:c}(n.limit));let l=null;n.startAt&&(l=function(f){const c=!!f.before,h=f.values||[];return new dT(h,c)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const c=!f.before,h=f.values||[];return new dT(h,c)}(n.endAt)),tPe(e,i,o,s,a,"F",l,u)}function RPe(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return hn()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function LK(t){return t?t.unaryFilter!==void 0?[DPe(t)]:t.fieldFilter!==void 0?[PPe(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>LK(e)).reduce((e,n)=>e.concat(n)):hn():[]}function IPe(t){return vPe[t]}function LPe(t){return _Pe[t]}function Zm(t){return{fieldPath:t.canonicalString()}}function i0(t){return vl.fromServerFormat(t.fieldPath)}function PPe(t){return So.create(i0(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hn()}}(t.fieldFilter.op),t.fieldFilter.value)}function DPe(t){switch(t.unaryFilter.op){case"IS_NAN":const e=i0(t.unaryFilter.field);return So.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=i0(t.unaryFilter.field);return So.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=i0(t.unaryFilter.field);return So.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=i0(t.unaryFilter.field);return So.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hn()}}function PK(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BPe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OPe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&hn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ye((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ye?n:Ye.resolve(n)}catch(n){return Ye.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ye.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ye.reject(n)}static resolve(e){return new Ye((n,r)=>{n(e)})}static reject(e){return new Ye((n,r)=>{r(e)})}static waitFor(e){return new Ye((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ye.resolve(!1);for(const r of e)n=n.next(i=>i?Ye.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function hw(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kPe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fPe(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&QP(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&QP(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(dn.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gr())}isEqual(e){return this.batchId===e.batchId&&sx(this.mutations,e.mutations,(n,r)=>_8(n,r))&&sx(this.baseMutations,e.baseMutations,(n,r)=>_8(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FPe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,r,i,s=dn.min(),o=dn.min(),a=ss.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new pp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new pp(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NPe{constructor(e){this.Jt=e}}function UPe(t){const e=MPe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mK(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HPe{constructor(){this.qe=new GPe}addToCollectionParentIndex(e,n){return this.qe.add(n),Ye.resolve()}getCollectionParents(e,n){return Ye.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return Ye.resolve()}deleteFieldIndex(e,n){return Ye.resolve()}getDocumentsMatchingTarget(e,n){return Ye.resolve(null)}getFieldIndex(e,n){return Ye.resolve(null)}getFieldIndexes(e,n){return Ye.resolve([])}getNextCollectionGroupToUpdate(e){return Ye.resolve(null)}updateCollectionGroup(e,n,r){return Ye.resolve()}updateIndexEntries(e,n){return Ye.resolve()}}class GPe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rs(kr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rs(kr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new j0(0)}static yn(){return new j0(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t){if(t.code!==at.FAILED_PRECONDITION||t.message!==BPe)throw t;Ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zPe{constructor(){this.changes=new qy(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ws.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ye.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Pe{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return function(i){return $t.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.js(e,n.path):nPe(n)?this.Ws(e,n,r):this.zs(e,n,r)}js(e,n){return this.Ls(e,new $t(n)).next(r=>{let i=JP();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=JP();return this.indexManager.getCollectionParents(e,i).next(o=>Ye.forEach(o,a=>{const l=function(u,f){return new uw(f,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.zs(e,l,r).next(u=>{u.forEach((f,c)=>{s=s.insert(f,c)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const l=a.key;let u=i.get(l);u==null&&(u=ws.newInvalidDocument(l),i=i.insert(l,u)),QP(a,u,o.localWriteTime),u.isFoundDocument()||(i=i.remove(l))}}).next(()=>(i.forEach((s,o)=>{uk(n,o)||(i=i.remove(s))}),i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=gr(),i=gr();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fk(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VPe{Xs(e){this.Zs=e}Qs(e,n,r,i){return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(dn.min())?this.ti(e,n):this.Zs.Ks(e,i).next(s=>{const o=this.ei(n,s);return(zA(n)||pT(n))&&this.ni(n.limitType,o,i,r)?this.ti(e,n):(u8()<=Nn.DEBUG&&Ct("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jP(n)),this.Zs.Qs(e,n,zLe(r,-1)).next(a=>(o.forEach(l=>{a=a.insert(l.key,l)}),a)))})}ei(e,n){let r=new rs(yK(e));return n.forEach((i,s)=>{uk(e,s)&&(r=r.add(s))}),r}ni(e,n,r,i){if(r.size!==n.size)return!0;const s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ti(e,n){return u8()<=Nn.DEBUG&&Ct("QueryEngine","Using full collection scan to execute query:",jP(n)),this.Zs.Qs(e,n,W0.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WPe{constructor(e,n,r,i){this.persistence=e,this.si=n,this.M=i,this.ii=new os(Vn),this.ri=new qy(s=>ok(s),ak),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new $Pe(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ii))}}function jPe(t,e,n,r){return new WPe(t,e,n,r)}async function DK(t,e){const n=On(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.ai(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=gr();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return n.ci.Ks(r,l).next(u=>({hi:u,removedBatchIds:o,addedBatchIds:a}))})})}function BK(t){const e=On(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function qPe(t,e){const n=On(t),r=e.snapshotVersion;let i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;const a=[];e.targetChanges.forEach((u,f)=>{const c=i.get(f);if(!c)return;a.push(n.fs.removeMatchingKeys(s,u.removedDocuments,f).next(()=>n.fs.addMatchingKeys(s,u.addedDocuments,f)));let h=c.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(f)?h=h.withResumeToken(ss.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(f,h),function(g,y,_){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(c,h,u)&&a.push(n.fs.updateTargetData(s,h))});let l=kp();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(KPe(s,o,e.documentUpdates).next(u=>{l=u})),!r.isEqual(dn.min())){const u=n.fs.getLastRemoteSnapshotVersion(s).next(f=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return Ye.waitFor(a).next(()=>o.apply(s)).next(()=>n.ci.Gs(s,l)).next(()=>l)}).then(s=>(n.ii=i,s))}function KPe(t,e,n){let r=gr();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=kp();return n.forEach((o,a)=>{const l=i.get(o);a.isNoDocument()&&a.version.isEqual(dn.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):Ct("LocalStore","Ignoring outdated watch update for ",o,". Current version:",l.version," Watch version:",a.version)}),s})}function QPe(t,e){const n=On(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,Ye.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new pp(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ii.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ii=n.ii.insert(r.targetId,r),n.ri.set(e,r.targetId)),r})}async function YP(t,e,n){const r=On(t),i=r.ii.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hw(o))throw o;Ct("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ii=r.ii.remove(e),r.ri.delete(i.target)}function M8(t,e,n){const r=On(t);let i=dn.min(),s=gr();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const f=On(a),c=f.ri.get(u);return c!==void 0?Ye.resolve(f.ii.get(c)):f.fs.getTargetData(l,u)}(r,o,Op(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.si.Qs(o,e,n?i:dn.min(),n?s:gr())).next(a=>(JPe(r,rPe(e),a),{documents:a,li:s})))}function JPe(t,e,n){let r=dn.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.oi.set(e,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XPe{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,n){return Ye.resolve(this.wi.get(n))}saveBundleMetadata(e,n){var r;return this.wi.set(n.id,{id:(r=n).id,version:r.version,createTime:cx(r.createTime)}),Ye.resolve()}getNamedQuery(e,n){return Ye.resolve(this.mi.get(n))}saveNamedQuery(e,n){return this.mi.set(n.name,function(r){return{name:r.name,query:UPe(r.bundledQuery),readTime:cx(r.readTime)}}(n)),Ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YPe{constructor(){this.overlays=new os($t.comparator),this.gi=new Map}getOverlay(e,n){return Ye.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),Ye.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.gi.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.gi.delete(r)),Ye.resolve()}getOverlaysForCollection(e,n,r){const i=DR(),s=n.length+1,o=new $t(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ye.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new os((u,f)=>u-f);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=DR(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const a=DR(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return Ye.resolve(a)}Xt(e,n,r){if(r===null)return;const i=this.overlays.get(r.key);if(i!==null){const o=this.gi.get(i.largestBatchId).delete(r.key);this.gi.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new FPe(n,r));let s=this.gi.get(n);s===void 0&&(s=gr(),this.gi.set(n,s)),this.gi.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this.yi=new rs(ki.pi),this.Ii=new rs(ki.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,n){const r=new ki(e,n);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ai(new ki(e,n))}Ri(e,n){e.forEach(r=>this.removeReference(r,n))}Pi(e){const n=new $t(new kr([])),r=new ki(n,e),i=new ki(n,e+1),s=[];return this.Ii.forEachInRange([r,i],o=>{this.Ai(o),s.push(o.key)}),s}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const n=new $t(new kr([])),r=new ki(n,e),i=new ki(n,e+1);let s=gr();return this.Ii.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ki(e,0),r=this.yi.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ki{constructor(e,n){this.key=e,this.vi=n}static pi(e,n){return $t.comparator(e.key,n.key)||Vn(e.vi,n.vi)}static Ti(e,n){return Vn(e.vi,n.vi)||$t.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZPe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new rs(ki.pi)}checkEmpty(e){return Ye.resolve(this.Bs.length===0)}addMutationBatch(e,n,r,i){const s=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];const o=new kPe(s,n,r,i);this.Bs.push(o);for(const a of i)this.Di=this.Di.add(new ki(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ye.resolve(o)}lookupMutationBatch(e,n){return Ye.resolve(this.Ci(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.xi(r),s=i<0?0:i;return Ye.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(this.Bs.length===0?-1:this.Si-1)}getAllMutationBatches(e){return Ye.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ki(n,0),i=new ki(n,Number.POSITIVE_INFINITY),s=[];return this.Di.forEachInRange([r,i],o=>{const a=this.Ci(o.vi);s.push(a)}),Ye.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rs(Vn);return n.forEach(i=>{const s=new ki(i,0),o=new ki(i,Number.POSITIVE_INFINITY);this.Di.forEachInRange([s,o],a=>{r=r.add(a.vi)})}),Ye.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;$t.isDocumentKey(s)||(s=s.child(""));const o=new ki(new $t(s),0);let a=new rs(Vn);return this.Di.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.vi)),!0)},o),Ye.resolve(this.Ni(a))}Ni(e){const n=[];return e.forEach(r=>{const i=this.Ci(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){li(this.ki(n.batchId,"removed")===0),this.Bs.shift();let r=this.Di;return Ye.forEach(n.mutations,i=>{const s=new ki(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,n){const r=new ki(n,0),i=this.Di.firstAfterOrEqual(r);return Ye.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.Bs.length,Ye.resolve()}ki(e,n){return this.xi(e)}xi(e){return this.Bs.length===0?0:e-this.Bs[0].batchId}Ci(e){const n=this.xi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3e{constructor(e){this.Mi=e,this.docs=new os($t.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mi(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ye.resolve(r?r.document.mutableCopy():ws.newInvalidDocument(n))}getEntries(e,n){let r=kp();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ws.newInvalidDocument(i))}),Ye.resolve(r)}getAllFromCollection(e,n,r){let i=kp();const s=new $t(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||VLe($Le(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return Ye.resolve(i)}getAllFromCollectionGroup(e,n,r,i){hn()}Oi(e,n){return Ye.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new t3e(this)}getSize(e){return Ye.resolve(this.size)}}class t3e extends zPe{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Ye.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3e{constructor(e){this.persistence=e,this.Fi=new qy(n=>ok(n),ak),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.$i=0,this.Bi=new hk,this.targetCount=0,this.Li=j0.gn()}forEachTarget(e,n){return this.Fi.forEach((r,i)=>n(i)),Ye.resolve()}getLastRemoteSnapshotVersion(e){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ye.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$i&&(this.$i=n),Ye.resolve()}Tn(e){this.Fi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Li=new j0(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,Ye.resolve()}updateTargetData(e,n){return this.Tn(n),Ye.resolve()}removeTargetData(e,n){return this.Fi.delete(n.target),this.Bi.Pi(n.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ye.waitFor(s).next(()=>i)}getTargetCount(e){return Ye.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fi.get(n)||null;return Ye.resolve(r)}addMatchingKeys(e,n,r){return this.Bi.Ei(n,r),Ye.resolve()}removeMatchingKeys(e,n,r){this.Bi.Ri(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ye.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Bi.Pi(n),Ye.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Bi.Vi(n);return Ye.resolve(r)}containsKey(e,n){return Ye.resolve(this.Bi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3e{constructor(e,n){this.Ui={},this.overlays={},this.es=new ik(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new n3e(this),this.indexManager=new HPe,this.ds=function(r){return new e3e(r)}(r=>this.referenceDelegate.qi(r)),this.M=new NPe(n),this._s=new XPe(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YPe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ui[e.toKey()];return r||(r=new ZPe(n,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){Ct("MemoryPersistence","Starting transaction:",e);const i=new i3e(this.es.next());return this.referenceDelegate.Ki(),r(i).next(s=>this.referenceDelegate.Gi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Qi(e,n){return Ye.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,n)))}}class i3e extends OPe{constructor(e){super(),this.currentSequenceNumber=e}}class dk{constructor(e){this.persistence=e,this.ji=new hk,this.Wi=null}static zi(e){return new dk(e)}get Hi(){if(this.Wi)return this.Wi;throw hn()}addReference(e,n,r){return this.ji.addReference(r,n),this.Hi.delete(r.toString()),Ye.resolve()}removeReference(e,n,r){return this.ji.removeReference(r,n),this.Hi.add(r.toString()),Ye.resolve()}markPotentiallyOrphaned(e,n){return this.Hi.add(n.toString()),Ye.resolve()}removeTarget(e,n){this.ji.Pi(n.targetId).forEach(i=>this.Hi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ki(){this.Wi=new Set}Gi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.Hi,r=>{const i=$t.fromPath(r);return this.Ji(e,i).next(s=>{s||n.removeEntry(i,dn.min())})}).next(()=>(this.Wi=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ji(e,n).next(r=>{r?this.Hi.delete(n.toString()):this.Hi.add(n.toString())})}qi(e){return 0}Ji(e,n){return Ye.or([()=>Ye.resolve(this.ji.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Qi(e,n)])}}class R8{constructor(){this.activeTargetIds=TK()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s3e{constructor(){this.$r=new R8,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,n,r){this.Br[e]=n}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new R8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3e{Lr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Ct("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Ct("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3e{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3e extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.io=n+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,n,r,i,s){const o=this.uo(e,n);Ct("RestConnection","Sending: ",o,r);const a={};return this.ao(a,i,s),this.co(e,o,a,r).then(l=>(Ct("RestConnection","Received: ",l),l),l=>{throw c8("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}ho(e,n,r,i,s){return this.oo(e,n,r,i,s)}ao(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}uo(e,n){const r=a3e[e];return`${this.io}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new CLe;a.listenOnce(ALe.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case LR.NO_ERROR:const u=a.getResponseJson();Ct("Connection","XHR received:",JSON.stringify(u)),s(u);break;case LR.TIMEOUT:Ct("Connection",'RPC "'+e+'" timed out'),o(new zt(at.DEADLINE_EXCEEDED,"Request time out"));break;case LR.HTTP_ERROR:const f=a.getStatus();if(Ct("Connection",'RPC "'+e+'" failed with status:',f,"response text:",a.getResponseText()),f>0){const c=a.getResponseJson().error;if(c&&c.status&&c.message){const h=function(g){const y=g.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(y)>=0?y:at.UNKNOWN}(c.status);o(new zt(h,c.message))}else o(new zt(at.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new zt(at.UNAVAILABLE,"Connection failed."));break;default:hn()}}finally{Ct("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}lo(e,n,r){const i=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=bLe(),o=SLe(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new TLe({})),this.ao(a.initMessageHeaders,n,r),Sj()||Ej()||rMe()||Tj()||iMe()||Aj()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");Ct("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let f=!1,c=!1;const h=new l3e({Wr:y=>{c?Ct("Connection","Not sending because WebChannel is closed:",y):(f||(Ct("Connection","Opening WebChannel transport."),u.open(),f=!0),Ct("Connection","WebChannel sending:",y),u.send(y))},zr:()=>u.close()}),g=(y,_,x)=>{y.listen(_,w=>{try{x(w)}catch(b){setTimeout(()=>{throw b},0)}})};return g(u,dS.EventType.OPEN,()=>{c||Ct("Connection","WebChannel transport opened.")}),g(u,dS.EventType.CLOSE,()=>{c||(c=!0,Ct("Connection","WebChannel transport closed"),h.no())}),g(u,dS.EventType.ERROR,y=>{c||(c=!0,c8("Connection","WebChannel transport errored:",y),h.no(new zt(at.UNAVAILABLE,"The operation could not be completed")))}),g(u,dS.EventType.MESSAGE,y=>{var _;if(!c){const x=y.data[0];li(!!x);const w=x,b=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(b){Ct("Connection","WebChannel received error:",b);const E=b.status;let C=function(P){const D=ni[P];if(D!==void 0)return EK(D)}(E),M=b.message;C===void 0&&(C=at.INTERNAL,M="Unknown error status: "+E+" with message "+b.message),c=!0,h.no(new zt(C,M)),u.close()}else Ct("Connection","WebChannel received:",x),h.so(x)}}),g(o,ELe.STAT_EVENT,y=>{y.stat===a8.PROXY?Ct("Connection","Detected buffering proxy"):y.stat===a8.NOPROXY&&Ct("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.eo()},0),h}}function OR(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t){return new xPe(t,!0)}class kK{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.fo=r,this._o=i,this.wo=s,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&Ct("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.mo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){this.yo!==null&&(this.yo.skipDelay(),this.yo=null)}cancel(){this.yo!==null&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3e{constructor(e,n,r,i,s,o,a,l){this.Yn=e,this.Ro=r,this.Po=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new kK(e,n)}Co(){return this.state===1||this.state===5||this.xo()}xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.No()}async stop(){this.Co()&&await this.close(0)}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&this.vo===null&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}async Oo(){if(this.xo())return this.close(0)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}async close(e,n){this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,e!==4?this.Do.reset():n&&n.code===at.RESOURCE_EXHAUSTED?(ph(n.toString()),ph("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Lo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Yr(n)}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.qo(r,i)},r=>{e(()=>{const i=new zt(at.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(i)})})}qo(e,n){const r=this.Uo(this.Vo);this.stream=this.Go(e,n),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(i=>{r(()=>this.Ko(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}No(){this.state=5,this.Do.To(async()=>{this.state=0,this.start()})}Ko(e){return Ct("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Yn.enqueueAndForget(()=>this.Vo===e?n():(Ct("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f3e extends c3e{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Go(e,n){return this.bo.lo("Listen",e,n)}onMessage(e){this.Do.reset();const n=EPe(this.M,e),r=function(i){if(!("targetChange"in i))return dn.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?dn.min():s.readTime?cx(s.readTime):dn.min()}(e);return this.listener.Qo(n,r)}jo(e){const n={};n.database=C8(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=WP(a)?{documents:TPe(i,a)}:{query:CPe(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=bPe(i,s.resumeToken):s.snapshotVersion.compareTo(dn.min())>0&&(o.readTime=wPe(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=RPe(this.M,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=C8(this.M),n.removeTarget=e,this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3e extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.M=i,this.tu=!1}eu(){if(this.tu)throw new zt(at.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,n,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.oo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new zt(at.UNKNOWN,i.toString())})}ho(e,n,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ho(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new zt(at.UNKNOWN,i.toString())})}terminate(){this.tu=!0}}class d3e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){this.nu===0&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,e==="Online"&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(ph(n),this.iu=!1):Ct("OnlineStateTracker",n)}cu(){this.su!==null&&(this.su.cancel(),this.su=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3e{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=s,this._u.Lr(o=>{r.enqueueAndForget(async()=>{pw(this)&&(Ct("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=On(a);l.fu.add(4),await dw(l),l.wu.set("Unknown"),l.fu.delete(4),await tM(l)}(this))})}),this.wu=new d3e(r,i)}}async function tM(t){if(pw(t))for(const e of t.du)await e(!0)}async function dw(t){for(const e of t.du)await e(!1)}function FK(t,e){const n=On(t);n.lu.has(e.targetId)||(n.lu.set(e.targetId,e),gk(n)?mk(n):Ky(n).xo()&&pk(n,e))}function NK(t,e){const n=On(t),r=Ky(n);n.lu.delete(e),r.xo()&&UK(n,e),n.lu.size===0&&(r.xo()?r.Mo():pw(n)&&n.wu.set("Unknown"))}function pk(t,e){t.mu.Z(e.targetId),Ky(t).jo(e)}function UK(t,e){t.mu.Z(e),Ky(t).Wo(e)}function mk(t){t.mu=new yPe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.lu.get(e)||null}),Ky(t).start(),t.wu.ru()}function gk(t){return pw(t)&&!Ky(t).Co()&&t.lu.size>0}function pw(t){return On(t).fu.size===0}function HK(t){t.mu=void 0}async function m3e(t){t.lu.forEach((e,n)=>{pk(t,e)})}async function g3e(t,e){HK(t),gk(t)?(t.wu.au(e),mk(t)):t.wu.set("Unknown")}async function y3e(t,e,n){if(t.wu.set("Online"),e instanceof MK&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.lu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.lu.delete(o),r.mu.removeTarget(o))}(t,e)}catch(r){Ct("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await L8(t,r)}else if(e instanceof VA?t.mu.ut(e):e instanceof CK?t.mu._t(e):t.mu.ht(e),!n.isEqual(dn.min()))try{const r=await BK(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.mu.yt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.lu.get(l);u&&i.lu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.lu.get(a);if(!l)return;i.lu.set(a,l.withResumeToken(ss.EMPTY_BYTE_STRING,l.snapshotVersion)),UK(i,a);const u=new pp(l.target,a,1,l.sequenceNumber);pk(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Ct("RemoteStore","Failed to raise snapshot:",r),await L8(t,r)}}async function L8(t,e,n){if(!hw(e))throw e;t.fu.add(1),await dw(t),t.wu.set("Offline"),n||(n=()=>BK(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ct("RemoteStore","Retrying IndexedDB access"),await n(),t.fu.delete(1),await tM(t)})}async function P8(t,e){const n=On(t);n.asyncQueue.verifyOperationInProgress(),Ct("RemoteStore","RemoteStore received new credentials");const r=pw(n);n.fu.add(3),await dw(n),r&&n.wu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.fu.delete(3),await tM(n)}async function v3e(t,e){const n=On(t);e?(n.fu.delete(2),await tM(n)):e||(n.fu.add(2),await dw(n),n.wu.set("Unknown"))}function Ky(t){return t.gu||(t.gu=function(e,n,r){const i=On(e);return i.eu(),new f3e(n,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Hr:m3e.bind(null,t),Yr:g3e.bind(null,t),Qo:y3e.bind(null,t)}),t.du.push(async e=>{e?(t.gu.ko(),gk(t)?mk(t):t.wu.set("Unknown")):(await t.gu.stop(),HK(t))})),t.gu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new E0,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new yk(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zt(at.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function GK(t,e){if(ph("AsyncQueue",`${e}: ${t}`),hw(t))return new zt(at.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.comparator=e?(n,r)=>e(n,r)||$t.comparator(n.key,r.key):(n,r)=>$t.comparator(n.key,r.key),this.keyedMap=JP(),this.sortedSet=new os(this.comparator)}static emptySet(e){return new M0(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof M0)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new M0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.pu=new os($t.comparator)}track(e){const n=e.doc.key,r=this.pu.get(n);r?e.type!==0&&r.type===3?this.pu=this.pu.insert(n,e):e.type===3&&r.type!==1?this.pu=this.pu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pu=this.pu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pu=this.pu.remove(n):e.type===1&&r.type===2?this.pu=this.pu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pu=this.pu.insert(n,{type:2,doc:e.doc}):hn():this.pu=this.pu.insert(n,e)}Iu(){const e=[];return this.pu.inorderTraversal((n,r)=>{e.push(r)}),e}}class q0{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new q0(e,n,M0.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3e{constructor(){this.Tu=void 0,this.listeners=[]}}class x3e{constructor(){this.queries=new qy(e=>gK(e),cw),this.onlineState="Unknown",this.Eu=new Set}}async function w3e(t,e){const n=On(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new _3e),i)try{s.Tu=await n.onListen(r)}catch(o){const a=GK(o,`Initialization of query '${jP(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Au(n.onlineState),s.Tu&&e.Ru(s.Tu)&&vk(n)}async function b3e(t,e){const n=On(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function S3e(t,e){const n=On(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Ru(i)&&(r=!0);o.Tu=i}}r&&vk(n)}function A3e(t,e,n){const r=On(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function vk(t){t.Eu.forEach(e=>{e.next()})}class E3e{constructor(e,n,r){this.query=e,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new q0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),n=!0):this.Su(e,this.onlineState)&&(this.Du(e),n=!0),this.Vu=e,n}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let n=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),n=!0),n}Su(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Cu||!r)&&(!e.docs.isEmpty()||n==="Offline")}vu(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Du(e){e=q0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(e){this.key=e}}class $K{constructor(e){this.key=e}}class T3e{constructor(e,n){this.query=e,this.$u=n,this.Bu=null,this.current=!1,this.Lu=gr(),this.mutatedKeys=gr(),this.Uu=yK(e),this.qu=new M0(this.Uu)}get Ku(){return this.$u}Gu(e,n){const r=n?n.Qu:new D8,i=n?n.qu:this.qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=zA(this.query)&&i.size===this.query.limit?i.last():null,u=pT(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,c)=>{const h=i.get(f),g=uk(this.query,c)?c:null,y=!!h&&this.mutatedKeys.has(h.key),_=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;h&&g?h.data.isEqual(g.data)?y!==_&&(r.track({type:3,doc:g}),x=!0):this.ju(h,g)||(r.track({type:2,doc:g}),x=!0,(l&&this.Uu(g,l)>0||u&&this.Uu(g,u)<0)&&(a=!0)):!h&&g?(r.track({type:0,doc:g}),x=!0):h&&!g&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(g?(o=o.add(g),s=_?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),zA(this.query)||pT(this.query))for(;o.size>this.query.limit;){const f=zA(this.query)?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{qu:o,Qu:r,ni:a,mutatedKeys:s}}ju(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const s=e.Qu.Iu();s.sort((u,f)=>function(c,h){const g=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hn()}};return g(c)-g(h)}(u.type,f.type)||this.Uu(u.doc,f.doc)),this.Wu(r);const o=n?this.zu():[],a=this.Lu.size===0&&this.current?1:0,l=a!==this.Bu;return this.Bu=a,s.length!==0||l?{snapshot:new q0(this.query,e.qu,i,s,e.mutatedKeys,a===0,l,!1),Hu:o}:{Hu:o}}Au(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new D8,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(n=>this.$u=this.$u.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.$u=this.$u.delete(n)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=gr(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const n=[];return e.forEach(r=>{this.Lu.has(r)||n.push(new $K(r))}),this.Lu.forEach(r=>{e.has(r)||n.push(new zK(r))}),n}Yu(e){this.$u=e.li,this.Lu=gr();const n=this.Gu(e.documents);return this.applyChanges(n,!0)}Xu(){return q0.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,this.Bu===0)}}class C3e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class M3e{constructor(e){this.key=e,this.Zu=!1}}class R3e{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new qy(a=>gK(a),cw),this.na=new Map,this.sa=new Set,this.ia=new os($t.comparator),this.ra=new Map,this.oa=new hk,this.ua={},this.aa=new Map,this.ca=j0.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return this.ha===!0}}async function I3e(t,e){const n=F3e(t);let r,i;const s=n.ea.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Xu();else{const o=await QPe(n.localStore,Op(e));n.isPrimaryClient&&FK(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await L3e(n,e,r,a==="current")}return i}async function L3e(t,e,n,r){t.la=(f,c,h)=>async function(g,y,_,x){let w=y.view.Gu(_);w.ni&&(w=await M8(g.localStore,y.query,!1).then(({documents:C})=>y.view.Gu(C,w)));const b=x&&x.targetChanges.get(y.targetId),E=y.view.applyChanges(w,g.isPrimaryClient,b);return O8(g,y.targetId,E.Hu),E.snapshot}(t,f,c,h);const i=await M8(t.localStore,e,!0),s=new T3e(e,i.li),o=s.Gu(i.documents),a=fw.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);O8(t,n,l.Hu);const u=new C3e(e,n,s);return t.ea.set(e,u),t.na.has(n)?t.na.get(n).push(e):t.na.set(n,[e]),l.snapshot}async function P3e(t,e){const n=On(t),r=n.ea.get(e),i=n.na.get(r.targetId);if(i.length>1)return n.na.set(r.targetId,i.filter(s=>!cw(s,e))),void n.ea.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await YP(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),NK(n.remoteStore,r.targetId),ZP(n,r.targetId)}).catch(ck)):(ZP(n,r.targetId),await YP(n.localStore,r.targetId,!0))}async function VK(t,e){const n=On(t);try{const r=await qPe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ra.get(s);o&&(li(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Zu=!0:i.modifiedDocuments.size>0?li(o.Zu):i.removedDocuments.size>0&&(li(o.Zu),o.Zu=!1))}),await jK(n,r,e)}catch(r){await ck(r)}}function B8(t,e,n){const r=On(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ea.forEach((s,o)=>{const a=o.view.Au(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=On(s);a.onlineState=o;let l=!1;a.queries.forEach((u,f)=>{for(const c of f.listeners)c.Au(o)&&(l=!0)}),l&&vk(a)}(r.eventManager,e),i.length&&r.ta.Qo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D3e(t,e,n){const r=On(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ra.get(e),s=i&&i.key;if(s){let o=new os($t.comparator);o=o.insert(s,ws.newNoDocument(s,dn.min()));const a=gr().add(s),l=new eM(dn.min(),new Map,new rs(Vn),o,a);await VK(r,l),r.ia=r.ia.remove(s),r.ra.delete(e),_k(r)}else await YP(r.localStore,e,!1).then(()=>ZP(r,e,n)).catch(ck)}function ZP(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.na.get(e))t.ea.delete(r),n&&t.ta.fa(r,n);t.na.delete(e),t.isPrimaryClient&&t.oa.Pi(e).forEach(r=>{t.oa.containsKey(r)||WK(t,r)})}function WK(t,e){t.sa.delete(e.path.canonicalString());const n=t.ia.get(e);n!==null&&(NK(t.remoteStore,n),t.ia=t.ia.remove(e),t.ra.delete(n),_k(t))}function O8(t,e,n){for(const r of n)r instanceof zK?(t.oa.addReference(r.key,e),B3e(t,r)):r instanceof $K?(Ct("SyncEngine","Document no longer in limbo: "+r.key),t.oa.removeReference(r.key,e),t.oa.containsKey(r.key)||WK(t,r.key)):hn()}function B3e(t,e){const n=e.key,r=n.path.canonicalString();t.ia.get(n)||t.sa.has(r)||(Ct("SyncEngine","New document in limbo: "+n),t.sa.add(r),_k(t))}function _k(t){for(;t.sa.size>0&&t.ia.size<t.maxConcurrentLimboResolutions;){const e=t.sa.values().next().value;t.sa.delete(e);const n=new $t(kr.fromString(e)),r=t.ca.next();t.ra.set(r,new M3e(n)),t.ia=t.ia.insert(n,r),FK(t.remoteStore,new pp(Op(lk(n.path)),r,2,ik.A))}}async function jK(t,e,n){const r=On(t),i=[],s=[],o=[];r.ea.isEmpty()||(r.ea.forEach((a,l)=>{o.push(r.la(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const f=fk.Ys(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.ta.Qo(i),await async function(a,l){const u=On(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ye.forEach(l,c=>Ye.forEach(c.Hs,h=>u.persistence.referenceDelegate.addReference(f,c.targetId,h)).next(()=>Ye.forEach(c.Js,h=>u.persistence.referenceDelegate.removeReference(f,c.targetId,h)))))}catch(f){if(!hw(f))throw f;Ct("LocalStore","Failed to update sequence numbers: "+f)}for(const f of l){const c=f.targetId;if(!f.fromCache){const h=u.ii.get(c),g=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(g);u.ii=u.ii.insert(c,y)}}}(r.localStore,s))}async function O3e(t,e){const n=On(t);if(!n.currentUser.isEqual(e)){Ct("SyncEngine","User change. New user:",e.toKey());const r=await DK(n.localStore,e);n.currentUser=e,function(i,s){i.aa.forEach(o=>{o.forEach(a=>{a.reject(new zt(at.CANCELLED,s))})}),i.aa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jK(n,r.hi)}}function k3e(t,e){const n=On(t),r=n.ra.get(e);if(r&&r.Zu)return gr().add(r.key);{let i=gr();const s=n.na.get(e);if(!s)return i;for(const o of s){const a=n.ea.get(o);i=i.unionWith(a.view.Ku)}return i}}function F3e(t){const e=On(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VK.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k3e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D3e.bind(null,e),e.ta.Qo=S3e.bind(null,e.eventManager),e.ta.fa=A3e.bind(null,e.eventManager),e}class N3e{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=OK(e.databaseInfo.databaseId),this.sharedClientState=this._a(e),this.persistence=this.wa(e),await this.persistence.start(),this.gcScheduler=this.ma(e),this.localStore=this.ga(e)}ma(e){return null}ga(e){return jPe(this.persistence,new VPe,e.initialUser,this.M)}wa(e){return new r3e(dk.zi,this.M)}_a(e){return new s3e}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class U3e{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>B8(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O3e.bind(null,this.syncEngine),await v3e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new x3e}createDatastore(e){const n=OK(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new u3e(i));var i;return function(s,o,a,l){return new h3e(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>B8(this.syncEngine,a,0),o=I8.vt()?new I8:new o3e,new p3e(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const f=new R3e(r,i,s,o,a,l);return u&&(f.ha=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=On(e);Ct("RemoteStore","RemoteStore shutting down."),n.fu.add(5),await dw(n),n._u.shutdown(),n.wu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3e{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3e{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mo.UNAUTHENTICATED,this.clientId=kLe.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Ct("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ct("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new zt(at.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new E0;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=GK(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function z3e(t,e){t.asyncQueue.verifyOperationInProgress(),Ct("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DK(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function $3e(t,e){t.asyncQueue.verifyOperationInProgress();const n=await V3e(t);Ct("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>P8(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>P8(e.remoteStore,s)),t.onlineComponents=e}async function V3e(t){return t.offlineComponents||(Ct("FirestoreClient","Using default OfflineComponentProvider"),await z3e(t,new N3e)),t.offlineComponents}async function W3e(t){return t.onlineComponents||(Ct("FirestoreClient","Using default OnlineComponentProvider"),await $3e(t,new U3e)),t.onlineComponents}async function k8(t){const e=await W3e(t),n=e.eventManager;return n.onListen=I3e.bind(null,e.syncEngine),n.onUnlisten=P3e.bind(null,e.syncEngine),n}const F8=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3e(t,e,n){if(!n)throw new zt(at.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q3e(t,e,n,r){if(e===!0&&r===!0)throw new zt(at.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function N8(t){if($t.isDocumentKey(t))throw new zt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function K3e(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":hn()}function kR(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new zt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=K3e(t);throw new zt(at.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Q3e(t,e){if(e<=0)throw new zt(at.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U8{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new zt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new zt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,q3e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U8({}),this._settingsFrozen=!1,e instanceof $0?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new zt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $0(i.options.projectId)}(e))}get app(){if(!this._app)throw new zt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new zt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U8(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new RLe;switch(n.type){case"gapi":const r=n.client;return li(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new PLe(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new zt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=F8.get(e);n&&(Ct("ComponentProvider","Removing Datastore"),F8.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new R0(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new im(this.firestore,e,this._key)}}class gh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gh(this.firestore,e,this._query)}}class R0 extends gh{constructor(e,n,r){super(e,n,lk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new im(this.firestore,null,new $t(e))}withConverter(e){return new R0(this.firestore,e,this._path)}}function J3e(t,e,...n){if(t=Ui(t),j3e("collection","path",e),t instanceof qK){const r=kr.fromString(e,...n);return N8(r),new R0(t,null,r)}{if(!(t instanceof im||t instanceof R0))throw new zt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kr.fromString(e,...n));return N8(r),new R0(t.firestore,null,r)}}function X3e(t,e){return t=Ui(t),e=Ui(e),t instanceof gh&&e instanceof gh&&t.firestore===e.firestore&&cw(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3e{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new kK(this,"async_queue_retry"),this.qa=()=>{const n=OR();n&&Ct("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Do.Ao()};const e=OR();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const n=OR();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const n=new E0;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}async Qa(){if(this.Ma.length!==0){try{await this.Ma[0](),this.Ma.shift(),this.Do.reset()}catch(e){if(!hw(e))throw e;Ct("AsyncQueue","Operation failed with retryable error: "+e)}this.Ma.length>0&&this.Do.To(()=>this.Qa())}}Ga(e){const n=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{this.$a=r,this.Ba=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ph("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ba=!1,r))));return this.ka=n,n}enqueueAfterDelay(e,n,r){this.Ka(),this.Ua.indexOf(e)>-1&&(n=0);const i=yk.createAndSchedule(this,e,n,r,s=>this.ja(s));return this.Fa.push(i),i}Ka(){this.$a&&hn()}verifyOperationInProgress(){}async Wa(){let e;do e=this.ka,await e;while(e!==this.ka)}za(e){for(const n of this.Fa)if(n.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Fa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const n=this.Fa.indexOf(e);this.Fa.splice(n,1)}}function H8(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class e3 extends qK{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new Y3e,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||KK(this),this._firestoreClient.terminate()}}function Z3e(t=DC()){return Qx(t,"firestore").getImmediate()}function eDe(t){return t._firestoreClient||KK(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function KK(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new HLe(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new G3e(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new zt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vl(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yT(ss.fromBase64String(e))}catch(n){throw new zt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yT(ss.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tDe{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new zt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new zt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vn(this._lat,e._lat)||Vn(this._long,e._long)}}const nDe=new RegExp("[~\\*/\\[\\]]");function rDe(t,e,n){if(e.search(nDe)>=0)throw G8(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new QK(...e.split("."))._internalPath}catch{throw G8(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function G8(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new zt(at.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JK{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new im(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iDe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iDe extends JK{data(){return super.data()}}function xk(t,e){return typeof e=="string"?rDe(t,e):e instanceof QK?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XK extends JK{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new WA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class WA extends XK{data(e={}){return super.data(e)}}class sDe{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new j1(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new WA(this._firestore,this._userDataWriter,r.key,r,new j1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new zt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new WA(r._firestore,r._userDataWriter,o.doc.key,o.doc,new j1(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new WA(r._firestore,r._userDataWriter,o.doc.key,o.doc,new j1(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:oDe(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oDe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hn()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aDe(t){if(pT(t)&&t.explicitOrderBy.length===0)throw new zt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YK{}function lDe(t,...e){for(const n of e)t=n._apply(t);return t}class uDe extends YK{constructor(e,n){super(),this.lc=e,this._c=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new zt(at.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new zt(at.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new C0(i,s);return function(a,l){if(dK(a)===null){const u=pK(a);u!==null&&dDe(a,u,l.field)}}(r,o),o}(e._query,this.lc,this._c);return new gh(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new uw(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function cDe(t,e="asc"){const n=e,r=xk("orderBy",t);return new uDe(r,n)}class fDe extends YK{constructor(e,n,r){super(),this.type=e,this.wc=n,this.mc=r}_apply(e){return new gh(e.firestore,e.converter,mK(e._query,this.wc,this.mc))}}function hDe(t){return Q3e("limit",t),new fDe("limit",t,"F")}function dDe(t,e,n){if(!n.isEqual(e))throw new zt(at.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pDe{convertValue(e,n="none"){switch(Bp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ii(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(z0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw hn()}}convertObject(e,n){const r={};return YC(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new tDe(ii(e.latitude),ii(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fK(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ax(e));default:return null}}convertTimestamp(e){const n=mh(e);return new Al(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kr.fromString(e);li(PK(r));const i=new $0(r.get(1),r.get(3)),s=new $t(r.popFirst(5));return i.isEqual(n)||ph(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class ZK extends pDe{constructor(e){super(),this.firestore=e}convertBytes(e){return new yT(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new im(this.firestore,null,n)}}function z8(t,...e){var n,r,i;t=Ui(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||H8(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(H8(e[o])){const c=e[o];e[o]=(n=c.next)===null||n===void 0?void 0:n.bind(c),e[o+1]=(r=c.error)===null||r===void 0?void 0:r.bind(c),e[o+2]=(i=c.complete)===null||i===void 0?void 0:i.bind(c)}let l,u,f;if(t instanceof im)u=kR(t.firestore,e3),f=lk(t._key.path),l={next:c=>{e[o]&&e[o](mDe(u,t,c))},error:e[o+1],complete:e[o+2]};else{const c=kR(t,gh);u=kR(c.firestore,e3),f=c._query;const h=new ZK(u);l={next:g=>{e[o]&&e[o](new sDe(u,h,c,g))},error:e[o+1],complete:e[o+2]},aDe(t._query)}return function(c,h,g,y){const _=new H3e(y),x=new E3e(h,_,g);return c.asyncQueue.enqueueAndForget(async()=>w3e(await k8(c),x)),()=>{_.Ia(),c.asyncQueue.enqueueAndForget(async()=>b3e(await k8(c),x))}}(eDe(u),f,a,l)}function mDe(t,e,n){const r=n.docs.get(e._key),i=new ZK(t);return new XK(t,i,e._key,r,new j1(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Wy=n})(Hy),dh(new Rc("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new e3(i,new ILe(n.getProvider("auth-internal")),new BLe(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),za(l8,"3.4.8",t),za(l8,"3.4.8","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ="firebasestorage.googleapis.com",tQ="storageBucket",gDe=2*60*1e3,yDe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Uc{constructor(e,n){super(FR(e),`Firebase Storage: ${n} (${FR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nr.prototype)}_codeEquals(e){return FR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function FR(t){return"storage/"+t}function wk(){const t="An unknown error occurred, please check the error payload for server response.";return new Nr("unknown",t)}function vDe(t){return new Nr("object-not-found","Object '"+t+"' does not exist.")}function _De(t){return new Nr("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function xDe(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Nr("unauthenticated",t)}function wDe(){return new Nr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function bDe(t){return new Nr("unauthorized","User does not have permission to access '"+t+"'.")}function SDe(){return new Nr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function nQ(){return new Nr("canceled","User canceled the upload/download.")}function ADe(t){return new Nr("invalid-url","Invalid URL '"+t+"'.")}function EDe(t){return new Nr("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function TDe(){return new Nr("no-default-bucket","No default bucket found. Did you set the '"+tQ+"' property when initializing the app?")}function rQ(){return new Nr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function CDe(){return new Nr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function MDe(){return new Nr("no-download-url","The given file does not have any download URLs.")}function t3(t){return new Nr("invalid-argument",t)}function iQ(){return new Nr("app-deleted","The Firebase app was deleted.")}function RDe(t){return new Nr("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function h_(t,e){return new Nr("invalid-format","String does not match format '"+t+"': "+e)}function x1(t){throw new Nr("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qs.makeFromUrl(e,n)}catch{return new Qs(e,"")}if(r.path==="")return r;throw EDe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const f="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",g=new RegExp(`^https?://${c}/${f}/b/${i}/o${h}`,"i"),y={bucket:1,path:3},_=n===eQ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",w=new RegExp(`^https?://${_}/${i}/${x}`,"i"),E=[{regex:a,indices:l,postModify:s},{regex:g,indices:y,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<E.length;C++){const M=E[C],P=M.regex.exec(e);if(P){const D=P[M.indices.bucket];let L=P[M.indices.path];L||(L=""),r=new Qs(D,L),M.postModify(r);break}}if(r==null)throw ADe(e);return r}}class IDe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LDe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function f(...x){u||(u=!0,e.apply(null,x))}function c(x){i=setTimeout(()=>{i=null,t(g,l())},x)}function h(){s&&clearTimeout(s)}function g(x,...w){if(u){h();return}if(x){h(),f.call(null,x,...w);return}if(l()||o){h(),f.call(null,x,...w);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,c(E)}let y=!1;function _(x){y||(y=!0,h(),!u&&(i!==null?(x||(a=2),clearTimeout(i),c(0)):x||(a=1)))}return c(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function PDe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DDe(t){return t!==void 0}function BDe(t){return typeof t=="function"}function ODe(t){return typeof t=="object"&&!Array.isArray(t)}function nM(t){return typeof t=="string"||t instanceof String}function $8(t){return bk()&&t instanceof Blob}function bk(){return typeof Blob<"u"}function n3(t,e,n,r){if(r<e)throw t3(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw t3(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function sQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mp;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(mp||(mp={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kDe{constructor(e,n,r,i,s,o,a,l,u,f,c){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,g)=>{this.resolve_=h,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new mS(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===mp.NO_ERROR,l=s.getStatus();if(!a||this.isRetryStatusCode_(l)){const f=s.getErrorCode()===mp.ABORT;r(!1,new mS(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new mS(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());DDe(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=wk();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?iQ():nQ();o(l)}else{const l=SDe();o(l)}};this.canceled_?n(!1,new mS(!1,null,!0)):this.backoffId_=LDe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PDe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class mS{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function FDe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NDe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function UDe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function HDe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function GDe(t,e,n,r,i,s){const o=sQ(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return UDe(l,e),FDe(l,n),NDe(l,s),HDe(l,r),new kDe(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zDe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $De(...t){const e=zDe();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(bk())return new Blob(t);throw new Nr("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function VDe(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WDe(t){return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class NR{constructor(e,n){this.data=e,this.contentType=n||null}}function jDe(t,e){switch(t){case du.RAW:return new NR(oQ(e));case du.BASE64:case du.BASE64URL:return new NR(aQ(t,e));case du.DATA_URL:return new NR(KDe(e),QDe(e))}throw wk()}function oQ(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function qDe(t){let e;try{e=decodeURIComponent(t)}catch{throw h_(du.DATA_URL,"Malformed data URL.")}return oQ(e)}function aQ(t,e){switch(t){case du.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw h_(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case du.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw h_(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=WDe(e)}catch{throw h_(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class lQ{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw h_(du.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=JDe(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function KDe(t){const e=new lQ(t);return e.base64?aQ(du.BASE64,e.rest):qDe(e.rest)}function QDe(t){return new lQ(t).contentType}function JDe(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){let r=0,i="";$8(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($8(this.data_)){const r=this.data_,i=VDe(r,e,n);return i===null?null:new Wf(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wf(r,!0)}}static getBlob(...e){if(bk()){const n=e.map(r=>r instanceof Wf?r.data_:r);return new Wf($De.apply(null,n))}else{const n=e.map(o=>nM(o)?jDe(du.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Wf(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t){let e;try{e=JSON.parse(t)}catch{return null}return ODe(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XDe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YDe(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function uQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZDe(t,e){return e}class Gs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||ZDe}}let gS=null;function eBe(t){return!nM(t)||t.length<2?t:uQ(t)}function Ak(){if(gS)return gS;const t=[];t.push(new Gs("bucket")),t.push(new Gs("generation")),t.push(new Gs("metageneration")),t.push(new Gs("name","fullPath",!0));function e(s,o){return eBe(o)}const n=new Gs("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Gs("size");return i.xform=r,t.push(i),t.push(new Gs("timeCreated")),t.push(new Gs("updated")),t.push(new Gs("md5Hash",null,!0)),t.push(new Gs("cacheControl",null,!0)),t.push(new Gs("contentDisposition",null,!0)),t.push(new Gs("contentEncoding",null,!0)),t.push(new Gs("contentLanguage",null,!0)),t.push(new Gs("contentType",null,!0)),t.push(new Gs("metadata","customMetadata",!0)),gS=t,gS}function tBe(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Qs(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function nBe(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return tBe(r,t),r}function cQ(t,e,n){const r=Sk(e);return r===null?null:nBe(t,r,n)}function rBe(t,e,n,r){const i=Sk(e);if(i===null||!nM(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const f=t.bucket,c=t.fullPath,h="/b/"+o(f)+"/o/"+o(c),g=Qy(h,n,r),y=sQ({alt:"media",token:u});return g+y})[0]}function fQ(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="prefixes",W8="items";function iBe(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[V8])for(const i of n[V8]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new Qs(e,s));r.prefixes.push(o)}if(n[W8])for(const i of n[W8]){const s=t._makeStorageReference(new Qs(e,i.name));r.items.push(s)}return r}function sBe(t,e,n){const r=Sk(n);return r===null?null:iBe(t,e,r)}class sm{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){if(!t)throw wk()}function Ek(t,e){function n(r,i){const s=cQ(t,i,e);return Su(s!==null),s}return n}function oBe(t,e){function n(r,i){const s=sBe(t,e,i);return Su(s!==null),s}return n}function aBe(t,e){function n(r,i){const s=cQ(t,i,e);return Su(s!==null),rBe(s,i,t.host,t._protocol)}return n}function Jy(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=wDe():i=xDe():n.getStatus()===402?i=_De(t.bucket):n.getStatus()===403?i=bDe(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function hQ(t){const e=Jy(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=vDe(t.path)),s.serverResponse=i.serverResponse,s}return n}function dQ(t,e,n){const r=e.fullServerUrl(),i=Qy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new sm(i,s,Ek(t,n),o);return a.errorHandler=hQ(e),a}function lBe(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=Qy(o,t.host,t._protocol),l="GET",u=t.maxOperationRetryTime,f=new sm(a,l,oBe(t,e.bucket),u);return f.urlParams=s,f.errorHandler=Jy(e),f}function uBe(t,e,n){const r=e.fullServerUrl(),i=Qy(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new sm(i,s,aBe(t,n),o);return a.errorHandler=hQ(e),a}function cBe(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function pQ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=cBe(null,e)),r}function fBe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let C=0;C<2;C++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=pQ(e,r,i),f=fQ(u,n),c="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",g=Wf.getBlob(c,r,h);if(g===null)throw rQ();const y={name:u.fullPath},_=Qy(s,t.host,t._protocol),x="POST",w=t.maxUploadRetryTime,b=new sm(_,x,Ek(t,n),w);return b.urlParams=y,b.headers=o,b.body=g.uploadData(),b.errorHandler=Jy(e),b}class vT{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Tk(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Su(!1)}return Su(!!n&&(e||["active"]).indexOf(n)!==-1),n}function hBe(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=pQ(e,r,i),a={name:o.fullPath},l=Qy(s,t.host,t._protocol),u="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=fQ(o,n),h=t.maxUploadRetryTime;function g(_){Tk(_);let x;try{x=_.getResponseHeader("X-Goog-Upload-URL")}catch{Su(!1)}return Su(nM(x)),x}const y=new sm(l,u,g,h);return y.urlParams=a,y.headers=f,y.body=c,y.errorHandler=Jy(e),y}function dBe(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const f=Tk(u,["active","final"]);let c=null;try{c=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Su(!1)}c||Su(!1);const h=Number(c);return Su(!isNaN(h)),new vT(h,r.size(),f==="final")}const o="POST",a=t.maxUploadRetryTime,l=new sm(n,o,s,a);return l.headers=i,l.errorHandler=Jy(e),l}const j8=256*1024;function pBe(t,e,n,r,i,s,o,a){const l=new vT(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw CDe();const u=l.total-l.current;let f=u;i>0&&(f=Math.min(f,i));const c=l.current,h=c+f,y={"X-Goog-Upload-Command":f===u?"upload, finalize":"upload","X-Goog-Upload-Offset":`${l.current}`},_=r.slice(c,h);if(_===null)throw rQ();function x(C,M){const P=Tk(C,["active","final"]),D=l.current+f,L=r.size();let O;return P==="final"?O=Ek(e,s)(C,M):O=null,new vT(D,L,P==="final",O)}const w="POST",b=e.maxUploadRetryTime,E=new sm(n,w,x,b);return E.headers=y,E.body=_.uploadData(),E.progressCallback=a||null,E.errorHandler=Jy(t),E}const go={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function UR(t){switch(t){case"running":case"pausing":case"canceling":return go.RUNNING;case"paused":return go.PAUSED;case"success":return go.SUCCESS;case"canceled":return go.CANCELED;case"error":return go.ERROR;default:return go.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mBe{constructor(e,n,r){if(BDe(e)||n!=null||r!=null)this.next=e,this.error=n!=null?n:void 0,this.complete=r!=null?r:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class gBe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mp.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=mp.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=mp.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw x1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw x1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw x1("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw x1("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw x1("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yBe extends gBe{initXhr(){this.xhr_.responseType="text"}}function jf(){return new yBe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vBe{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Ak(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=hBe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,jf,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=dBe(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,jf,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=j8*this._chunkMultiplier,n=new vT(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=pBe(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,jf,i,s);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){j8*this._chunkMultiplier<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=dQ(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,jf,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=fBe(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,jf,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":this._state=e,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=e,this._request!==void 0&&this._request.cancel();break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=nQ(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=UR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new mBe(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(UR(this._state)){case go.SUCCESS:eg(this._resolve.bind(null,this.snapshot))();break;case go.CANCELED:case go.ERROR:const n=this._reject;eg(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(UR(this._state)){case go.RUNNING:case go.PAUSED:e.next&&eg(e.next.bind(e,this.snapshot))();break;case go.SUCCESS:e.complete&&eg(e.complete.bind(e))();break;case go.CANCELED:case go.ERROR:e.error&&eg(e.error.bind(e,this._error))();break;default:e.error&&eg(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this._service=e,n instanceof Qs?this._location=n:this._location=Qs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fp(e,n)}get root(){const e=new Qs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uQ(this._location.path)}get storage(){return this._service}get parent(){const e=XDe(this._location.path);if(e===null)return null;const n=new Qs(this._location.bucket,e);return new Fp(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RDe(e)}}function _Be(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new vBe(t,new Wf(e),n)}function xBe(t){const e={prefixes:[],items:[]};return mQ(t,e).then(()=>e)}async function mQ(t,e,n){const i=await wBe(t,{pageToken:n});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await mQ(t,e,i.nextPageToken)}function wBe(t,e){e!=null&&typeof e.maxResults=="number"&&n3("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=lBe(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,jf)}function bBe(t){t._throwIfRoot("getMetadata");const e=dQ(t.storage,t._location,Ak());return t.storage.makeRequestWithTokens(e,jf)}function SBe(t){t._throwIfRoot("getDownloadURL");const e=uBe(t.storage,t._location,Ak());return t.storage.makeRequestWithTokens(e,jf).then(n=>{if(n===null)throw MDe();return n})}function ABe(t,e){const n=YDe(t._location.path,e),r=new Qs(t._location.bucket,n);return new Fp(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EBe(t){return/^[A-Za-z]+:\/\//.test(t)}function TBe(t,e){return new Fp(t,e)}function gQ(t,e){if(t instanceof Ck){const n=t;if(n._bucket==null)throw TDe();const r=new Fp(n,n._bucket);return e!=null?gQ(r,e):r}else return e!==void 0?ABe(t,e):t}function CBe(t,e){if(e&&EBe(e)){if(t instanceof Ck)return TBe(t,e);throw t3("To use ref(service, url), the first argument must be a Storage instance.")}else return gQ(t,e)}function q8(t,e){const n=e==null?void 0:e[tQ];return n==null?null:Qs.makeFromBucketSpec(n,t)}class Ck{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=eQ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gDe,this._maxUploadRetryTime=yDe,this._requests=new Set,i!=null?this._bucket=Qs.makeFromBucketSpec(i,this._host):this._bucket=q8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qs.makeFromBucketSpec(this._url,e):this._bucket=q8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){n3("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){n3("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fp(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new IDe(iQ());{const s=GDe(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const K8="@firebase/storage",Q8="0.9.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ="storage";function MBe(t,e,n){return t=Ui(t),_Be(t,e,n)}function RBe(t){return t=Ui(t),bBe(t)}function IBe(t){return t=Ui(t),xBe(t)}function LBe(t){return t=Ui(t),SBe(t)}function vQ(t,e){return t=Ui(t),CBe(t,e)}function PBe(t=DC(),e){return t=Ui(t),Qx(t,yQ).getImmediate({identifier:e})}function DBe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Ck(n,r,i,e,Hy)}function BBe(){dh(new Rc(yQ,DBe,"PUBLIC").setMultipleInstances(!0)),za(K8,Q8,""),za(K8,Q8,"esm2017")}BBe();var OBe="firebase",kBe="9.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */za(OBe,kBe,"app");const rM=e2e({storageBucket:"shelltech1.appspot.com",projectId:"shelltech1",apiKey:"AIzaSyBnQkXI0MEwQVDFGl9KyBQKxmfBsfVYnL0",appId:"1:1025214092125:web:26cd2ba083c9e0ccc78eb4",messagingSenderId:"1025214092125"}),Cs=wIe(rM),J8=tIe(rM),FBe=Z3e(rM),_Q=PBe(rM),NBe=Ts(Cs,"createAction"),UBe=Ts(Cs,"getActionsOfType"),HBe=Ts(Cs,"removeAction"),GBe=Ts(Cs,"updateAction"),zBe=Ts(Cs,"getAction"),$Be=Ts(Cs,"writeMessage"),VBe=Ts(Cs,"writeAdminMessage"),WBe=Ts(Cs,"updateUser"),xQ=Ts(Cs,"isUserActive"),jBe=Ts(Cs,"backupMessagesToLog"),qBe=Ts(Cs,"getMessageLogUrl"),KBe=Ts(Cs,"addContact"),wQ=Ts(Cs,"getTicket"),QBe=Ts(Cs,"getNumProductsRemaining"),JBe=Ts(Cs,"setSingletonTicketIsScanned"),XBe=Ts(Cs,"getPurchasedItems");var bQ={exports:{}};(function(t,e){(function(n,r){t.exports=r(z.exports)})(_n,function(n){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(1&a&&(o=s(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var u in o)s.d(l,u,function(f){return o[f]}.bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="/",s(s.s=5)}([function(r,i,s){var o=s(3);r.exports=s(8)(o.isElement,!0)},function(r,i){r.exports=n},function(r,i,s){r.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(r,i,s){r.exports=s(7)},function(r,i,s){/*!
 * 
 *   typed.js - A JavaScript Typing Animation Library
 *   Author: Matt Boldt <me@mattboldt.com>
 *   Version: v2.0.9
 *   Url: https://github.com/mattboldt/typed.js
 *   License(s): MIT
 * 
 */var o;o=function(){return function(a){var l={};function u(f){if(l[f])return l[f].exports;var c=l[f]={exports:{},id:f,loaded:!1};return a[f].call(c.exports,c,c.exports,u),c.loaded=!0,c.exports}return u.m=a,u.c=l,u.p="",u(0)}([function(a,l,u){Object.defineProperty(l,"__esModule",{value:!0});var f=function(){function y(_,x){for(var w=0;w<x.length;w++){var b=x[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(_,b.key,b)}}return function(_,x,w){return x&&y(_.prototype,x),w&&y(_,w),_}}(),c=u(1),h=u(3),g=function(){function y(_,x){(function(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")})(this,y),c.initializer.load(this,x,_),this.begin()}return f(y,[{key:"toggle",value:function(){this.pause.status?this.start():this.stop()}},{key:"stop",value:function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))}},{key:"start",value:function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))}},{key:"destroy",value:function(){this.reset(!1),this.options.onDestroy(this)}},{key:"reset",value:function(){var _=arguments.length<=0||arguments[0]===void 0||arguments[0];clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,_&&(this.insertCursor(),this.options.onReset(this),this.begin())}},{key:"begin",value:function(){var _=this;this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){_.currentElContent&&_.currentElContent.length!==0?_.backspace(_.currentElContent,_.currentElContent.length):_.typewrite(_.strings[_.sequence[_.arrayPos]],_.strPos)},this.startDelay)}},{key:"typewrite",value:function(_,x){var w=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var b=this.humanizer(this.typeSpeed),E=1;this.pause.status!==!0?this.timeout=setTimeout(function(){x=h.htmlParser.typeHtmlChars(_,x,w);var C=0,M=_.substr(x);if(M.charAt(0)==="^"&&/^\^\d+/.test(M)){var P=1;P+=(M=/\d+/.exec(M)[0]).length,C=parseInt(M),w.temporaryPause=!0,w.options.onTypingPaused(w.arrayPos,w),_=_.substring(0,x)+_.substring(x+P),w.toggleBlinking(!0)}if(M.charAt(0)==="`"){for(;_.substr(x+E).charAt(0)!=="`"&&!(x+ ++E>_.length););var D=_.substring(0,x),L=_.substring(D.length+1,x+E),O=_.substring(x+E+1);_=D+L+O,E--}w.timeout=setTimeout(function(){w.toggleBlinking(!1),x>=_.length?w.doneTyping(_,x):w.keepTyping(_,x,E),w.temporaryPause&&(w.temporaryPause=!1,w.options.onTypingResumed(w.arrayPos,w))},C)},b):this.setPauseStatus(_,x,!0)}},{key:"keepTyping",value:function(_,x,w){x===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this)),x+=w;var b=_.substr(0,x);this.replaceText(b),this.typewrite(_,x)}},{key:"doneTyping",value:function(_,x){var w=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){w.backspace(_,x)},this.backDelay))}},{key:"backspace",value:function(_,x){var w=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var b=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){x=h.htmlParser.backSpaceHtmlChars(_,x,w);var E=_.substr(0,x);if(w.replaceText(E),w.smartBackspace){var C=w.strings[w.arrayPos+1];C&&E===C.substr(0,x)?w.stopNum=x:w.stopNum=0}x>w.stopNum?(x--,w.backspace(_,x)):x<=w.stopNum&&(w.arrayPos++,w.arrayPos===w.strings.length?(w.arrayPos=0,w.options.onLastStringBackspaced(),w.shuffleStringsIfNeeded(),w.begin()):w.typewrite(w.strings[w.sequence[w.arrayPos]],x))},b)}else this.setPauseStatus(_,x,!0)}},{key:"complete",value:function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0}},{key:"setPauseStatus",value:function(_,x,w){this.pause.typewrite=w,this.pause.curString=_,this.pause.curStrPos=x}},{key:"toggleBlinking",value:function(_){this.cursor&&(this.pause.status||this.cursorBlinking!==_&&(this.cursorBlinking=_,_?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))}},{key:"humanizer",value:function(_){return Math.round(Math.random()*_/2)+_}},{key:"shuffleStringsIfNeeded",value:function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))}},{key:"initFadeOut",value:function(){var _=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){_.arrayPos++,_.replaceText(""),_.strings.length>_.arrayPos?_.typewrite(_.strings[_.sequence[_.arrayPos]],0):(_.typewrite(_.strings[0],0),_.arrayPos=0)},this.fadeOutDelay)}},{key:"replaceText",value:function(_){this.attr?this.el.setAttribute(this.attr,_):this.isInput?this.el.value=_:this.contentType==="html"?this.el.innerHTML=_:this.el.textContent=_}},{key:"bindFocusEvents",value:function(){var _=this;this.isInput&&(this.el.addEventListener("focus",function(x){_.stop()}),this.el.addEventListener("blur",function(x){_.el.value&&_.el.value.length!==0||_.start()}))}},{key:"insertCursor",value:function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))}}]),y}();l.default=g,a.exports=l.default},function(a,l,u){Object.defineProperty(l,"__esModule",{value:!0});var f=Object.assign||function(w){for(var b=1;b<arguments.length;b++){var E=arguments[b];for(var C in E)Object.prototype.hasOwnProperty.call(E,C)&&(w[C]=E[C])}return w},c=function(){function w(b,E){for(var C=0;C<E.length;C++){var M=E[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,M.key,M)}}return function(b,E,C){return E&&w(b.prototype,E),C&&w(b,C),b}}(),h,g=u(2),y=(h=g)&&h.__esModule?h:{default:h},_=function(){function w(){(function(b,E){if(!(b instanceof E))throw new TypeError("Cannot call a class as a function")})(this,w)}return c(w,[{key:"load",value:function(b,E,C){if(b.el=typeof C=="string"?document.querySelector(C):C,b.options=f({},y.default,E),b.isInput=b.el.tagName.toLowerCase()==="input",b.attr=b.options.attr,b.bindInputFocusEvents=b.options.bindInputFocusEvents,b.showCursor=!b.isInput&&b.options.showCursor,b.cursorChar=b.options.cursorChar,b.cursorBlinking=!0,b.elContent=b.attr?b.el.getAttribute(b.attr):b.el.textContent,b.contentType=b.options.contentType,b.typeSpeed=b.options.typeSpeed,b.startDelay=b.options.startDelay,b.backSpeed=b.options.backSpeed,b.smartBackspace=b.options.smartBackspace,b.backDelay=b.options.backDelay,b.fadeOut=b.options.fadeOut,b.fadeOutClass=b.options.fadeOutClass,b.fadeOutDelay=b.options.fadeOutDelay,b.isPaused=!1,b.strings=b.options.strings.map(function(O){return O.trim()}),typeof b.options.stringsElement=="string"?b.stringsElement=document.querySelector(b.options.stringsElement):b.stringsElement=b.options.stringsElement,b.stringsElement){b.strings=[],b.stringsElement.style.display="none";var M=Array.prototype.slice.apply(b.stringsElement.children),P=M.length;if(P)for(var D=0;D<P;D+=1){var L=M[D];b.strings.push(L.innerHTML.trim())}}for(var D in b.strPos=0,b.arrayPos=0,b.stopNum=0,b.loop=b.options.loop,b.loopCount=b.options.loopCount,b.curLoop=0,b.shuffle=b.options.shuffle,b.sequence=[],b.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},b.typingComplete=!1,b.strings)b.sequence[D]=D;b.currentElContent=this.getCurrentElContent(b),b.autoInsertCss=b.options.autoInsertCss,this.appendAnimationCss(b)}},{key:"getCurrentElContent",value:function(b){return b.attr?b.el.getAttribute(b.attr):b.isInput?b.el.value:b.contentType==="html"?b.el.innerHTML:b.el.textContent}},{key:"appendAnimationCss",value:function(b){if(b.autoInsertCss&&(b.showCursor||b.fadeOut)&&!document.querySelector("[data-typed-js-css]")){var E=document.createElement("style");E.type="text/css",E.setAttribute("data-typed-js-css",!0);var C="";b.showCursor&&(C+=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `),b.fadeOut&&(C+=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `),E.length!==0&&(E.innerHTML=C,document.body.appendChild(E))}}}]),w}();l.default=_;var x=new _;l.initializer=x},function(a,l){Object.defineProperty(l,"__esModule",{value:!0});var u={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onComplete:function(f){},preStringTyped:function(f,c){},onStringTyped:function(f,c){},onLastStringBackspaced:function(f){},onTypingPaused:function(f,c){},onTypingResumed:function(f,c){},onReset:function(f){},onStop:function(f,c){},onStart:function(f,c){},onDestroy:function(f){}};l.default=u,a.exports=l.default},function(a,l){Object.defineProperty(l,"__esModule",{value:!0});var u=function(){function h(g,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,_){return y&&h(g.prototype,y),_&&h(g,_),g}}(),f=function(){function h(){(function(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")})(this,h)}return u(h,[{key:"typeHtmlChars",value:function(g,y,_){if(_.contentType!=="html")return y;var x=g.substr(y).charAt(0);if(x==="<"||x==="&"){var w="";for(w=x==="<"?">":";";g.substr(y+1).charAt(0)!==w&&!(++y+1>g.length););y++}return y}},{key:"backSpaceHtmlChars",value:function(g,y,_){if(_.contentType!=="html")return y;var x=g.substr(y).charAt(0);if(x===">"||x===";"){var w="";for(w=x===">"?"<":"&";g.substr(y-1).charAt(0)!==w&&!(--y<0););y--}return y}}]),h}();l.default=f;var c=new f;l.htmlParser=c}])},r.exports=o()},function(r,i,s){s.r(i);var o=s(1),a=s.n(o),l=s(0),u=s.n(l),f=s(4),c=s.n(f);function h(E){return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}function g(E,C){if(E==null)return{};var M,P,D=function(O,q){if(O==null)return{};var j,oe,le={},F=Object.keys(O);for(oe=0;oe<F.length;oe++)j=F[oe],q.indexOf(j)>=0||(le[j]=O[j]);return le}(E,C);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(E);for(P=0;P<L.length;P++)M=L[P],C.indexOf(M)>=0||Object.prototype.propertyIsEnumerable.call(E,M)&&(D[M]=E[M])}return D}function y(E,C){for(var M=0;M<C.length;M++){var P=C[M];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,P.key,P)}}function _(E){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(E)}function x(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function w(E,C){return(w=Object.setPrototypeOf||function(M,P){return M.__proto__=P,M})(E,C)}var b=function(E){function C(){var D,L,O,q,j,oe,le;(function(ee,k){if(!(ee instanceof k))throw new TypeError("Cannot call a class as a function")})(this,C);for(var F=arguments.length,Y=new Array(F),H=0;H<F;H++)Y[H]=arguments[H];return O=this,L=!(q=(D=_(C)).call.apply(D,[this].concat(Y)))||h(q)!=="object"&&typeof q!="function"?x(O):q,j=x(L),oe="rootElement",le=a.a.createRef(),oe in j?Object.defineProperty(j,oe,{value:le,enumerable:!0,configurable:!0,writable:!0}):j[oe]=le,L}var M,P;return function(D,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),L&&w(D,L)}(C,o.Component),M=C,(P=[{key:"componentDidMount",value:function(){var D=this.props,L=(D.style,D.typedRef,D.stopped),O=(D.className,g(D,["style","typedRef","stopped","className"]));this.constructTyped(O),L&&this.typed.stop()}},{key:"constructTyped",value:function(){var D=this,L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=this.props,q=(O.style,O.typedRef,O.stopped,O.className,g(O,["style","typedRef","stopped","className"]));this.typed&&this.typed.destroy(),this.typed=new c.a(this.rootElement.current,Object.assign(q,L)),this.props.typedRef&&this.props.typedRef(this.typed),this.typed.reConstruct=function(j){D.constructTyped(j)}}},{key:"shouldComponentUpdate",value:function(D){var L=this;if(this.props!==D){D.style,D.typedRef,D.stopped,D.className;var O=g(D,["style","typedRef","stopped","className"]);return this.typed.options=Object.assign(this.typed.options,O),!Object.keys(D).every(function(q){return!L.props[q]&&D[q]?(L.constructTyped(D),!1):(L.typed[q]&&(L.typed[q]=D[q]),!0)})||this.props.strings.length===D.strings.length||this.constructTyped(D),!0}return!1}},{key:"render",value:function(){var D=this.props,L=D.style,O=D.className,q=D.children,j=a.a.createElement("span",{ref:this.rootElement});return q&&(j=a.a.cloneElement(q,{ref:this.rootElement})),a.a.createElement("span",{style:L,className:O},j)}}])&&y(M.prototype,P),C}();b.propTypes={style:u.a.object,className:u.a.string,children:u.a.object,typedRef:u.a.func,stopped:u.a.bool,strings:u.a.arrayOf(u.a.string),typeSpeed:u.a.number,startDelay:u.a.number,backSpeed:u.a.number,smartBackspace:u.a.bool,shuffle:u.a.bool,backDelay:u.a.number,fadeOut:u.a.bool,fadeOutClass:u.a.string,fadeOutDelay:u.a.number,loop:u.a.bool,loopCount:u.a.number,showCursor:u.a.bool,cursorChar:u.a.string,autoInsertCss:u.a.bool,attr:u.a.string,bindInputFocusEvents:u.a.bool,contentType:u.a.oneOf(["html",""]),onComplete:u.a.func,preStringTyped:u.a.func,onStringTyped:u.a.func,onLastStringBackspaced:u.a.func,onTypingPaused:u.a.func,onTypingResumed:u.a.func,onReset:u.a.func,onStop:u.a.func,onStart:u.a.func,onDestroy:u.a.func},i.default=b},function(r,i,s){/** @license React v16.9.0
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/Object.defineProperty(i,"__esModule",{value:!0});var o=typeof Symbol=="function"&&Symbol.for,a=o?Symbol.for("react.element"):60103,l=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,f=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,h=o?Symbol.for("react.provider"):60109,g=o?Symbol.for("react.context"):60110,y=o?Symbol.for("react.async_mode"):60111,_=o?Symbol.for("react.concurrent_mode"):60111,x=o?Symbol.for("react.forward_ref"):60112,w=o?Symbol.for("react.suspense"):60113,b=o?Symbol.for("react.suspense_list"):60120,E=o?Symbol.for("react.memo"):60115,C=o?Symbol.for("react.lazy"):60116,M=o?Symbol.for("react.fundamental"):60117,P=o?Symbol.for("react.responder"):60118;function D(O){if(typeof O=="object"&&O!==null){var q=O.$$typeof;switch(q){case a:switch(O=O.type){case y:case _:case u:case c:case f:case w:return O;default:switch(O=O&&O.$$typeof){case g:case x:case h:return O;default:return q}}case C:case E:case l:return q}}}function L(O){return D(O)===_}i.typeOf=D,i.AsyncMode=y,i.ConcurrentMode=_,i.ContextConsumer=g,i.ContextProvider=h,i.Element=a,i.ForwardRef=x,i.Fragment=u,i.Lazy=C,i.Memo=E,i.Portal=l,i.Profiler=c,i.StrictMode=f,i.Suspense=w,i.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===u||O===_||O===c||O===f||O===w||O===b||typeof O=="object"&&O!==null&&(O.$$typeof===C||O.$$typeof===E||O.$$typeof===h||O.$$typeof===g||O.$$typeof===x||O.$$typeof===M||O.$$typeof===P)},i.isAsyncMode=function(O){return L(O)||D(O)===y},i.isConcurrentMode=L,i.isContextConsumer=function(O){return D(O)===g},i.isContextProvider=function(O){return D(O)===h},i.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===a},i.isForwardRef=function(O){return D(O)===x},i.isFragment=function(O){return D(O)===u},i.isLazy=function(O){return D(O)===C},i.isMemo=function(O){return D(O)===E},i.isPortal=function(O){return D(O)===l},i.isProfiler=function(O){return D(O)===c},i.isStrictMode=function(O){return D(O)===f},i.isSuspense=function(O){return D(O)===w}},function(r,i,s){/** @license React v16.9.0
* react-is.development.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(){Object.defineProperty(i,"__esModule",{value:!0});var o=typeof Symbol=="function"&&Symbol.for,a=o?Symbol.for("react.element"):60103,l=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,f=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,h=o?Symbol.for("react.provider"):60109,g=o?Symbol.for("react.context"):60110,y=o?Symbol.for("react.async_mode"):60111,_=o?Symbol.for("react.concurrent_mode"):60111,x=o?Symbol.for("react.forward_ref"):60112,w=o?Symbol.for("react.suspense"):60113,b=o?Symbol.for("react.suspense_list"):60120,E=o?Symbol.for("react.memo"):60115,C=o?Symbol.for("react.lazy"):60116,M=o?Symbol.for("react.fundamental"):60117,P=o?Symbol.for("react.responder"):60118,D=function(de){for(var ge=arguments.length,Ze=Array(ge>1?ge-1:0),Qe=1;Qe<ge;Qe++)Ze[Qe-1]=arguments[Qe];var We=0,Ue="Warning: "+de.replace(/%s/g,function(){return Ze[We++]});typeof console<"u"&&console.warn(Ue);try{throw new Error(Ue)}catch{}},L=function(de,ge){if(ge===void 0)throw new Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!de){for(var Ze=arguments.length,Qe=Array(Ze>2?Ze-2:0),We=2;We<Ze;We++)Qe[We-2]=arguments[We];D.apply(void 0,[ge].concat(Qe))}};function O(de){if(typeof de=="object"&&de!==null){var ge=de.$$typeof;switch(ge){case a:var Ze=de.type;switch(Ze){case y:case _:case u:case c:case f:case w:return Ze;default:var Qe=Ze&&Ze.$$typeof;switch(Qe){case g:case x:case h:return Qe;default:return ge}}case C:case E:case l:return ge}}}var q=y,j=_,oe=g,le=h,F=a,Y=x,H=u,ee=C,k=E,G=l,$=c,ie=f,ue=w,xe=!1;function Oe(de){return O(de)===_}i.typeOf=O,i.AsyncMode=q,i.ConcurrentMode=j,i.ContextConsumer=oe,i.ContextProvider=le,i.Element=F,i.ForwardRef=Y,i.Fragment=H,i.Lazy=ee,i.Memo=k,i.Portal=G,i.Profiler=$,i.StrictMode=ie,i.Suspense=ue,i.isValidElementType=function(de){return typeof de=="string"||typeof de=="function"||de===u||de===_||de===c||de===f||de===w||de===b||typeof de=="object"&&de!==null&&(de.$$typeof===C||de.$$typeof===E||de.$$typeof===h||de.$$typeof===g||de.$$typeof===x||de.$$typeof===M||de.$$typeof===P)},i.isAsyncMode=function(de){return xe||(xe=!0,L(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Oe(de)||O(de)===y},i.isConcurrentMode=Oe,i.isContextConsumer=function(de){return O(de)===g},i.isContextProvider=function(de){return O(de)===h},i.isElement=function(de){return typeof de=="object"&&de!==null&&de.$$typeof===a},i.isForwardRef=function(de){return O(de)===x},i.isFragment=function(de){return O(de)===u},i.isLazy=function(de){return O(de)===C},i.isMemo=function(de){return O(de)===E},i.isPortal=function(de){return O(de)===l},i.isProfiler=function(de){return O(de)===c},i.isStrictMode=function(de){return O(de)===f},i.isSuspense=function(de){return O(de)===w}})()},function(r,i,s){var o=s(3),a=s(9),l=s(2),u=s(10),f=Function.call.bind(Object.prototype.hasOwnProperty),c=function(){};function h(){return null}c=function(g){var y="Warning: "+g;typeof console<"u"&&console.error(y);try{throw new Error(y)}catch{}},r.exports=function(g,y){var _=typeof Symbol=="function"&&Symbol.iterator,x="@@iterator",w="<<anonymous>>",b={array:P("array"),bool:P("boolean"),func:P("function"),number:P("number"),object:P("object"),string:P("string"),symbol:P("symbol"),any:M(h),arrayOf:function(j){return M(function(oe,le,F,Y,H){if(typeof j!="function")return new C("Property `"+H+"` of component `"+F+"` has invalid PropType notation inside arrayOf.");var ee=oe[le];if(!Array.isArray(ee))return new C("Invalid "+Y+" `"+H+"` of type `"+L(ee)+"` supplied to `"+F+"`, expected an array.");for(var k=0;k<ee.length;k++){var G=j(ee,k,F,Y,H+"["+k+"]",l);if(G instanceof Error)return G}return null})},element:M(function(j,oe,le,F,Y){var H=j[oe];return g(H)?null:new C("Invalid "+F+" `"+Y+"` of type `"+L(H)+"` supplied to `"+le+"`, expected a single ReactElement.")}),elementType:M(function(j,oe,le,F,Y){var H=j[oe];return o.isValidElementType(H)?null:new C("Invalid "+F+" `"+Y+"` of type `"+L(H)+"` supplied to `"+le+"`, expected a single ReactElement type.")}),instanceOf:function(j){return M(function(oe,le,F,Y,H){if(!(oe[le]instanceof j)){var ee=j.name||w;return new C("Invalid "+Y+" `"+H+"` of type `"+function(k){return!k.constructor||!k.constructor.name?w:k.constructor.name}(oe[le])+"` supplied to `"+F+"`, expected instance of `"+ee+"`.")}return null})},node:M(function(j,oe,le,F,Y){return D(j[oe])?null:new C("Invalid "+F+" `"+Y+"` supplied to `"+le+"`, expected a ReactNode.")}),objectOf:function(j){return M(function(oe,le,F,Y,H){if(typeof j!="function")return new C("Property `"+H+"` of component `"+F+"` has invalid PropType notation inside objectOf.");var ee=oe[le],k=L(ee);if(k!=="object")return new C("Invalid "+Y+" `"+H+"` of type `"+k+"` supplied to `"+F+"`, expected an object.");for(var G in ee)if(f(ee,G)){var $=j(ee,G,F,Y,H+"."+G,l);if($ instanceof Error)return $}return null})},oneOf:function(j){return Array.isArray(j)?M(function(oe,le,F,Y,H){for(var ee=oe[le],k=0;k<j.length;k++)if(E(ee,j[k]))return null;var G=JSON.stringify(j,function($,ie){return O(ie)==="symbol"?String(ie):ie});return new C("Invalid "+Y+" `"+H+"` of value `"+String(ee)+"` supplied to `"+F+"`, expected one of "+G+".")}):(arguments.length>1?c("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):c("Invalid argument supplied to oneOf, expected an array."),h)},oneOfType:function(j){if(!Array.isArray(j))return c("Invalid argument supplied to oneOfType, expected an instance of array."),h;for(var oe=0;oe<j.length;oe++){var le=j[oe];if(typeof le!="function")return c("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+q(le)+" at index "+oe+"."),h}return M(function(F,Y,H,ee,k){for(var G=0;G<j.length;G++)if((0,j[G])(F,Y,H,ee,k,l)==null)return null;return new C("Invalid "+ee+" `"+k+"` supplied to `"+H+"`.")})},shape:function(j){return M(function(oe,le,F,Y,H){var ee=oe[le],k=L(ee);if(k!=="object")return new C("Invalid "+Y+" `"+H+"` of type `"+k+"` supplied to `"+F+"`, expected `object`.");for(var G in j){var $=j[G];if($){var ie=$(ee,G,F,Y,H+"."+G,l);if(ie)return ie}}return null})},exact:function(j){return M(function(oe,le,F,Y,H){var ee=oe[le],k=L(ee);if(k!=="object")return new C("Invalid "+Y+" `"+H+"` of type `"+k+"` supplied to `"+F+"`, expected `object`.");var G=a({},oe[le],j);for(var $ in G){var ie=j[$];if(!ie)return new C("Invalid "+Y+" `"+H+"` key `"+$+"` supplied to `"+F+"`.\nBad object: "+JSON.stringify(oe[le],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(j),null,"  "));var ue=ie(ee,$,F,Y,H+"."+$,l);if(ue)return ue}return null})}};function E(j,oe){return j===oe?j!==0||1/j==1/oe:j!=j&&oe!=oe}function C(j){this.message=j,this.stack=""}function M(j){var oe={},le=0;function F(H,ee,k,G,$,ie,ue){if(G=G||w,ie=ie||k,ue!==l){if(y){var xe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw xe.name="Invariant Violation",xe}if(typeof console<"u"){var Oe=G+":"+k;!oe[Oe]&&le<3&&(c("You are manually calling a React.PropTypes validation function for the `"+ie+"` prop on `"+G+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),oe[Oe]=!0,le++)}}return ee[k]==null?H?ee[k]===null?new C("The "+$+" `"+ie+"` is marked as required in `"+G+"`, but its value is `null`."):new C("The "+$+" `"+ie+"` is marked as required in `"+G+"`, but its value is `undefined`."):null:j(ee,k,G,$,ie)}var Y=F.bind(null,!1);return Y.isRequired=F.bind(null,!0),Y}function P(j){return M(function(oe,le,F,Y,H,ee){var k=oe[le];return L(k)!==j?new C("Invalid "+Y+" `"+H+"` of type `"+O(k)+"` supplied to `"+F+"`, expected `"+j+"`."):null})}function D(j){switch(typeof j){case"number":case"string":case"undefined":return!0;case"boolean":return!j;case"object":if(Array.isArray(j))return j.every(D);if(j===null||g(j))return!0;var oe=function(H){var ee=H&&(_&&H[_]||H[x]);if(typeof ee=="function")return ee}(j);if(!oe)return!1;var le,F=oe.call(j);if(oe!==j.entries){for(;!(le=F.next()).done;)if(!D(le.value))return!1}else for(;!(le=F.next()).done;){var Y=le.value;if(Y&&!D(Y[1]))return!1}return!0;default:return!1}}function L(j){var oe=typeof j;return Array.isArray(j)?"array":j instanceof RegExp?"object":function(le,F){return le==="symbol"||!!F&&(F["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&F instanceof Symbol)}(oe,j)?"symbol":oe}function O(j){if(j==null)return""+j;var oe=L(j);if(oe==="object"){if(j instanceof Date)return"date";if(j instanceof RegExp)return"regexp"}return oe}function q(j){var oe=O(j);switch(oe){case"array":case"object":return"an "+oe;case"boolean":case"date":case"regexp":return"a "+oe;default:return oe}}return C.prototype=Error.prototype,b.checkPropTypes=u,b.resetWarningCache=u.resetWarningCache,b.PropTypes=b,b}},function(r,i,s){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function u(f){if(f==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(f)}r.exports=function(){try{if(!Object.assign)return!1;var f=new String("abc");if(f[5]="de",Object.getOwnPropertyNames(f)[0]==="5")return!1;for(var c={},h=0;h<10;h++)c["_"+String.fromCharCode(h)]=h;if(Object.getOwnPropertyNames(c).map(function(y){return c[y]}).join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(y){g[y]=y}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(f,c){for(var h,g,y=u(f),_=1;_<arguments.length;_++){for(var x in h=Object(arguments[_]))a.call(h,x)&&(y[x]=h[x]);if(o){g=o(h);for(var w=0;w<g.length;w++)l.call(h,g[w])&&(y[g[w]]=h[g[w]])}}return y}},function(r,i,s){var o=function(){},a=s(2),l={},u=Function.call.bind(Object.prototype.hasOwnProperty);function f(c,h,g,y,_){for(var x in c)if(u(c,x)){var w;try{if(typeof c[x]!="function"){var b=Error((y||"React class")+": "+g+" type `"+x+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof c[x]+"`.");throw b.name="Invariant Violation",b}w=c[x](h,x,y,g,null,a)}catch(C){w=C}if(!w||w instanceof Error||o((y||"React class")+": type specification of "+g+" `"+x+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof w+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),w instanceof Error&&!(w.message in l)){l[w.message]=!0;var E=_?_():"";o("Failed "+g+" type: "+w.message+(E!=null?E:""))}}}o=function(c){var h="Warning: "+c;typeof console<"u"&&console.error(h);try{throw new Error(h)}catch{}},f.resetWarningCache=function(){l={}},r.exports=f},function(r,i,s){var o=s(2);function a(){}function l(){}l.resetWarningCache=a,r.exports=function(){function u(h,g,y,_,x,w){if(w!==o){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}function f(){return u}u.isRequired=u;var c={array:u,bool:u,func:u,number:u,object:u,string:u,symbol:u,any:u,arrayOf:f,element:u,elementType:u,instanceOf:f,node:u,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:l,resetWarningCache:a};return c.PropTypes=c,c}}])})})(bQ);const yh=by(bQ.exports),SQ=({lines:t,numInitLines:e=1,onDoneInitLines:n,isLoading:r=!0})=>{const[i,s]=z.exports.useState(0),o=z.exports.useRef(null);return z.exports.useEffect(()=>{var a;(a=o.current)==null||a.scrollIntoView({behavior:"smooth"}),e<i&&(n==null||n())},[e,i,t]),Ke("div",{sx:{overflowY:"scroll",flex:1,scrollbarWidth:"none",position:"relative",maxHeight:"100%",msOverflowStyle:"none","&::-webkit-scrollbar":{width:0,height:0}},children:[t.map((a,l)=>i>=l&&Z("span",{children:Z("p",{sx:{fontSize:["12px","14px","16px"],margin:"2px 0",textTransform:"lowercase",pr:[0,"20px"]},children:Z(yh,{strings:[`${(l+1).toString().padStart(2,"0")} ${a}`],typeSpeed:10,onComplete:()=>{l===e+1&&(n==null||n()),s(l+1)},cursorChar:""})})},`${a} ${l}`)),Z("div",{ref:o,sx:{display:"block"}}),r&&Ke("span",{children:[".",Z(yh,{strings:[".."],typeSpeed:200,cursorChar:"",loop:!0})]})]})},pu=(t,e)=>`<span style='color:${e};'>${t}</span>`,YBe=(t,e)=>`<a href="${e}" target="_blank" >${t}</a>`,AQ=()=>{const[t,e]=z.exports.useState([]),[n,r]=z.exports.useState(!1),[i,s]=z.exports.useState(!1),[o,a]=z.exports.useState(100);return{pushLine:(l,u=!1)=>{u&&a(t.length),e(f=>[...f,l])},setLogLoading:s,isDoneInit:n,logProps:{isLoading:i,lines:t,numInitLines:o,onDoneInitLines:()=>{r(!0)}}}},As=({variant:t="primary",sx:e,...n})=>Z("button",{onClick:n.disabled?void 0:n.onClick,...n,sx:{backdropFilter:"blur(0px)",borderWidth:"1px",borderStyle:"solid",borderColor:"text",py:"4px",px:"12px",opacity:n.disabled?.5:1,cursor:n.disabled?"not-allowed":"pointer",...e},children:Z("div",{sx:{flex:1},children:n.children})}),ZBe=({options:t,value:e,onSelect:n})=>W(BD,{children:t.map(r=>W(As,{onClick:()=>{n(r.value)},children:r.label},r.value))}),eOe=({data:t,onClickPause:e,onClickRemove:n})=>Z(z.exports.Fragment,{children:t==null?void 0:t.data.map(r=>Ke("div",{sx:{display:"flex","&:hover":{bg:"gray.100"},overflow:"hidden"},children:[Z("p",{sx:{variant:"buttons.primary",display:"inline",bg:r.isEnabled?"green":"orange",height:"1rem",mr:"0.5rem",width:"1rem",textAlign:"center",p:0},children:r.isEnabled?">":"$"}),Z("p",{sx:{m:0,whiteSpace:"nowrap",overflow:"hidden",flex:1},children:"link"in r&&Ke(z.exports.Fragment,{children:[r.command," ","=>"," ",Z("a",{href:r.link,target:"_blank",children:r.link})]})}),Z("button",{sx:{ml:"4px",variant:"buttons.primary",display:"inline",bg:r.isEnabled?"orange":"green",height:"1rem",width:"1rem",p:0},onClick:()=>e(r),children:"P"}),Z("button",{sx:{variant:"buttons.primary",display:"inline",bg:"red",height:"1rem",width:"1rem",p:0},onClick:()=>n(r.command),children:"X"})]},r.command))}),tOe=({pushLine:t})=>{const[e,n]=z.exports.useState(""),[r,i]=z.exports.useState(""),{data:s,isLoading:o,error:a,refetch:l,isRefetching:u}=ca("links",async()=>await UBe({type:"link"}).catch(x=>console.error(x)));a&&console.error(a);const f=ih(GBe,{onSuccess:l}),c=ih(HBe,{onSuccess:l}),h=ih(NBe,{onSuccess:l}),g=[f,c,h],y=()=>{h.mutate({action:{__type:"link",command:r,link:e,isEnabled:!0}})},_=x=>{x.key==="Enter"&&y()};return Ke(z.exports.Fragment,{children:[Ke(bp,{sx:{height:"1.5rem"},children:[Z("p",{children:"Existing Link Actions:"}),Z("div",{sx:{flex:1}}),(o||u||g.map(x=>x.isLoading).includes(!0))&&Z("span",{children:Z(yh,{strings:["..."],typeSpeed:200,cursorChar:"",loop:!0})})]}),Ke("div",{sx:{maxHeight:"200px",minHeight:"100px",overflowY:"scroll",colorScheme:"dark",width:"100%"},children:[a?a==null?void 0:a.message:null,Z(eOe,{onClickRemove:x=>c.mutate({command:x}),onClickPause:x=>f.mutate({command:x.command,action:{...x,isEnabled:!x.isEnabled}}),data:s,pushLine:t,onNeedRefresh:()=>{l()}})]}),Z("div",{sx:{height:"gutter"}}),Z("p",{sx:{fontFamily:"body",p:0,m:0},children:"Add Link Action:"}),Z("input",{placeholder:">command",value:r,onInput:x=>i(x.target.value),onKeyDown:_}),Z("input",{value:e,placeholder:">link",onKeyDown:_,onInput:x=>n(x.target.value)})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s0=function(){return s0=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},s0.apply(this,arguments)},EQ=function(t){return{loading:t==null,value:t}},nOe=function(){return function(t,e){switch(e.type){case"error":return s0(s0({},t),{error:e.error,loading:!1,value:void 0});case"reset":return EQ(e.defaultValue);case"value":return s0(s0({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},rOe=function(t){var e=t?t():void 0,n=z.exports.useReducer(nOe(),EQ(e)),r=n[0],i=n[1],s=function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},o=function(l){i({type:"error",error:l})},a=function(l){i({type:"value",value:l})};return z.exports.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},iOe=function(t,e,n){var r=z.exports.useRef(t);return z.exports.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},sOe=function(t,e){var n=!t&&!e,r=!!t&&!!e&&X3e(t,e);return n||r},oOe=function(t,e){return iOe(t,sOe,e)},aOe=function(t,e){var n=rOe(),r=n.error,i=n.loading,s=n.reset,o=n.setError,a=n.setValue,l=n.value,u=oOe(t,s);z.exports.useEffect(function(){if(!u.current){a(void 0);return}var c=e!=null&&e.snapshotListenOptions?z8(u.current,e.snapshotListenOptions,a,o):z8(u.current,a,o);return function(){c()}},[u.current]);var f=[l,i,r];return z.exports.useMemo(function(){return f},f)};const TQ=({isAdmin:t=!1})=>{const[e,n,r]=aOe(lDe(J3e(FBe,"messages-0722"),cDe("createdAt","desc"),hDe(201))),[i,s]=z.exports.useState(void 0),[o,a]=z.exports.useState();z.exports.useState(""),z.exports.useState(t?"twoshell":"");const l=ih(t?VBe:$Be,{onSuccess:()=>{}}),u=z.exports.useRef(null),f=()=>{var c;(c=u.current)==null||c.scrollIntoView({behavior:"smooth"})};return z.exports.useEffect(()=>{!l.isLoading&&!n&&a([])},[l.isLoading,n]),z.exports.useEffect(()=>{s(e==null?void 0:e.docs.reverse().map(c=>c.data())),a([]),f()},[e]),z.exports.useEffect(()=>{setTimeout(function(){f()},1e3)},[]),z.exports.useEffect(()=>{f()},[o]),Z("p",{children:"come back later :|"})},lOe=()=>{var i;const t=ca("isactive",async()=>await xQ({uid:"twoshell"})),e=ih(WBe,{onSuccess:async()=>{await t.refetch()}}),n=ih(jBe,{onSuccess:async()=>{await t.refetch()}}),r=()=>{var s;!t.data||e.mutate({uid:"twoshell",user:{isActive:!((s=t.data)!=null&&s.data)}})};return Ke(z.exports.Fragment,{children:[Ke("div",{sx:{display:"flex",flexDirection:"column",backgroundColor:"text",color:"background",backgroundBlendMode:"darken",alignSelf:"flex-end"},children:[Ke("div",{children:[Ke("p",{children:["is Active: ",JSON.stringify((i=t.data)==null?void 0:i.data)]}),Z(As,{onClick:r,disabled:e.isLoading,children:"toggle active"})]}),Z(As,{onClick:()=>n.mutate(void 0),sx:{color:n.isSuccess?"green":void 0},children:n.isLoading?"Loading...":"update log.html"})]}),Z(TQ,{isAdmin:!0})]})},X8={"auth/user-not-found":"User not found","auth/wrong-password":"Incorrect password","auth/invalid-email":"Invalid username"},uOe=({pushLine:t,logIn:e,loading:n,error:r})=>(z.exports.useEffect(()=>{n&&t("loading")},[n,r]),z.exports.useEffect(()=>{r&&(t(pu(r.code in X8?X8[r.code]:"Error","red")),console.error(r))},[r]),Z("div",{children:Z(cOe,{logIn:(s,o)=>{e(s+"@shell.tech",o).catch(a=>{t("error"),t(pu(a.message,"red"))})}})})),cOe=({logIn:t})=>{const[e,n]=z.exports.useState(""),[r,i]=z.exports.useState(""),s=()=>{t(e,r)},o=a=>{a.key==="Enter"&&s()};return Ke("div",{children:[Z("input",{type:"text",value:e,onInput:a=>n(a.target.value),placeholder:">usrnm",onKeyDown:o}),Z("input",{type:"password",value:r,onInput:a=>i(a.target.value),placeholder:">pwd",onKeyDown:o})]})},fOe=()=>{const{data:t,isLoading:e}=ca(["storage-list"],async()=>{const n=[],r=vQ(_Q,"/user-uploads"),i=await IBe(r);return await Promise.all(i.items.map(async s=>{const o=await LBe(s),a=await RBe(s);n.push({ref:s,metadata:a,downloadUrl:o})})),n});return Ke("div",{sx:{maxHeight:"300px",maxWidth:"100%"},children:[e&&Ke("span",{children:[".",Z(yh,{strings:[".."],typeSpeed:200,cursorChar:"",loop:!0})]}),t&&Ke(z.exports.Fragment,{children:[Ke("p",{sx:{textAlign:"right"},children:["total: ",t==null?void 0:t.length]}),Z("div",{sx:{maxHeight:"300px",maxWidth:"100%",overflowY:"scroll"},children:t==null?void 0:t.sort((n,r)=>{const i=new Date(n.metadata.timeCreated).getTime();return new Date(r.metadata.timeCreated).getTime()-i}).map(n=>Z(hOe,{storageRef:n.ref,downloadUrl:n.downloadUrl,metadata:n.metadata},n.ref.name))})]})]})},hOe=({storageRef:t,metadata:e,downloadUrl:n})=>{var o;const[r,i]=z.exports.useState(!1),s={size:`${e.size} bytes`,created:(o=e.timeCreated)!=null?o:"",...e.customMetadata};return Ke("div",{sx:{maxWidth:["100%",null,"500px"],px:"4px"},children:[Ke("div",{sx:{display:"flex",gap:"12px",width:"100%"},children:[Z("p",{sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap"},children:t.name}),Z("p",{sx:{maxWidth:"100px",width:"100px",overflow:"hidden",whiteSpace:"nowrap"},children:e.contentType}),Z("a",{href:n,target:"_blank",children:"download"}),Z("div",{sx:{width:"32px"},children:e.customMetadata&&Z(As,{sx:{maxWidth:"32px",backgroundColor:r?"orange":"green"},onClick:()=>i(!r),children:r?"x":"v"})})]}),r&&Z("div",{sx:{backgroundColor:"background",px:"24px",pb:"24px",pt:"12px"},children:Object.keys(s).map(a=>Ke("div",{sx:{display:"flex"},children:[Ke("p",{sx:{maxW:"100px",width:"100px",display:"inline"},children:[a,":"," "]}),Z("p",{children:s[a]})]},a))})]})},dOe=()=>{var _;const{pushLine:t,isDoneInit:e,logProps:n}=AQ();z.exports.useEffect(()=>{t("Hello Admin",!0)},[]);const[r,i]=ku(),[s,o]=iIe(J8),[a,l,u,f]=sIe(J8),[c,h]=z.exports.useState();z.exports.useEffect(()=>{!l||t(pu("Logged in","green"))},[l]),z.exports.useEffect(()=>{i("light")},[]),z.exports.useEffect(()=>{var x;if(!o){if(!s&&!l){t("Enter login details",!0);return}t((x=s==null?void 0:s.email)!=null?x:"unknown",!0)}},[l,s]);const g=x=>{var w,b;(b=(w=document.activeElement)==null?void 0:w.className)!=null&&b.includes("input")||x.key==="Escape"&&h(void 0)};z.exports.useEffect(()=>(document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}),[]);const y=[{label:"actions",component:Z(tOe,{pushLine:t})},{label:"chat",component:Z(lOe,{})},{label:"storage",component:Z(fOe,{})}];return Ke(bp,{sx:{backgroundColor:"black",justifyContent:"center",alignItems:"center",height:"100vh"},children:[Z("div",{sx:{color:"text",w:"100%",h:"100vh",fontFamily:"monospace",p:"gutter",backgroundColor:"background",maxWidth:["100%","300px"],position:"absolute",left:0,top:0},children:Z(SQ,{...n})}),Ke("div",{sx:{maxWidth:"100%",padding:"gutter",opacity:e?1:0,transition:"opacity 0.5s"},children:[!s&&!l&&!o&&!u&&Z(uOe,{pushLine:t,logIn:a,loading:o,error:f}),s&&Z(bp,{sx:{flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:c?(_=y.find(({label:x})=>x===c))==null?void 0:_.component:Z(ZBe,{options:y.map(({label:x})=>({label:x,value:x})),value:c,onSelect:h})})]})]})},pOe=()=>W(dOe,{});/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const iM="140",mOe={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},gOe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CQ=0,r3=1,MQ=2,yOe=3,vOe=0,Mk=1,Rk=2,o0=3,vh=0,aa=1,_h=2,Ik=1,_Oe=2,Sc=0,gp=1,i3=2,s3=3,o3=4,RQ=5,Yd=100,IQ=101,LQ=102,a3=103,l3=104,PQ=200,DQ=201,BQ=202,OQ=203,Lk=204,Pk=205,kQ=206,FQ=207,NQ=208,UQ=209,HQ=210,GQ=0,zQ=1,$Q=2,_T=3,VQ=4,WQ=5,jQ=6,qQ=7,mw=0,KQ=1,QQ=2,El=0,JQ=1,XQ=2,YQ=3,Dk=4,ZQ=5,sM=300,xh=301,wh=302,fx=303,hx=304,Xy=306,Pc=1e3,bs=1001,K0=1002,qr=1003,dx=1004,xOe=1004,px=1005,wOe=1005,Ar=1006,oM=1007,bOe=1007,Hc=1008,SOe=1008,bh=1009,eJ=1010,tJ=1011,Q0=1012,nJ=1013,d_=1014,wc=1015,J0=1016,rJ=1017,iJ=1018,yp=1020,sJ=1021,oJ=1022,ta=1023,aJ=1024,lJ=1025,sh=1026,Np=1027,uJ=1028,cJ=1029,fJ=1030,hJ=1031,dJ=1033,jA=33776,qA=33777,KA=33778,QA=33779,u3=35840,c3=35841,f3=35842,h3=35843,pJ=36196,d3=37492,p3=37496,m3=37808,g3=37809,y3=37810,v3=37811,_3=37812,x3=37813,w3=37814,b3=37815,S3=37816,A3=37817,E3=37818,T3=37819,C3=37820,M3=37821,R3=36492,mJ=2200,gJ=2201,yJ=2202,X0=2300,Up=2301,JA=2302,ap=2400,lp=2401,mx=2402,aM=2500,Bk=2501,vJ=0,_J=1,Ok=2,Mu=3e3,Ln=3001,xJ=3200,wJ=3201,kh=0,bJ=1,AOe="",ou="srgb",Qf="srgb-linear",EOe=0,XA=7680,TOe=7681,COe=7682,MOe=7683,ROe=34055,IOe=34056,LOe=5386,POe=512,DOe=513,BOe=514,OOe=515,kOe=516,FOe=517,NOe=518,SJ=519,Y0=35044,Z0=35048,UOe=35040,HOe=35045,GOe=35049,zOe=35041,$Oe=35046,VOe=35050,WOe=35042,jOe="100",I3="300 es",xT=1035;class Fh{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const qi=[];for(let t=0;t<256;t++)qi[t]=(t<16?"0":"")+t.toString(16);let Y8=1234567;const vp=Math.PI/180,gx=180/Math.PI;function la(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(qi[t&255]+qi[t>>8&255]+qi[t>>16&255]+qi[t>>24&255]+"-"+qi[e&255]+qi[e>>8&255]+"-"+qi[e>>16&15|64]+qi[e>>24&255]+"-"+qi[n&63|128]+qi[n>>8&255]+"-"+qi[n>>16&255]+qi[n>>24&255]+qi[r&255]+qi[r>>8&255]+qi[r>>16&255]+qi[r>>24&255]).toLowerCase()}function Kr(t,e,n){return Math.max(e,Math.min(n,t))}function kk(t,e){return(t%e+e)%e}function qOe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function KOe(t,e,n){return t!==e?(n-t)/(e-t):0}function p_(t,e,n){return(1-n)*t+n*e}function QOe(t,e,n,r){return p_(t,e,1-Math.exp(-n*r))}function JOe(t,e=1){return e-Math.abs(kk(t,e*2)-e)}function XOe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function YOe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function ZOe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function eke(t,e){return t+Math.random()*(e-t)}function tke(t){return t*(.5-Math.random())}function nke(t){t!==void 0&&(Y8=t);let e=Y8+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function rke(t){return t*vp}function ike(t){return t*gx}function L3(t){return(t&t-1)===0&&t!==0}function AJ(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function wT(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function ske(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),f=o((e+r)/2),c=s((e-r)/2),h=o((e-r)/2),g=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(a*f,l*c,l*h,a*u);break;case"YZY":t.set(l*h,a*f,l*c,a*u);break;case"ZXZ":t.set(l*c,l*h,a*f,a*u);break;case"XZX":t.set(a*f,l*y,l*g,a*u);break;case"YXY":t.set(l*g,a*f,l*y,a*u);break;case"ZYZ":t.set(l*y,l*g,a*f,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function oke(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ake(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}var P3=Object.freeze({__proto__:null,DEG2RAD:vp,RAD2DEG:gx,generateUUID:la,clamp:Kr,euclideanModulo:kk,mapLinear:qOe,inverseLerp:KOe,lerp:p_,damp:QOe,pingpong:JOe,smoothstep:XOe,smootherstep:YOe,randInt:ZOe,randFloat:eke,randFloatSpread:tke,seededRandom:nke,degToRad:rke,radToDeg:ike,isPowerOfTwo:L3,ceilPowerOfTwo:AJ,floorPowerOfTwo:wT,setQuaternionFromProperEuler:ske,normalize:ake,denormalize:oke});class Ne{constructor(e=0,n=0){this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Ne.prototype.isVector2=!0;class xi{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,s,o,a,l,u){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=n,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],f=r[4],c=r[7],h=r[2],g=r[5],y=r[8],_=i[0],x=i[3],w=i[6],b=i[1],E=i[4],C=i[7],M=i[2],P=i[5],D=i[8];return s[0]=o*_+a*b+l*M,s[3]=o*x+a*E+l*P,s[6]=o*w+a*C+l*D,s[1]=u*_+f*b+c*M,s[4]=u*x+f*E+c*P,s[7]=u*w+f*C+c*D,s[2]=h*_+g*b+y*M,s[5]=h*x+g*E+y*P,s[8]=h*w+g*C+y*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8];return n*o*f-n*a*u-r*s*f+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],c=f*o-a*u,h=a*l-f*s,g=u*s-o*l,y=n*c+r*h+i*g;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=c*_,e[1]=(i*u-f*r)*_,e[2]=(a*r-i*o)*_,e[3]=h*_,e[4]=(f*n-i*l)*_,e[5]=(i*s-a*n)*_,e[6]=g*_,e[7]=(r*l-u*n)*_,e[8]=(o*n-r*s)*_,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=n,r[4]*=n,r[7]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],u=i[4],f=i[7];return i[0]=n*s+r*l,i[3]=n*o+r*u,i[6]=n*a+r*f,i[1]=-r*s+n*l,i[4]=-r*o+n*u,i[7]=-r*a+n*f,this}translate(e,n){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=n*r[2],r[4]+=n*r[5],r[7]+=n*r[8],this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}xi.prototype.isMatrix3=!0;function EJ(t){for(let e=t.length-1;e>=0;--e)if(t[e]>65535)return!0;return!1}const lke={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function a0(t,e){return new lke[t](e)}function yx(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function _p(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function YA(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const HR={[ou]:{[Qf]:_p},[Qf]:{[ou]:YA}},$s={legacyMode:!0,get workingColorSpace(){return Qf},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(HR[e]&&HR[e][n]!==void 0){const r=HR[e][n];return t.r=r(t.r),t.g=r(t.g),t.b=r(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},TJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},mi={r:0,g:0,b:0},sl={h:0,s:0,l:0},yS={h:0,s:0,l:0};function GR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function vS(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class qe{constructor(e,n,r){return n===void 0&&r===void 0?this.set(e):this.setRGB(e,n,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ou){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,$s.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Qf){return this.r=e,this.g=n,this.b=r,$s.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Qf){if(e=kk(e,1),n=Kr(n,0,1),r=Kr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=GR(o,s,e+1/3),this.g=GR(o,s,e),this.b=GR(o,s,e-1/3)}return $s.toWorkingColorSpace(this,i),this}setStyle(e,n=ou){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,$s.toWorkingColorSpace(this,n),r(s[4]),this;if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,$s.toWorkingColorSpace(this,n),r(s[4]),this;break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(s[1])/360,u=parseInt(s[2],10)/100,f=parseInt(s[3],10)/100;return r(s[4]),this.setHSL(l,u,f,n)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,$s.toWorkingColorSpace(this,n),this;if(o===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,$s.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=ou){const r=TJ[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=_p(e.r),this.g=_p(e.g),this.b=_p(e.b),this}copyLinearToSRGB(e){return this.r=YA(e.r),this.g=YA(e.g),this.b=YA(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ou){return $s.fromWorkingColorSpace(vS(this,mi),e),Kr(mi.r*255,0,255)<<16^Kr(mi.g*255,0,255)<<8^Kr(mi.b*255,0,255)<<0}getHexString(e=ou){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Qf){$s.fromWorkingColorSpace(vS(this,mi),n);const r=mi.r,i=mi.g,s=mi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const f=(a+o)/2;if(a===o)l=0,u=0;else{const c=o-a;switch(u=f<=.5?c/(o+a):c/(2-o-a),o){case r:l=(i-s)/c+(i<s?6:0);break;case i:l=(s-r)/c+2;break;case s:l=(r-i)/c+4;break}l/=6}return e.h=l,e.s=u,e.l=f,e}getRGB(e,n=Qf){return $s.fromWorkingColorSpace(vS(this,mi),n),e.r=mi.r,e.g=mi.g,e.b=mi.b,e}getStyle(e=ou){return $s.fromWorkingColorSpace(vS(this,mi),e),e!==ou?`color(${e} ${mi.r} ${mi.g} ${mi.b})`:`rgb(${mi.r*255|0},${mi.g*255|0},${mi.b*255|0})`}offsetHSL(e,n,r){return this.getHSL(sl),sl.h+=e,sl.s+=n,sl.l+=r,this.setHSL(sl.h,sl.s,sl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(sl),e.getHSL(yS);const r=p_(sl.h,yS.h,n),i=p_(sl.s,yS.s,n),s=p_(sl.l,yS.l,n);return this.setHSL(r,i,s),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}qe.NAMES=TJ;qe.prototype.isColor=!0;qe.prototype.r=1;qe.prototype.g=1;qe.prototype.b=1;let tg;class Nh{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{tg===void 0&&(tg=yx("canvas")),tg.width=e.width,tg.height=e.height;const r=tg.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=tg}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=yx("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=_p(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(_p(n[r]/255)*255):n[r]=_p(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class up{constructor(e=null){this.uuid=la(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(zR(i[o].image)):s.push(zR(i[o]))}else s=zR(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function zR(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Nh.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}up.prototype.isSource=!0;let uke=0;class Mr extends Fh{constructor(e=Mr.DEFAULT_IMAGE,n=Mr.DEFAULT_MAPPING,r=bs,i=bs,s=Ar,o=Hc,a=ta,l=bh,u=1,f=Mu){super(),Object.defineProperty(this,"id",{value:uke++}),this.uuid=la(),this.name="",this.source=new up(e),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ne(0,0),this.repeat=new Ne(1,1),this.center=new Ne(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=f,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==sM)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Pc:e.x=e.x-Math.floor(e.x);break;case bs:e.x=e.x<0?0:1;break;case K0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Pc:e.y=e.y-Math.floor(e.y);break;case bs:e.y=e.y<0?0:1;break;case K0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Mr.DEFAULT_IMAGE=null;Mr.DEFAULT_MAPPING=sM;Mr.prototype.isTexture=!0;class zn{constructor(e=0,n=0,r=0,i=1){this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],f=l[4],c=l[8],h=l[1],g=l[5],y=l[9],_=l[2],x=l[6],w=l[10];if(Math.abs(f-h)<.01&&Math.abs(c-_)<.01&&Math.abs(y-x)<.01){if(Math.abs(f+h)<.1&&Math.abs(c+_)<.1&&Math.abs(y+x)<.1&&Math.abs(u+g+w-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const E=(u+1)/2,C=(g+1)/2,M=(w+1)/2,P=(f+h)/4,D=(c+_)/4,L=(y+x)/4;return E>C&&E>M?E<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(E),i=P/r,s=D/r):C>M?C<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(C),r=P/i,s=L/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=D/s,i=L/s),this.set(r,i,s,n),this}let b=Math.sqrt((x-y)*(x-y)+(c-_)*(c-_)+(h-f)*(h-f));return Math.abs(b)<.001&&(b=1),this.x=(x-y)/b,this.y=(c-_)/b,this.z=(h-f)/b,this.w=Math.acos((u+g+w-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}zn.prototype.isVector4=!0;class Xs extends Fh{constructor(e,n,r={}){super(),this.width=e,this.height=n,this.depth=1,this.scissor=new zn(0,0,e,n),this.scissorTest=!1,this.viewport=new zn(0,0,e,n);const i={width:e,height:n,depth:1};this.texture=new Mr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Ar,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Xs.prototype.isWebGLRenderTarget=!0;class Yy extends Mr{constructor(e=null,n=1,r=1,i=1){super(null),this.image={data:e,width:n,height:r,depth:i},this.magFilter=qr,this.minFilter=qr,this.wrapR=bs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Yy.prototype.isDataArrayTexture=!0;class CJ extends Xs{constructor(e,n,r){super(e,n),this.depth=r,this.texture=new Yy(null,e,n,r),this.texture.isRenderTargetTexture=!0}}CJ.prototype.isWebGLArrayRenderTarget=!0;class gw extends Mr{constructor(e=null,n=1,r=1,i=1){super(null),this.image={data:e,width:n,height:r,depth:i},this.magFilter=qr,this.minFilter=qr,this.wrapR=bs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}gw.prototype.isData3DTexture=!0;class MJ extends Xs{constructor(e,n,r){super(e,n),this.depth=r,this.texture=new gw(null,e,n,r),this.texture.isRenderTargetTexture=!0}}MJ.prototype.isWebGL3DRenderTarget=!0;class RJ extends Xs{constructor(e,n,r,i={}){super(e,n,i);const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}RJ.prototype.isWebGLMultipleRenderTargets=!0;class yr{constructor(e=0,n=0,r=0,i=1){this._x=e,this._y=n,this._z=r,this._w=i}static slerp(e,n,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,n,i)}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],f=r[i+2],c=r[i+3];const h=s[o+0],g=s[o+1],y=s[o+2],_=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=f,e[n+3]=c;return}if(a===1){e[n+0]=h,e[n+1]=g,e[n+2]=y,e[n+3]=_;return}if(c!==_||l!==h||u!==g||f!==y){let x=1-a;const w=l*h+u*g+f*y+c*_,b=w>=0?1:-1,E=1-w*w;if(E>Number.EPSILON){const M=Math.sqrt(E),P=Math.atan2(M,w*b);x=Math.sin(x*P)/M,a=Math.sin(a*P)/M}const C=a*b;if(l=l*x+h*C,u=u*x+g*C,f=f*x+y*C,c=c*x+_*C,x===1-a){const M=1/Math.sqrt(l*l+u*u+f*f+c*c);l*=M,u*=M,f*=M,c*=M}}e[n]=l,e[n+1]=u,e[n+2]=f,e[n+3]=c}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],f=r[i+3],c=s[o],h=s[o+1],g=s[o+2],y=s[o+3];return e[n]=a*y+f*c+l*g-u*h,e[n+1]=l*y+f*h+u*c-a*g,e[n+2]=u*y+f*g+a*h-l*c,e[n+3]=f*y-a*c-l*h-u*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),f=a(i/2),c=a(s/2),h=l(r/2),g=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=h*f*c+u*g*y,this._y=u*g*c-h*f*y,this._z=u*f*y+h*g*c,this._w=u*f*c-h*g*y;break;case"YXZ":this._x=h*f*c+u*g*y,this._y=u*g*c-h*f*y,this._z=u*f*y-h*g*c,this._w=u*f*c+h*g*y;break;case"ZXY":this._x=h*f*c-u*g*y,this._y=u*g*c+h*f*y,this._z=u*f*y+h*g*c,this._w=u*f*c-h*g*y;break;case"ZYX":this._x=h*f*c-u*g*y,this._y=u*g*c+h*f*y,this._z=u*f*y-h*g*c,this._w=u*f*c+h*g*y;break;case"YZX":this._x=h*f*c+u*g*y,this._y=u*g*c+h*f*y,this._z=u*f*y-h*g*c,this._w=u*f*c-h*g*y;break;case"XZY":this._x=h*f*c-u*g*y,this._y=u*g*c-h*f*y,this._z=u*f*y+h*g*c,this._w=u*f*c+h*g*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],f=n[6],c=n[10],h=r+a+c;if(h>0){const g=.5/Math.sqrt(h+1);this._w=.25/g,this._x=(f-l)*g,this._y=(s-u)*g,this._z=(o-i)*g}else if(r>a&&r>c){const g=2*Math.sqrt(1+r-a-c);this._w=(f-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+u)/g}else if(a>c){const g=2*Math.sqrt(1+a-r-c);this._w=(s-u)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+f)/g}else{const g=2*Math.sqrt(1+c-r-a);this._w=(o-i)/g,this._x=(s+u)/g,this._y=(l+f)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Kr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,n){return n!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,n)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,f=n._w;return this._x=r*f+o*a+i*u-s*l,this._y=i*f+o*l+s*a-r*u,this._z=s*f+o*u+r*l-i*a,this._w=o*f-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-n;return this._w=g*o+n*this._w,this._x=g*r+n*this._x,this._y=g*i+n*this._y,this._z=g*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),f=Math.atan2(u,a),c=Math.sin((1-n)*f)/u,h=Math.sin(n*f)/u;return this._w=o*c+this._w*h,this._x=r*c+this._x*h,this._y=i*c+this._y*h,this._z=s*c+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}yr.prototype.isQuaternion=!0;class Q{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,n){return n!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,n)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e,n){return n!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,n)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,n)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Z8.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Z8.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,f=l*r+a*n-s*i,c=l*i+s*r-o*n,h=-s*n-o*r-a*i;return this.x=u*l+h*-s+f*-a-c*-o,this.y=f*l+h*-o+c*-s-u*-a,this.z=c*l+h*-a+u*-o-f*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e,n){return n!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,n)):this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return $R.copy(this).projectOnVector(e),this.sub($R)}reflect(e){return this.sub($R.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Kr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n,r){return r!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Q.prototype.isVector3=!0;const $R=new Q,Z8=new yr;class Do{constructor(e=new Q(1/0,1/0,1/0),n=new Q(-1/0,-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const f=e[l],c=e[l+1],h=e[l+2];f<n&&(n=f),c<r&&(r=c),h<i&&(i=h),f>s&&(s=f),c>o&&(o=c),h>a&&(a=h)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromBufferAttribute(e){let n=1/0,r=1/0,i=1/0,s=-1/0,o=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const f=e.getX(l),c=e.getY(l),h=e.getZ(l);f<n&&(n=f),c<r&&(r=c),h<i&&(i=h),f>s&&(s=f),c>o&&(o=c),h>a&&(a=h)}return this.min.set(n,r,i),this.max.set(s,o,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ld.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(n&&r.attributes!=null&&r.attributes.position!==void 0){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)Ld.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ld)}else r.boundingBox===null&&r.computeBoundingBox(),VR.copy(r.boundingBox),VR.applyMatrix4(e.matrixWorld),this.union(VR);const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ld),Ld.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(w1),_S.subVectors(this.max,w1),ng.subVectors(e.a,w1),rg.subVectors(e.b,w1),ig.subVectors(e.c,w1),Sf.subVectors(rg,ng),Af.subVectors(ig,rg),Pd.subVectors(ng,ig);let n=[0,-Sf.z,Sf.y,0,-Af.z,Af.y,0,-Pd.z,Pd.y,Sf.z,0,-Sf.x,Af.z,0,-Af.x,Pd.z,0,-Pd.x,-Sf.y,Sf.x,0,-Af.y,Af.x,0,-Pd.y,Pd.x,0];return!WR(n,ng,rg,ig,_S)||(n=[1,0,0,0,1,0,0,0,1],!WR(n,ng,rg,ig,_S))?!1:(xS.crossVectors(Sf,Af),n=[xS.x,xS.y,xS.z],WR(n,ng,rg,ig,_S))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ld.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ld).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(nc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),nc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),nc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),nc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),nc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),nc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),nc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),nc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(nc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Do.prototype.isBox3=!0;const nc=[new Q,new Q,new Q,new Q,new Q,new Q,new Q,new Q],Ld=new Q,VR=new Do,ng=new Q,rg=new Q,ig=new Q,Sf=new Q,Af=new Q,Pd=new Q,w1=new Q,_S=new Q,xS=new Q,Dd=new Q;function WR(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Dd.fromArray(t,s);const a=i.x*Math.abs(Dd.x)+i.y*Math.abs(Dd.y)+i.z*Math.abs(Dd.z),l=e.dot(Dd),u=n.dot(Dd),f=r.dot(Dd);if(Math.max(-Math.max(l,u,f),Math.min(l,u,f))>a)return!1}return!0}const cke=new Do,eH=new Q,wS=new Q,jR=new Q;class Gc{constructor(e=new Q,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):cke.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){jR.subVectors(e,this.center);const n=jR.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.add(jR.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?wS.set(0,0,1).multiplyScalar(e.radius):wS.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(eH.copy(e.center).add(wS)),this.expandByPoint(eH.copy(e.center).sub(wS)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const rc=new Q,qR=new Q,bS=new Q,Ef=new Q,KR=new Q,SS=new Q,QR=new Q;class Uh{constructor(e=new Q,n=new Q(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,rc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=rc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(rc.copy(this.direction).multiplyScalar(n).add(this.origin),rc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){qR.copy(e).add(n).multiplyScalar(.5),bS.copy(n).sub(e).normalize(),Ef.copy(this.origin).sub(qR);const s=e.distanceTo(n)*.5,o=-this.direction.dot(bS),a=Ef.dot(this.direction),l=-Ef.dot(bS),u=Ef.lengthSq(),f=Math.abs(1-o*o);let c,h,g,y;if(f>0)if(c=o*l-a,h=o*a-l,y=s*f,c>=0)if(h>=-y)if(h<=y){const _=1/f;c*=_,h*=_,g=c*(c+o*h+2*a)+h*(o*c+h+2*l)+u}else h=s,c=Math.max(0,-(o*h+a)),g=-c*c+h*(h+2*l)+u;else h=-s,c=Math.max(0,-(o*h+a)),g=-c*c+h*(h+2*l)+u;else h<=-y?(c=Math.max(0,-(-o*s+a)),h=c>0?-s:Math.min(Math.max(-s,-l),s),g=-c*c+h*(h+2*l)+u):h<=y?(c=0,h=Math.min(Math.max(-s,-l),s),g=h*(h+2*l)+u):(c=Math.max(0,-(o*s+a)),h=c>0?s:Math.min(Math.max(-s,-l),s),g=-c*c+h*(h+2*l)+u);else h=o>0?-s:s,c=Math.max(0,-(o*h+a)),g=-c*c+h*(h+2*l)+u;return r&&r.copy(this.direction).multiplyScalar(c).add(this.origin),i&&i.copy(bS).multiplyScalar(h).add(qR),g}intersectSphere(e,n){rc.subVectors(e.center,this.origin);const r=rc.dot(this.direction),i=rc.dot(rc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,f=1/this.direction.y,c=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),f>=0?(s=(e.min.y-h.y)*f,o=(e.max.y-h.y)*f):(s=(e.max.y-h.y)*f,o=(e.min.y-h.y)*f),r>o||s>i||((s>r||r!==r)&&(r=s),(o<i||i!==i)&&(i=o),c>=0?(a=(e.min.z-h.z)*c,l=(e.max.z-h.z)*c):(a=(e.max.z-h.z)*c,l=(e.min.z-h.z)*c),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,rc)!==null}intersectTriangle(e,n,r,i,s){KR.subVectors(n,e),SS.subVectors(r,e),QR.crossVectors(KR,SS);let o=this.direction.dot(QR),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ef.subVectors(this.origin,e);const l=a*this.direction.dot(SS.crossVectors(Ef,SS));if(l<0)return null;const u=a*this.direction.dot(KR.cross(Ef));if(u<0||l+u>o)return null;const f=-a*Ef.dot(QR);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class vt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,n,r,i,s,o,a,l,u,f,c,h,g,y,_,x){const w=this.elements;return w[0]=e,w[4]=n,w[8]=r,w[12]=i,w[1]=s,w[5]=o,w[9]=a,w[13]=l,w[2]=u,w[6]=f,w[10]=c,w[14]=h,w[3]=g,w[7]=y,w[11]=_,w[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new vt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/sg.setFromMatrixColumn(e,0).length(),s=1/sg.setFromMatrixColumn(e,1).length(),o=1/sg.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),f=Math.cos(s),c=Math.sin(s);if(e.order==="XYZ"){const h=o*f,g=o*c,y=a*f,_=a*c;n[0]=l*f,n[4]=-l*c,n[8]=u,n[1]=g+y*u,n[5]=h-_*u,n[9]=-a*l,n[2]=_-h*u,n[6]=y+g*u,n[10]=o*l}else if(e.order==="YXZ"){const h=l*f,g=l*c,y=u*f,_=u*c;n[0]=h+_*a,n[4]=y*a-g,n[8]=o*u,n[1]=o*c,n[5]=o*f,n[9]=-a,n[2]=g*a-y,n[6]=_+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*f,g=l*c,y=u*f,_=u*c;n[0]=h-_*a,n[4]=-o*c,n[8]=y+g*a,n[1]=g+y*a,n[5]=o*f,n[9]=_-h*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*f,g=o*c,y=a*f,_=a*c;n[0]=l*f,n[4]=y*u-g,n[8]=h*u+_,n[1]=l*c,n[5]=_*u+h,n[9]=g*u-y,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,g=o*u,y=a*l,_=a*u;n[0]=l*f,n[4]=_-h*c,n[8]=y*c+g,n[1]=c,n[5]=o*f,n[9]=-a*f,n[2]=-u*f,n[6]=g*c+y,n[10]=h-_*c}else if(e.order==="XZY"){const h=o*l,g=o*u,y=a*l,_=a*u;n[0]=l*f,n[4]=-c,n[8]=u*f,n[1]=h*c+_,n[5]=o*f,n[9]=g*c-y,n[2]=y*c-g,n[6]=a*f,n[10]=_*c+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fke,e,hke)}lookAt(e,n,r){const i=this.elements;return Jo.subVectors(e,n),Jo.lengthSq()===0&&(Jo.z=1),Jo.normalize(),Tf.crossVectors(r,Jo),Tf.lengthSq()===0&&(Math.abs(r.z)===1?Jo.x+=1e-4:Jo.z+=1e-4,Jo.normalize(),Tf.crossVectors(r,Jo)),Tf.normalize(),AS.crossVectors(Jo,Tf),i[0]=Tf.x,i[4]=AS.x,i[8]=Jo.x,i[1]=Tf.y,i[5]=AS.y,i[9]=Jo.y,i[2]=Tf.z,i[6]=AS.z,i[10]=Jo.z,this}multiply(e,n){return n!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,n)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],f=r[1],c=r[5],h=r[9],g=r[13],y=r[2],_=r[6],x=r[10],w=r[14],b=r[3],E=r[7],C=r[11],M=r[15],P=i[0],D=i[4],L=i[8],O=i[12],q=i[1],j=i[5],oe=i[9],le=i[13],F=i[2],Y=i[6],H=i[10],ee=i[14],k=i[3],G=i[7],$=i[11],ie=i[15];return s[0]=o*P+a*q+l*F+u*k,s[4]=o*D+a*j+l*Y+u*G,s[8]=o*L+a*oe+l*H+u*$,s[12]=o*O+a*le+l*ee+u*ie,s[1]=f*P+c*q+h*F+g*k,s[5]=f*D+c*j+h*Y+g*G,s[9]=f*L+c*oe+h*H+g*$,s[13]=f*O+c*le+h*ee+g*ie,s[2]=y*P+_*q+x*F+w*k,s[6]=y*D+_*j+x*Y+w*G,s[10]=y*L+_*oe+x*H+w*$,s[14]=y*O+_*le+x*ee+w*ie,s[3]=b*P+E*q+C*F+M*k,s[7]=b*D+E*j+C*Y+M*G,s[11]=b*L+E*oe+C*H+M*$,s[15]=b*O+E*le+C*ee+M*ie,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],f=e[2],c=e[6],h=e[10],g=e[14],y=e[3],_=e[7],x=e[11],w=e[15];return y*(+s*l*c-i*u*c-s*a*h+r*u*h+i*a*g-r*l*g)+_*(+n*l*g-n*u*h+s*o*h-i*o*g+i*u*f-s*l*f)+x*(+n*u*c-n*a*g-s*o*c+r*o*g+s*a*f-r*u*f)+w*(-i*a*f-n*l*c+n*a*h+i*o*c-r*o*h+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],f=e[8],c=e[9],h=e[10],g=e[11],y=e[12],_=e[13],x=e[14],w=e[15],b=c*x*u-_*h*u+_*l*g-a*x*g-c*l*w+a*h*w,E=y*h*u-f*x*u-y*l*g+o*x*g+f*l*w-o*h*w,C=f*_*u-y*c*u+y*a*g-o*_*g-f*a*w+o*c*w,M=y*c*l-f*_*l-y*a*h+o*_*h+f*a*x-o*c*x,P=n*b+r*E+i*C+s*M;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/P;return e[0]=b*D,e[1]=(_*h*s-c*x*s-_*i*g+r*x*g+c*i*w-r*h*w)*D,e[2]=(a*x*s-_*l*s+_*i*u-r*x*u-a*i*w+r*l*w)*D,e[3]=(c*l*s-a*h*s-c*i*u+r*h*u+a*i*g-r*l*g)*D,e[4]=E*D,e[5]=(f*x*s-y*h*s+y*i*g-n*x*g-f*i*w+n*h*w)*D,e[6]=(y*l*s-o*x*s-y*i*u+n*x*u+o*i*w-n*l*w)*D,e[7]=(o*h*s-f*l*s+f*i*u-n*h*u-o*i*g+n*l*g)*D,e[8]=C*D,e[9]=(y*c*s-f*_*s-y*r*g+n*_*g+f*r*w-n*c*w)*D,e[10]=(o*_*s-y*a*s+y*r*u-n*_*u-o*r*w+n*a*w)*D,e[11]=(f*a*s-o*c*s-f*r*u+n*c*u+o*r*g-n*a*g)*D,e[12]=M*D,e[13]=(f*_*i-y*c*i+y*r*h-n*_*h-f*r*x+n*c*x)*D,e[14]=(y*a*i-o*_*i-y*r*l+n*_*l+o*r*x-n*a*x)*D,e[15]=(o*c*i-f*a*i+f*r*l-n*c*l-o*r*h+n*a*h)*D,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,f=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,f*a+r,f*l-i*o,0,u*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,f=o+o,c=a+a,h=s*u,g=s*f,y=s*c,_=o*f,x=o*c,w=a*c,b=l*u,E=l*f,C=l*c,M=r.x,P=r.y,D=r.z;return i[0]=(1-(_+w))*M,i[1]=(g+C)*M,i[2]=(y-E)*M,i[3]=0,i[4]=(g-C)*P,i[5]=(1-(h+w))*P,i[6]=(x+b)*P,i[7]=0,i[8]=(y+E)*D,i[9]=(x-b)*D,i[10]=(1-(h+_))*D,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=sg.set(i[0],i[1],i[2]).length();const o=sg.set(i[4],i[5],i[6]).length(),a=sg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ol.copy(this);const u=1/s,f=1/o,c=1/a;return ol.elements[0]*=u,ol.elements[1]*=u,ol.elements[2]*=u,ol.elements[4]*=f,ol.elements[5]*=f,ol.elements[6]*=f,ol.elements[8]*=c,ol.elements[9]*=c,ol.elements[10]*=c,n.setFromRotationMatrix(ol),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,l=2*s/(n-e),u=2*s/(r-i),f=(n+e)/(n-e),c=(r+i)/(r-i),h=-(o+s)/(o-s),g=-2*o*s/(o-s);return a[0]=l,a[4]=0,a[8]=f,a[12]=0,a[1]=0,a[5]=u,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=g,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,r,i,s,o){const a=this.elements,l=1/(n-e),u=1/(r-i),f=1/(o-s),c=(n+e)*l,h=(r+i)*u,g=(o+s)*f;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*f,a[14]=-g,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}vt.prototype.isMatrix4=!0;const sg=new Q,ol=new vt,fke=new Q(0,0,0),hke=new Q(1,1,1),Tf=new Q,AS=new Q,Jo=new Q,tH=new vt,nH=new yr;class Nu{constructor(e=0,n=0,r=0,i=Nu.DefaultOrder){this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],f=i[9],c=i[2],h=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(Kr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Kr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-c,s),this._z=0);break;case"ZXY":this._x=Math.asin(Kr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,g),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Kr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Kr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,u),this._y=Math.atan2(-c,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Kr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return tH.makeRotationFromQuaternion(e),this.setFromRotationMatrix(tH,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return nH.setFromEuler(this),this.setFromQuaternion(nH,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Nu.prototype.isEuler=!0;Nu.DefaultOrder="XYZ";Nu.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class xp{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let dke=0;const rH=new Q,og=new yr,ic=new vt,ES=new Q,b1=new Q,pke=new Q,mke=new yr,iH=new Q(1,0,0),sH=new Q(0,1,0),oH=new Q(0,0,1),gke={type:"added"},aH={type:"removed"};class mn extends Fh{constructor(){super(),Object.defineProperty(this,"id",{value:dke++}),this.uuid=la(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mn.DefaultUp.clone();const e=new Q,n=new Nu,r=new yr,i=new Q(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new vt},normalMatrix:{value:new xi}}),this.matrix=new vt,this.matrixWorld=new vt,this.matrixAutoUpdate=mn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new xp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return og.setFromAxisAngle(e,n),this.quaternion.multiply(og),this}rotateOnWorldAxis(e,n){return og.setFromAxisAngle(e,n),this.quaternion.premultiply(og),this}rotateX(e){return this.rotateOnAxis(iH,e)}rotateY(e){return this.rotateOnAxis(sH,e)}rotateZ(e){return this.rotateOnAxis(oH,e)}translateOnAxis(e,n){return rH.copy(e).applyQuaternion(this.quaternion),this.position.add(rH.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(iH,e)}translateY(e){return this.translateOnAxis(sH,e)}translateZ(e){return this.translateOnAxis(oH,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(ic.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ES.copy(e):ES.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),b1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ic.lookAt(b1,ES,this.up):ic.lookAt(ES,b1,this.up),this.quaternion.setFromRotationMatrix(ic),i&&(ic.extractRotation(i.matrixWorld),og.setFromRotationMatrix(ic),this.quaternion.premultiply(og.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(gke)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(aH)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(aH)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ic.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ic.multiply(e.parent.matrixWorld)),e.applyMatrix4(ic),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(b1,e,pke),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(b1,mke,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,f=l.length;u<f;u++){const c=l[u];s(e.shapes,c)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),f=o(e.images),c=o(e.shapes),h=o(e.skeletons),g=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),f.length>0&&(r.images=f),c.length>0&&(r.shapes=c),h.length>0&&(r.skeletons=h),g.length>0&&(r.animations=g),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const f=a[u];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}mn.DefaultUp=new Q(0,1,0);mn.DefaultMatrixAutoUpdate=!0;mn.prototype.isObject3D=!0;const al=new Q,sc=new Q,JR=new Q,oc=new Q,ag=new Q,lg=new Q,lH=new Q,XR=new Q,YR=new Q,ZR=new Q;class Qr{constructor(e=new Q,n=new Q,r=new Q){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),al.subVectors(e,n),i.cross(al);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){al.subVectors(i,n),sc.subVectors(r,n),JR.subVectors(e,n);const o=al.dot(al),a=al.dot(sc),l=al.dot(JR),u=sc.dot(sc),f=sc.dot(JR),c=o*u-a*a;if(c===0)return s.set(-2,-1,-1);const h=1/c,g=(u*l-a*f)*h,y=(o*f-a*l)*h;return s.set(1-g-y,y,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,oc),oc.x>=0&&oc.y>=0&&oc.x+oc.y<=1}static getUV(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,oc),l.set(0,0),l.addScaledVector(s,oc.x),l.addScaledVector(o,oc.y),l.addScaledVector(a,oc.z),l}static isFrontFacing(e,n,r,i){return al.subVectors(r,n),sc.subVectors(e,n),al.cross(sc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return al.subVectors(this.c,this.b),sc.subVectors(this.a,this.b),al.cross(sc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Qr.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return Qr.getUV(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Qr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;ag.subVectors(i,r),lg.subVectors(s,r),XR.subVectors(e,r);const l=ag.dot(XR),u=lg.dot(XR);if(l<=0&&u<=0)return n.copy(r);YR.subVectors(e,i);const f=ag.dot(YR),c=lg.dot(YR);if(f>=0&&c<=f)return n.copy(i);const h=l*c-f*u;if(h<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(ag,o);ZR.subVectors(e,s);const g=ag.dot(ZR),y=lg.dot(ZR);if(y>=0&&g<=y)return n.copy(s);const _=g*u-l*y;if(_<=0&&u>=0&&y<=0)return a=u/(u-y),n.copy(r).addScaledVector(lg,a);const x=f*y-g*c;if(x<=0&&c-f>=0&&g-y>=0)return lH.subVectors(s,i),a=(c-f)/(c-f+(g-y)),n.copy(i).addScaledVector(lH,a);const w=1/(x+_+h);return o=_*w,a=h*w,n.copy(r).addScaledVector(ag,o).addScaledVector(lg,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let yke=0;class vr extends Fh{constructor(){super(),Object.defineProperty(this,"id",{value:yke++}),this.uuid=la(),this.name="",this.type="Material",this.blending=gp,this.side=vh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Lk,this.blendDst=Pk,this.blendEquation=Yd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=_T,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=SJ,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=XA,this.stencilZFail=XA,this.stencilZPass=XA,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if(n==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===Ik;continue}const i=this[n];if(i===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==gp&&(r.blending=this.blending),this.side!==vh&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}vr.prototype.isMaterial=!0;vr.fromType=function(){return null};class Ao extends vr{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}Ao.prototype.isMeshBasicMaterial=!0;const ti=new Q,TS=new Ne;class pn{constructor(e,n,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r===!0,this.usage=Y0,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new qe),n[r++]=o.r,n[r++]=o.g,n[r++]=o.b}return this}copyVector2sArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Ne),n[r++]=o.x,n[r++]=o.y}return this}copyVector3sArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new Q),n[r++]=o.x,n[r++]=o.y,n[r++]=o.z}return this}copyVector4sArray(e){const n=this.array;let r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new zn),n[r++]=o.x,n[r++]=o.y,n[r++]=o.z,n[r++]=o.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)TS.fromBufferAttribute(this,n),TS.applyMatrix3(e),this.setXY(n,TS.x,TS.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.applyMatrix3(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.applyMatrix4(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.applyNormalMatrix(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.transformDirection(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){return this.array[e*this.itemSize]}setX(e,n){return this.array[e*this.itemSize]=n,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,n){return this.array[e*this.itemSize+1]=n,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,n){return this.array[e*this.itemSize+2]=n,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,n){return this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Y0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}pn.prototype.isBufferAttribute=!0;class IJ extends pn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class LJ extends pn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class PJ extends pn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class DJ extends pn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class lM extends pn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class BJ extends pn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class uM extends pn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class OJ extends pn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}OJ.prototype.isFloat16BufferAttribute=!0;class _t extends pn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class kJ extends pn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let vke=0;const Ba=new vt,eI=new mn,ug=new Q,Xo=new Do,S1=new Do,Di=new Q;class It extends Fh{constructor(){super(),Object.defineProperty(this,"id",{value:vke++}),this.uuid=la(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(EJ(e)?uM:lM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new xi().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ba.makeRotationFromQuaternion(e),this.applyMatrix4(Ba),this}rotateX(e){return Ba.makeRotationX(e),this.applyMatrix4(Ba),this}rotateY(e){return Ba.makeRotationY(e),this.applyMatrix4(Ba),this}rotateZ(e){return Ba.makeRotationZ(e),this.applyMatrix4(Ba),this}translate(e,n,r){return Ba.makeTranslation(e,n,r),this.applyMatrix4(Ba),this}scale(e,n,r){return Ba.makeScale(e,n,r),this.applyMatrix4(Ba),this}lookAt(e){return eI.lookAt(e),eI.updateMatrix(),this.applyMatrix4(eI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ug).negate(),this.translate(ug.x,ug.y,ug.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new _t(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Do);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Q(-1/0,-1/0,-1/0),new Q(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Xo.setFromBufferAttribute(s),this.morphTargetsRelative?(Di.addVectors(this.boundingBox.min,Xo.min),this.boundingBox.expandByPoint(Di),Di.addVectors(this.boundingBox.max,Xo.max),this.boundingBox.expandByPoint(Di)):(this.boundingBox.expandByPoint(Xo.min),this.boundingBox.expandByPoint(Xo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Gc);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Q,1/0);return}if(e){const r=this.boundingSphere.center;if(Xo.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];S1.setFromBufferAttribute(a),this.morphTargetsRelative?(Di.addVectors(Xo.min,S1.min),Xo.expandByPoint(Di),Di.addVectors(Xo.max,S1.max),Xo.expandByPoint(Di)):(Xo.expandByPoint(S1.min),Xo.expandByPoint(S1.max))}Xo.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Di.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Di));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,f=a.count;u<f;u++)Di.fromBufferAttribute(a,u),l&&(ug.fromBufferAttribute(e,u),Di.add(ug)),i=Math.max(i,r.distanceToSquared(Di))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new pn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],f=[];for(let q=0;q<a;q++)u[q]=new Q,f[q]=new Q;const c=new Q,h=new Q,g=new Q,y=new Ne,_=new Ne,x=new Ne,w=new Q,b=new Q;function E(q,j,oe){c.fromArray(i,q*3),h.fromArray(i,j*3),g.fromArray(i,oe*3),y.fromArray(o,q*2),_.fromArray(o,j*2),x.fromArray(o,oe*2),h.sub(c),g.sub(c),_.sub(y),x.sub(y);const le=1/(_.x*x.y-x.x*_.y);!isFinite(le)||(w.copy(h).multiplyScalar(x.y).addScaledVector(g,-_.y).multiplyScalar(le),b.copy(g).multiplyScalar(_.x).addScaledVector(h,-x.x).multiplyScalar(le),u[q].add(w),u[j].add(w),u[oe].add(w),f[q].add(b),f[j].add(b),f[oe].add(b))}let C=this.groups;C.length===0&&(C=[{start:0,count:r.length}]);for(let q=0,j=C.length;q<j;++q){const oe=C[q],le=oe.start,F=oe.count;for(let Y=le,H=le+F;Y<H;Y+=3)E(r[Y+0],r[Y+1],r[Y+2])}const M=new Q,P=new Q,D=new Q,L=new Q;function O(q){D.fromArray(s,q*3),L.copy(D);const j=u[q];M.copy(j),M.sub(D.multiplyScalar(D.dot(j))).normalize(),P.crossVectors(L,j);const le=P.dot(f[q])<0?-1:1;l[q*4]=M.x,l[q*4+1]=M.y,l[q*4+2]=M.z,l[q*4+3]=le}for(let q=0,j=C.length;q<j;++q){const oe=C[q],le=oe.start,F=oe.count;for(let Y=le,H=le+F;Y<H;Y+=3)O(r[Y+0]),O(r[Y+1]),O(r[Y+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new pn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,g=r.count;h<g;h++)r.setXYZ(h,0,0,0);const i=new Q,s=new Q,o=new Q,a=new Q,l=new Q,u=new Q,f=new Q,c=new Q;if(e)for(let h=0,g=e.count;h<g;h+=3){const y=e.getX(h+0),_=e.getX(h+1),x=e.getX(h+2);i.fromBufferAttribute(n,y),s.fromBufferAttribute(n,_),o.fromBufferAttribute(n,x),f.subVectors(o,s),c.subVectors(i,s),f.cross(c),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,_),u.fromBufferAttribute(r,x),a.add(f),l.add(f),u.add(f),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(_,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let h=0,g=n.count;h<g;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),f.subVectors(o,s),c.subVectors(i,s),f.cross(c),r.setXYZ(h+0,f.x,f.y,f.z),r.setXYZ(h+1,f.x,f.y,f.z),r.setXYZ(h+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,n){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}n===void 0&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const o=r[i].array,a=e.attributes[i],l=a.array,u=a.itemSize*n,f=Math.min(l.length,o.length-u);for(let c=0,h=u;c<f;c++,h++)o[h]=l[c]}return this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Di.fromBufferAttribute(e,n),Di.normalize(),e.setXYZ(n,Di.x,Di.y,Di.z)}toNonIndexed(){function e(a,l){const u=a.array,f=a.itemSize,c=a.normalized,h=new u.constructor(l.length*f);let g=0,y=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?g=l[_]*a.data.stride+a.offset:g=l[_]*f;for(let w=0;w<f;w++)h[y++]=u[g++]}return new pn(h,f,c)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new It,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let f=0,c=u.length;f<c;f++){const h=u[f],g=e(h,r);l.push(g)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],f=[];for(let c=0,h=u.length;c<h;c++){const g=u[c];f.push(g.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const f=i[u];this.setAttribute(u,f.clone(n))}const s=e.morphAttributes;for(const u in s){const f=[],c=s[u];for(let h=0,g=c.length;h<g;h++)f.push(c[h].clone(n));this.morphAttributes[u]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,f=o.length;u<f;u++){const c=o[u];this.addGroup(c.start,c.count,c.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}It.prototype.isBufferGeometry=!0;const uH=new vt,cg=new Uh,tI=new Gc,Cf=new Q,Mf=new Q,Rf=new Q,nI=new Q,rI=new Q,iI=new Q,CS=new Q,MS=new Q,RS=new Q,IS=new Ne,LS=new Ne,PS=new Ne,sI=new Q,DS=new Q;class Jr extends mn{constructor(e=new It,n=new Ao){super(),this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),tI.copy(r.boundingSphere),tI.applyMatrix4(s),e.ray.intersectsSphere(tI)===!1)||(uH.copy(s).invert(),cg.copy(e.ray).applyMatrix4(uH),r.boundingBox!==null&&cg.intersectsBox(r.boundingBox)===!1))return;let o;if(r.isBufferGeometry){const a=r.index,l=r.attributes.position,u=r.morphAttributes.position,f=r.morphTargetsRelative,c=r.attributes.uv,h=r.attributes.uv2,g=r.groups,y=r.drawRange;if(a!==null)if(Array.isArray(i))for(let _=0,x=g.length;_<x;_++){const w=g[_],b=i[w.materialIndex],E=Math.max(w.start,y.start),C=Math.min(a.count,Math.min(w.start+w.count,y.start+y.count));for(let M=E,P=C;M<P;M+=3){const D=a.getX(M),L=a.getX(M+1),O=a.getX(M+2);o=BS(this,b,e,cg,l,u,f,c,h,D,L,O),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=w.materialIndex,n.push(o))}}else{const _=Math.max(0,y.start),x=Math.min(a.count,y.start+y.count);for(let w=_,b=x;w<b;w+=3){const E=a.getX(w),C=a.getX(w+1),M=a.getX(w+2);o=BS(this,i,e,cg,l,u,f,c,h,E,C,M),o&&(o.faceIndex=Math.floor(w/3),n.push(o))}}else if(l!==void 0)if(Array.isArray(i))for(let _=0,x=g.length;_<x;_++){const w=g[_],b=i[w.materialIndex],E=Math.max(w.start,y.start),C=Math.min(l.count,Math.min(w.start+w.count,y.start+y.count));for(let M=E,P=C;M<P;M+=3){const D=M,L=M+1,O=M+2;o=BS(this,b,e,cg,l,u,f,c,h,D,L,O),o&&(o.faceIndex=Math.floor(M/3),o.face.materialIndex=w.materialIndex,n.push(o))}}else{const _=Math.max(0,y.start),x=Math.min(l.count,y.start+y.count);for(let w=_,b=x;w<b;w+=3){const E=w,C=w+1,M=w+2;o=BS(this,i,e,cg,l,u,f,c,h,E,C,M),o&&(o.faceIndex=Math.floor(w/3),n.push(o))}}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}Jr.prototype.isMesh=!0;function _ke(t,e,n,r,i,s,o,a){let l;if(e.side===aa?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side!==_h,a),l===null)return null;DS.copy(a),DS.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(DS);return u<n.near||u>n.far?null:{distance:u,point:DS.clone(),object:t}}function BS(t,e,n,r,i,s,o,a,l,u,f,c){Cf.fromBufferAttribute(i,u),Mf.fromBufferAttribute(i,f),Rf.fromBufferAttribute(i,c);const h=t.morphTargetInfluences;if(s&&h){CS.set(0,0,0),MS.set(0,0,0),RS.set(0,0,0);for(let y=0,_=s.length;y<_;y++){const x=h[y],w=s[y];x!==0&&(nI.fromBufferAttribute(w,u),rI.fromBufferAttribute(w,f),iI.fromBufferAttribute(w,c),o?(CS.addScaledVector(nI,x),MS.addScaledVector(rI,x),RS.addScaledVector(iI,x)):(CS.addScaledVector(nI.sub(Cf),x),MS.addScaledVector(rI.sub(Mf),x),RS.addScaledVector(iI.sub(Rf),x)))}Cf.add(CS),Mf.add(MS),Rf.add(RS)}t.isSkinnedMesh&&(t.boneTransform(u,Cf),t.boneTransform(f,Mf),t.boneTransform(c,Rf));const g=_ke(t,e,n,r,Cf,Mf,Rf,sI);if(g){a&&(IS.fromBufferAttribute(a,u),LS.fromBufferAttribute(a,f),PS.fromBufferAttribute(a,c),g.uv=Qr.getUV(sI,Cf,Mf,Rf,IS,LS,PS,new Ne)),l&&(IS.fromBufferAttribute(l,u),LS.fromBufferAttribute(l,f),PS.fromBufferAttribute(l,c),g.uv2=Qr.getUV(sI,Cf,Mf,Rf,IS,LS,PS,new Ne));const y={a:u,b:f,c,normal:new Q,materialIndex:0};Qr.getNormal(Cf,Mf,Rf,y.normal),g.face=y}return g}class Dc extends It{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],f=[],c=[];let h=0,g=0;y("z","y","x",-1,-1,r,n,e,o,s,0),y("z","y","x",1,-1,r,n,-e,o,s,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,s,4),y("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new _t(u,3)),this.setAttribute("normal",new _t(f,3)),this.setAttribute("uv",new _t(c,2));function y(_,x,w,b,E,C,M,P,D,L,O){const q=C/D,j=M/L,oe=C/2,le=M/2,F=P/2,Y=D+1,H=L+1;let ee=0,k=0;const G=new Q;for(let $=0;$<H;$++){const ie=$*j-le;for(let ue=0;ue<Y;ue++){const xe=ue*q-oe;G[_]=xe*b,G[x]=ie*E,G[w]=F,u.push(G.x,G.y,G.z),G[_]=0,G[x]=0,G[w]=P>0?1:-1,f.push(G.x,G.y,G.z),c.push(ue/D),c.push(1-$/L),ee+=1}}for(let $=0;$<L;$++)for(let ie=0;ie<D;ie++){const ue=h+ie+Y*$,xe=h+ie+Y*($+1),Oe=h+(ie+1)+Y*($+1),de=h+(ie+1)+Y*$;l.push(ue,xe,de),l.push(xe,Oe,de),k+=6}a.addGroup(g,k,O),g+=k,h+=ee}}static fromJSON(e){return new Dc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ey(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function _s(t){const e={};for(let n=0;n<t.length;n++){const r=ey(t[n]);for(const i in r)e[i]=r[i]}return e}const FJ={clone:ey,merge:_s};var xke=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,wke=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ja extends vr{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=xke,this.fragmentShader=wke,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ey(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}ja.prototype.isShaderMaterial=!0;class Zy extends mn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new vt,this.projectionMatrix=new vt,this.projectionMatrixInverse=new vt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}Zy.prototype.isCamera=!0;class oi extends Zy{constructor(e=50,n=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=gx*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(vp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return gx*2*Math.atan(Math.tan(vp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(vp*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}oi.prototype.isPerspectiveCamera=!0;const fg=90,hg=1;class cM extends mn{constructor(e,n,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new oi(fg,hg,e,n);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Q(1,0,0)),this.add(i);const s=new oi(fg,hg,e,n);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Q(-1,0,0)),this.add(s);const o=new oi(fg,hg,e,n);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new Q(0,1,0)),this.add(o);const a=new oi(fg,hg,e,n);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new Q(0,-1,0)),this.add(a);const l=new oi(fg,hg,e,n);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Q(0,0,1)),this.add(l);const u=new oi(fg,hg,e,n);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new Q(0,0,-1)),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,s,o,a,l,u]=this.children,f=e.getRenderTarget(),c=e.toneMapping,h=e.xr.enabled;e.toneMapping=El,e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=g,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(f),e.toneMapping=c,e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class ev extends Mr{constructor(e,n,r,i,s,o,a,l,u,f){e=e!==void 0?e:[],n=n!==void 0?n:xh,super(e,n,r,i,s,o,a,l,u,f),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}ev.prototype.isCubeTexture=!0;class fM extends Xs{constructor(e,n={}){super(e,e,n);const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new ev(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Ar}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Dc(5,5,5),s=new ja({name:"CubemapFromEquirect",uniforms:ey(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:aa,blending:Sc});s.uniforms.tEquirect.value=n;const o=new Jr(i,s),a=n.minFilter;return n.minFilter===Hc&&(n.minFilter=Ar),new cM(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}fM.prototype.isWebGLCubeRenderTarget=!0;const oI=new Q,bke=new Q,Ske=new xi;class uu{constructor(e=new Q(1,0,0),n=0){this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=oI.subVectors(r,n).cross(bke.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const r=e.delta(oI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(r).multiplyScalar(s).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Ske.getNormalMatrix(e),i=this.coplanarPoint(oI).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}uu.prototype.isPlane=!0;const dg=new Gc,OS=new Q;class yw{constructor(e=new uu,n=new uu,r=new uu,i=new uu,s=new uu,o=new uu){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const n=this.planes,r=e.elements,i=r[0],s=r[1],o=r[2],a=r[3],l=r[4],u=r[5],f=r[6],c=r[7],h=r[8],g=r[9],y=r[10],_=r[11],x=r[12],w=r[13],b=r[14],E=r[15];return n[0].setComponents(a-i,c-l,_-h,E-x).normalize(),n[1].setComponents(a+i,c+l,_+h,E+x).normalize(),n[2].setComponents(a+s,c+u,_+g,E+w).normalize(),n[3].setComponents(a-s,c-u,_-g,E-w).normalize(),n[4].setComponents(a-o,c-f,_-y,E-b).normalize(),n[5].setComponents(a+o,c+f,_+y,E+b).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),dg.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(dg)}intersectsSprite(e){return dg.center.set(0,0,0),dg.radius=.7071067811865476,dg.applyMatrix4(e.matrixWorld),this.intersectsSphere(dg)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(OS.x=i.normal.x>0?e.max.x:e.min.x,OS.y=i.normal.y>0?e.max.y:e.min.y,OS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(OS)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function NJ(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Ake(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,f){const c=u.array,h=u.usage,g=t.createBuffer();t.bindBuffer(f,g),t.bufferData(f,c,h),u.onUploadCallback();let y;if(c instanceof Float32Array)y=5126;else if(c instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(c instanceof Int16Array)y=5122;else if(c instanceof Uint32Array)y=5125;else if(c instanceof Int32Array)y=5124;else if(c instanceof Int8Array)y=5120;else if(c instanceof Uint8Array)y=5121;else if(c instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:g,type:y,bytesPerElement:c.BYTES_PER_ELEMENT,version:u.version}}function s(u,f,c){const h=f.array,g=f.updateRange;t.bindBuffer(c,u),g.count===-1?t.bufferSubData(c,0,h):(n?t.bufferSubData(c,g.offset*h.BYTES_PER_ELEMENT,h,g.offset,g.count):t.bufferSubData(c,g.offset*h.BYTES_PER_ELEMENT,h.subarray(g.offset,g.offset+g.count)),g.count=-1)}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);f&&(t.deleteBuffer(f.buffer),r.delete(u))}function l(u,f){if(u.isGLBufferAttribute){const h=r.get(u);(!h||h.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const c=r.get(u);c===void 0?r.set(u,i(u,f)):c.version<u.version&&(s(c.buffer,u,f),c.version=u.version)}return{get:o,remove:a,update:l}}class Hp extends It{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,f=l+1,c=e/a,h=n/l,g=[],y=[],_=[],x=[];for(let w=0;w<f;w++){const b=w*h-o;for(let E=0;E<u;E++){const C=E*c-s;y.push(C,-b,0),_.push(0,0,1),x.push(E/a),x.push(1-w/l)}}for(let w=0;w<l;w++)for(let b=0;b<a;b++){const E=b+u*w,C=b+u*(w+1),M=b+1+u*(w+1),P=b+1+u*w;g.push(E,C,P),g.push(C,M,P)}this.setIndex(g),this.setAttribute("position",new _t(y,3)),this.setAttribute("normal",new _t(_,3)),this.setAttribute("uv",new _t(x,2))}static fromJSON(e){return new Hp(e.width,e.height,e.widthSegments,e.heightSegments)}}var Eke=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Tke=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Cke=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Mke=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Rke=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ike=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Lke="vec3 transformed = vec3( position );",Pke=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Dke=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,Bke=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Oke=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,kke=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Fke=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Nke=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Uke=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Hke=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Gke=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,zke=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,$ke=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Vke=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Wke=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,jke=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,qke=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Kke=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Qke=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Jke="gl_FragColor = linearToOutputTexel( gl_FragColor );",Xke=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Yke=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Zke=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,eFe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,tFe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,nFe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,rFe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,iFe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,sFe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,oFe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,aFe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lFe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,uFe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,cFe=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,fFe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,hFe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,dFe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,pFe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,mFe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,gFe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,yFe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,vFe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	vec3 FssEss = specularColor * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,_Fe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xFe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,wFe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,bFe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,SFe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,AFe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,EFe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,TFe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,CFe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,MFe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,RFe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,IFe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,LFe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,PFe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,DFe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,BFe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,OFe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,kFe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,FFe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,NFe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,UFe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,HFe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,GFe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,zFe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,$Fe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,VFe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,WFe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,jFe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,qFe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,KFe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,QFe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,JFe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,XFe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,YFe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,ZFe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,eNe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,tNe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,nNe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,rNe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,iNe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,sNe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,oNe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,aNe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,lNe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,uNe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,cNe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,fNe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,hNe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,dNe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,pNe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,mNe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,gNe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,yNe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,vNe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,_Ne=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const xNe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,wNe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,bNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,SNe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,ANe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,ENe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,TNe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,CNe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,MNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,RNe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,INe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LNe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,PNe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,DNe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BNe=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ONe=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,kNe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,FNe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,NNe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,UNe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,HNe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,GNe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,zNe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$Ne=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,VNe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,WNe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jNe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,qNe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,KNe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,QNe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,JNe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,XNe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,cn={alphamap_fragment:Eke,alphamap_pars_fragment:Tke,alphatest_fragment:Cke,alphatest_pars_fragment:Mke,aomap_fragment:Rke,aomap_pars_fragment:Ike,begin_vertex:Lke,beginnormal_vertex:Pke,bsdfs:Dke,bumpmap_pars_fragment:Bke,clipping_planes_fragment:Oke,clipping_planes_pars_fragment:kke,clipping_planes_pars_vertex:Fke,clipping_planes_vertex:Nke,color_fragment:Uke,color_pars_fragment:Hke,color_pars_vertex:Gke,color_vertex:zke,common:$ke,cube_uv_reflection_fragment:Vke,defaultnormal_vertex:Wke,displacementmap_pars_vertex:jke,displacementmap_vertex:qke,emissivemap_fragment:Kke,emissivemap_pars_fragment:Qke,encodings_fragment:Jke,encodings_pars_fragment:Xke,envmap_fragment:Yke,envmap_common_pars_fragment:Zke,envmap_pars_fragment:eFe,envmap_pars_vertex:tFe,envmap_physical_pars_fragment:hFe,envmap_vertex:nFe,fog_vertex:rFe,fog_pars_vertex:iFe,fog_fragment:sFe,fog_pars_fragment:oFe,gradientmap_pars_fragment:aFe,lightmap_fragment:lFe,lightmap_pars_fragment:uFe,lights_lambert_vertex:cFe,lights_pars_begin:fFe,lights_toon_fragment:dFe,lights_toon_pars_fragment:pFe,lights_phong_fragment:mFe,lights_phong_pars_fragment:gFe,lights_physical_fragment:yFe,lights_physical_pars_fragment:vFe,lights_fragment_begin:_Fe,lights_fragment_maps:xFe,lights_fragment_end:wFe,logdepthbuf_fragment:bFe,logdepthbuf_pars_fragment:SFe,logdepthbuf_pars_vertex:AFe,logdepthbuf_vertex:EFe,map_fragment:TFe,map_pars_fragment:CFe,map_particle_fragment:MFe,map_particle_pars_fragment:RFe,metalnessmap_fragment:IFe,metalnessmap_pars_fragment:LFe,morphcolor_vertex:PFe,morphnormal_vertex:DFe,morphtarget_pars_vertex:BFe,morphtarget_vertex:OFe,normal_fragment_begin:kFe,normal_fragment_maps:FFe,normal_pars_fragment:NFe,normal_pars_vertex:UFe,normal_vertex:HFe,normalmap_pars_fragment:GFe,clearcoat_normal_fragment_begin:zFe,clearcoat_normal_fragment_maps:$Fe,clearcoat_pars_fragment:VFe,output_fragment:WFe,packing:jFe,premultiplied_alpha_fragment:qFe,project_vertex:KFe,dithering_fragment:QFe,dithering_pars_fragment:JFe,roughnessmap_fragment:XFe,roughnessmap_pars_fragment:YFe,shadowmap_pars_fragment:ZFe,shadowmap_pars_vertex:eNe,shadowmap_vertex:tNe,shadowmask_pars_fragment:nNe,skinbase_vertex:rNe,skinning_pars_vertex:iNe,skinning_vertex:sNe,skinnormal_vertex:oNe,specularmap_fragment:aNe,specularmap_pars_fragment:lNe,tonemapping_fragment:uNe,tonemapping_pars_fragment:cNe,transmission_fragment:fNe,transmission_pars_fragment:hNe,uv_pars_fragment:dNe,uv_pars_vertex:pNe,uv_vertex:mNe,uv2_pars_fragment:gNe,uv2_pars_vertex:yNe,uv2_vertex:vNe,worldpos_vertex:_Ne,background_vert:xNe,background_frag:wNe,cube_vert:bNe,cube_frag:SNe,depth_vert:ANe,depth_frag:ENe,distanceRGBA_vert:TNe,distanceRGBA_frag:CNe,equirect_vert:MNe,equirect_frag:RNe,linedashed_vert:INe,linedashed_frag:LNe,meshbasic_vert:PNe,meshbasic_frag:DNe,meshlambert_vert:BNe,meshlambert_frag:ONe,meshmatcap_vert:kNe,meshmatcap_frag:FNe,meshnormal_vert:NNe,meshnormal_frag:UNe,meshphong_vert:HNe,meshphong_frag:GNe,meshphysical_vert:zNe,meshphysical_frag:$Ne,meshtoon_vert:VNe,meshtoon_frag:WNe,points_vert:jNe,points_frag:qNe,shadow_vert:KNe,shadow_frag:QNe,sprite_vert:JNe,sprite_frag:XNe},rt={common:{diffuse:{value:new qe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new xi},uv2Transform:{value:new xi},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ne(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new xi}},sprite:{diffuse:{value:new qe(16777215)},opacity:{value:1},center:{value:new Ne(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new xi}}},yl={basic:{uniforms:_s([rt.common,rt.specularmap,rt.envmap,rt.aomap,rt.lightmap,rt.fog]),vertexShader:cn.meshbasic_vert,fragmentShader:cn.meshbasic_frag},lambert:{uniforms:_s([rt.common,rt.specularmap,rt.envmap,rt.aomap,rt.lightmap,rt.emissivemap,rt.fog,rt.lights,{emissive:{value:new qe(0)}}]),vertexShader:cn.meshlambert_vert,fragmentShader:cn.meshlambert_frag},phong:{uniforms:_s([rt.common,rt.specularmap,rt.envmap,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.fog,rt.lights,{emissive:{value:new qe(0)},specular:{value:new qe(1118481)},shininess:{value:30}}]),vertexShader:cn.meshphong_vert,fragmentShader:cn.meshphong_frag},standard:{uniforms:_s([rt.common,rt.envmap,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.roughnessmap,rt.metalnessmap,rt.fog,rt.lights,{emissive:{value:new qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag},toon:{uniforms:_s([rt.common,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.gradientmap,rt.fog,rt.lights,{emissive:{value:new qe(0)}}]),vertexShader:cn.meshtoon_vert,fragmentShader:cn.meshtoon_frag},matcap:{uniforms:_s([rt.common,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.fog,{matcap:{value:null}}]),vertexShader:cn.meshmatcap_vert,fragmentShader:cn.meshmatcap_frag},points:{uniforms:_s([rt.points,rt.fog]),vertexShader:cn.points_vert,fragmentShader:cn.points_frag},dashed:{uniforms:_s([rt.common,rt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cn.linedashed_vert,fragmentShader:cn.linedashed_frag},depth:{uniforms:_s([rt.common,rt.displacementmap]),vertexShader:cn.depth_vert,fragmentShader:cn.depth_frag},normal:{uniforms:_s([rt.common,rt.bumpmap,rt.normalmap,rt.displacementmap,{opacity:{value:1}}]),vertexShader:cn.meshnormal_vert,fragmentShader:cn.meshnormal_frag},sprite:{uniforms:_s([rt.sprite,rt.fog]),vertexShader:cn.sprite_vert,fragmentShader:cn.sprite_frag},background:{uniforms:{uvTransform:{value:new xi},t2D:{value:null}},vertexShader:cn.background_vert,fragmentShader:cn.background_frag},cube:{uniforms:_s([rt.envmap,{opacity:{value:1}}]),vertexShader:cn.cube_vert,fragmentShader:cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cn.equirect_vert,fragmentShader:cn.equirect_frag},distanceRGBA:{uniforms:_s([rt.common,rt.displacementmap,{referencePosition:{value:new Q},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cn.distanceRGBA_vert,fragmentShader:cn.distanceRGBA_frag},shadow:{uniforms:_s([rt.lights,rt.fog,{color:{value:new qe(0)},opacity:{value:1}}]),vertexShader:cn.shadow_vert,fragmentShader:cn.shadow_frag}};yl.physical={uniforms:_s([yl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ne(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new qe(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ne},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new qe(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new qe(1,1,1)},specularColorMap:{value:null}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag};function YNe(t,e,n,r,i,s){const o=new qe(0);let a=i===!0?0:1,l,u,f=null,c=0,h=null;function g(_,x){let w=!1,b=x.isScene===!0?x.background:null;b&&b.isTexture&&(b=e.get(b));const E=t.xr,C=E.getSession&&E.getSession();C&&C.environmentBlendMode==="additive"&&(b=null),b===null?y(o,a):b&&b.isColor&&(y(b,1),w=!0),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),b&&(b.isCubeTexture||b.mapping===Xy)?(u===void 0&&(u=new Jr(new Dc(1,1,1),new ja({name:"BackgroundCubeMaterial",uniforms:ey(yl.cube.uniforms),vertexShader:yl.cube.vertexShader,fragmentShader:yl.cube.fragmentShader,side:aa,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,P,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,(f!==b||c!==b.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=b,c=b.version,h=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(l===void 0&&(l=new Jr(new Hp(2,2),new ja({name:"BackgroundMaterial",uniforms:ey(yl.background.uniforms),vertexShader:yl.background.vertexShader,fragmentShader:yl.background.fragmentShader,side:vh,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=b,b.matrixAutoUpdate===!0&&b.updateMatrix(),l.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||c!==b.version||h!==t.toneMapping)&&(l.material.needsUpdate=!0,f=b,c=b.version,h=t.toneMapping),l.layers.enableAll(),_.unshift(l,l.geometry,l.material,0,0,null))}function y(_,x){n.buffers.color.setClear(_.r,_.g,_.b,x,s)}return{getClearColor:function(){return o},setClearColor:function(_,x=1){o.set(_),a=x,y(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(_){a=_,y(o,a)},render:g}}function ZNe(t,e,n,r){const i=t.getParameter(34921),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let u=l,f=!1;function c(F,Y,H,ee,k){let G=!1;if(o){const $=_(ee,H,Y);u!==$&&(u=$,g(u.object)),G=w(F,ee,H,k),G&&b(F,ee,H,k)}else{const $=Y.wireframe===!0;(u.geometry!==ee.id||u.program!==H.id||u.wireframe!==$)&&(u.geometry=ee.id,u.program=H.id,u.wireframe=$,G=!0)}k!==null&&n.update(k,34963),(G||f)&&(f=!1,L(F,Y,H,ee),k!==null&&t.bindBuffer(34963,n.get(k).buffer))}function h(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function g(F){return r.isWebGL2?t.bindVertexArray(F):s.bindVertexArrayOES(F)}function y(F){return r.isWebGL2?t.deleteVertexArray(F):s.deleteVertexArrayOES(F)}function _(F,Y,H){const ee=H.wireframe===!0;let k=a[F.id];k===void 0&&(k={},a[F.id]=k);let G=k[Y.id];G===void 0&&(G={},k[Y.id]=G);let $=G[ee];return $===void 0&&($=x(h()),G[ee]=$),$}function x(F){const Y=[],H=[],ee=[];for(let k=0;k<i;k++)Y[k]=0,H[k]=0,ee[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:H,attributeDivisors:ee,object:F,attributes:{},index:null}}function w(F,Y,H,ee){const k=u.attributes,G=Y.attributes;let $=0;const ie=H.getAttributes();for(const ue in ie)if(ie[ue].location>=0){const Oe=k[ue];let de=G[ue];if(de===void 0&&(ue==="instanceMatrix"&&F.instanceMatrix&&(de=F.instanceMatrix),ue==="instanceColor"&&F.instanceColor&&(de=F.instanceColor)),Oe===void 0||Oe.attribute!==de||de&&Oe.data!==de.data)return!0;$++}return u.attributesNum!==$||u.index!==ee}function b(F,Y,H,ee){const k={},G=Y.attributes;let $=0;const ie=H.getAttributes();for(const ue in ie)if(ie[ue].location>=0){let Oe=G[ue];Oe===void 0&&(ue==="instanceMatrix"&&F.instanceMatrix&&(Oe=F.instanceMatrix),ue==="instanceColor"&&F.instanceColor&&(Oe=F.instanceColor));const de={};de.attribute=Oe,Oe&&Oe.data&&(de.data=Oe.data),k[ue]=de,$++}u.attributes=k,u.attributesNum=$,u.index=ee}function E(){const F=u.newAttributes;for(let Y=0,H=F.length;Y<H;Y++)F[Y]=0}function C(F){M(F,0)}function M(F,Y){const H=u.newAttributes,ee=u.enabledAttributes,k=u.attributeDivisors;H[F]=1,ee[F]===0&&(t.enableVertexAttribArray(F),ee[F]=1),k[F]!==Y&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,Y),k[F]=Y)}function P(){const F=u.newAttributes,Y=u.enabledAttributes;for(let H=0,ee=Y.length;H<ee;H++)Y[H]!==F[H]&&(t.disableVertexAttribArray(H),Y[H]=0)}function D(F,Y,H,ee,k,G){r.isWebGL2===!0&&(H===5124||H===5125)?t.vertexAttribIPointer(F,Y,H,k,G):t.vertexAttribPointer(F,Y,H,ee,k,G)}function L(F,Y,H,ee){if(r.isWebGL2===!1&&(F.isInstancedMesh||ee.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;E();const k=ee.attributes,G=H.getAttributes(),$=Y.defaultAttributeValues;for(const ie in G){const ue=G[ie];if(ue.location>=0){let xe=k[ie];if(xe===void 0&&(ie==="instanceMatrix"&&F.instanceMatrix&&(xe=F.instanceMatrix),ie==="instanceColor"&&F.instanceColor&&(xe=F.instanceColor)),xe!==void 0){const Oe=xe.normalized,de=xe.itemSize,ge=n.get(xe);if(ge===void 0)continue;const Ze=ge.buffer,Qe=ge.type,We=ge.bytesPerElement;if(xe.isInterleavedBufferAttribute){const Ue=xe.data,mt=Ue.stride,Re=xe.offset;if(Ue.isInstancedInterleavedBuffer){for(let U=0;U<ue.locationSize;U++)M(ue.location+U,Ue.meshPerAttribute);F.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=Ue.meshPerAttribute*Ue.count)}else for(let U=0;U<ue.locationSize;U++)C(ue.location+U);t.bindBuffer(34962,Ze);for(let U=0;U<ue.locationSize;U++)D(ue.location+U,de/ue.locationSize,Qe,Oe,mt*We,(Re+de/ue.locationSize*U)*We)}else{if(xe.isInstancedBufferAttribute){for(let Ue=0;Ue<ue.locationSize;Ue++)M(ue.location+Ue,xe.meshPerAttribute);F.isInstancedMesh!==!0&&ee._maxInstanceCount===void 0&&(ee._maxInstanceCount=xe.meshPerAttribute*xe.count)}else for(let Ue=0;Ue<ue.locationSize;Ue++)C(ue.location+Ue);t.bindBuffer(34962,Ze);for(let Ue=0;Ue<ue.locationSize;Ue++)D(ue.location+Ue,de/ue.locationSize,Qe,Oe,de*We,de/ue.locationSize*Ue*We)}}else if($!==void 0){const Oe=$[ie];if(Oe!==void 0)switch(Oe.length){case 2:t.vertexAttrib2fv(ue.location,Oe);break;case 3:t.vertexAttrib3fv(ue.location,Oe);break;case 4:t.vertexAttrib4fv(ue.location,Oe);break;default:t.vertexAttrib1fv(ue.location,Oe)}}}}P()}function O(){oe();for(const F in a){const Y=a[F];for(const H in Y){const ee=Y[H];for(const k in ee)y(ee[k].object),delete ee[k];delete Y[H]}delete a[F]}}function q(F){if(a[F.id]===void 0)return;const Y=a[F.id];for(const H in Y){const ee=Y[H];for(const k in ee)y(ee[k].object),delete ee[k];delete Y[H]}delete a[F.id]}function j(F){for(const Y in a){const H=a[Y];if(H[F.id]===void 0)continue;const ee=H[F.id];for(const k in ee)y(ee[k].object),delete ee[k];delete H[F.id]}}function oe(){le(),f=!0,u!==l&&(u=l,g(u.object))}function le(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:c,reset:oe,resetDefaultState:le,dispose:O,releaseStatesOfGeometry:q,releaseStatesOfProgram:j,initAttributes:E,enableAttribute:C,disableUnusedAttributes:P}}function e4e(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){t.drawArrays(s,u,f),n.update(f,s,1)}function l(u,f,c){if(c===0)return;let h,g;if(i)h=t,g="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[g](s,u,f,c),n.update(f,s,c)}this.setMode=o,this.render=a,this.renderInstances=l}function t4e(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(D){if(D==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";D="mediump"}return D==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&t instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),f=n.logarithmicDepthBuffer===!0,c=t.getParameter(34930),h=t.getParameter(35660),g=t.getParameter(3379),y=t.getParameter(34076),_=t.getParameter(34921),x=t.getParameter(36347),w=t.getParameter(36348),b=t.getParameter(36349),E=h>0,C=o||e.has("OES_texture_float"),M=E&&C,P=o?t.getParameter(36183):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:f,maxTextures:c,maxVertexTextures:h,maxTextureSize:g,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:x,maxVaryings:w,maxFragmentUniforms:b,vertexTextures:E,floatFragmentTextures:C,floatVertexTextures:M,maxSamples:P}}function n4e(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new uu,a=new xi,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(c,h,g){const y=c.length!==0||h||r!==0||i;return i=h,n=f(c,g,0),r=c.length,y},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1,u()},this.setState=function(c,h,g){const y=c.clippingPlanes,_=c.clipIntersection,x=c.clipShadows,w=t.get(c);if(!i||y===null||y.length===0||s&&!x)s?f(null):u();else{const b=s?0:r,E=b*4;let C=w.clippingState||null;l.value=C,C=f(y,h,E,g);for(let M=0;M!==E;++M)C[M]=n[M];w.clippingState=C,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=b}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(c,h,g,y){const _=c!==null?c.length:0;let x=null;if(_!==0){if(x=l.value,y!==!0||x===null){const w=g+_*4,b=h.matrixWorldInverse;a.getNormalMatrix(b),(x===null||x.length<w)&&(x=new Float32Array(w));for(let E=0,C=g;E!==_;++E,C+=4)o.copy(c[E]).applyMatrix4(b,a),o.normal.toArray(x,C),x[C+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function r4e(t){let e=new WeakMap;function n(o,a){return a===fx?o.mapping=xh:a===hx&&(o.mapping=wh),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===fx||a===hx)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new fM(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class om extends Zy{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}om.prototype.isOrthographicCamera=!0;const l0=4,cH=[.125,.215,.35,.446,.526,.582],Zd=20,aI=new om,fH=new qe;let lI=null;const Qd=(1+Math.sqrt(5))/2,pg=1/Qd,hH=[new Q(1,1,1),new Q(-1,1,1),new Q(1,1,-1),new Q(-1,1,-1),new Q(0,Qd,pg),new Q(0,Qd,-pg),new Q(pg,0,Qd),new Q(-pg,0,Qd),new Q(Qd,pg,0),new Q(-Qd,pg,0)];class D3{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){lI=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=mH(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=pH(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(lI),e.scissorTest=!1,kS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===xh||e.mapping===wh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),lI=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Ar,minFilter:Ar,generateMipmaps:!1,type:J0,format:ta,encoding:Mu,depthBuffer:!1},i=dH(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=dH(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=i4e(s)),this._blurMaterial=s4e(s,e,n)}return i}_compileMaterial(e){const n=new Jr(this._lodPlanes[0],e);this._renderer.compile(n,aI)}_sceneToCubeUV(e,n,r,i){const a=new oi(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],f=this._renderer,c=f.autoClear,h=f.toneMapping;f.getClearColor(fH),f.toneMapping=El,f.autoClear=!1;const g=new Ao({name:"PMREM.Background",side:aa,depthWrite:!1,depthTest:!1}),y=new Jr(new Dc,g);let _=!1;const x=e.background;x?x.isColor&&(g.color.copy(x),e.background=null,_=!0):(g.color.copy(fH),_=!0);for(let w=0;w<6;w++){const b=w%3;b===0?(a.up.set(0,l[w],0),a.lookAt(u[w],0,0)):b===1?(a.up.set(0,0,l[w]),a.lookAt(0,u[w],0)):(a.up.set(0,l[w],0),a.lookAt(0,0,u[w]));const E=this._cubeSize;kS(i,b*E,w>2?E:0,E,E),f.setRenderTarget(i),_&&f.render(y,a),f.render(e,a)}y.geometry.dispose(),y.material.dispose(),f.toneMapping=h,f.autoClear=c,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===xh||e.mapping===wh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=mH()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=pH());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Jr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;kS(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,aI)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=hH[(i-1)%hH.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,c=new Jr(this._lodPlanes[i],u),h=u.uniforms,g=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Zd-1),_=s/y,x=isFinite(s)?1+Math.floor(f*_):Zd;x>Zd&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Zd}`);const w=[];let b=0;for(let D=0;D<Zd;++D){const L=D/_,O=Math.exp(-L*L/2);w.push(O),D===0?b+=O:D<x&&(b+=2*O)}for(let D=0;D<w.length;D++)w[D]=w[D]/b;h.envMap.value=e.texture,h.samples.value=x,h.weights.value=w,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:E}=this;h.dTheta.value=y,h.mipInt.value=E-r;const C=this._sizeLods[i],M=3*C*(i>E-l0?i-E+l0:0),P=4*(this._cubeSize-C);kS(n,M,P,3*C,2*C),l.setRenderTarget(n),l.render(c,aI)}}function i4e(t){const e=[],n=[],r=[];let i=t;const s=t-l0+1+cH.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-l0?l=cH[o-t+l0-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),f=-u,c=1+u,h=[f,f,c,f,c,c,f,f,c,c,f,c],g=6,y=6,_=3,x=2,w=1,b=new Float32Array(_*y*g),E=new Float32Array(x*y*g),C=new Float32Array(w*y*g);for(let P=0;P<g;P++){const D=P%3*2/3-1,L=P>2?0:-1,O=[D,L,0,D+2/3,L,0,D+2/3,L+1,0,D,L,0,D+2/3,L+1,0,D,L+1,0];b.set(O,_*y*P),E.set(h,x*y*P);const q=[P,P,P,P,P,P];C.set(q,w*y*P)}const M=new It;M.setAttribute("position",new pn(b,_)),M.setAttribute("uv",new pn(E,x)),M.setAttribute("faceIndex",new pn(C,w)),e.push(M),i>l0&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function dH(t,e,n){const r=new Xs(t,e,n);return r.texture.mapping=Xy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function kS(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function s4e(t,e,n){const r=new Float32Array(Zd),i=new Q(0,1,0);return new ja({name:"SphericalGaussianBlur",defines:{n:Zd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Fk(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Sc,depthTest:!1,depthWrite:!1})}function pH(){return new ja({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Fk(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Sc,depthTest:!1,depthWrite:!1})}function mH(){return new ja({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Fk(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Sc,depthTest:!1,depthWrite:!1})}function Fk(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function o4e(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===fx||l===hx,f=l===xh||l===wh;if(u||f)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let c=e.get(a);return n===null&&(n=new D3(t)),c=u?n.fromEquirectangular(a,c):n.fromCubemap(a,c),e.set(a,c),c.texture}else{if(e.has(a))return e.get(a).texture;{const c=a.image;if(u&&c&&c.height>0||f&&c&&i(c)){n===null&&(n=new D3(t));const h=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let f=0;f<u;f++)a[f]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function a4e(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function l4e(t,e,n,r){const i={},s=new WeakMap;function o(c){const h=c.target;h.index!==null&&e.remove(h.index);for(const y in h.attributes)e.remove(h.attributes[y]);h.removeEventListener("dispose",o),delete i[h.id];const g=s.get(h);g&&(e.remove(g),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(c,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(c){const h=c.attributes;for(const y in h)e.update(h[y],34962);const g=c.morphAttributes;for(const y in g){const _=g[y];for(let x=0,w=_.length;x<w;x++)e.update(_[x],34962)}}function u(c){const h=[],g=c.index,y=c.attributes.position;let _=0;if(g!==null){const b=g.array;_=g.version;for(let E=0,C=b.length;E<C;E+=3){const M=b[E+0],P=b[E+1],D=b[E+2];h.push(M,P,P,D,D,M)}}else{const b=y.array;_=y.version;for(let E=0,C=b.length/3-1;E<C;E+=3){const M=E+0,P=E+1,D=E+2;h.push(M,P,P,D,D,M)}}const x=new(EJ(h)?uM:lM)(h,1);x.version=_;const w=s.get(c);w&&e.remove(w),s.set(c,x)}function f(c){const h=s.get(c);if(h){const g=c.index;g!==null&&h.version<g.version&&u(c)}else u(c);return s.get(c)}return{get:a,update:l,getWireframeAttribute:f}}function u4e(t,e,n,r){const i=r.isWebGL2;let s;function o(h){s=h}let a,l;function u(h){a=h.type,l=h.bytesPerElement}function f(h,g){t.drawElements(s,g,a,h*l),n.update(g,s,1)}function c(h,g,y){if(y===0)return;let _,x;if(i)_=t,x="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[x](s,g,a,h*l,y),n.update(g,s,y)}this.setMode=o,this.setIndex=u,this.render=f,this.renderInstances=c}function c4e(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case 4:n.triangles+=a*(s/3);break;case 1:n.lines+=a*(s/2);break;case 3:n.lines+=a*(s-1);break;case 2:n.lines+=a*s;break;case 0:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function f4e(t,e){return t[0]-e[0]}function h4e(t,e){return Math.abs(e[1])-Math.abs(t[1])}function uI(t,e){let n=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),t.divideScalar(n)}function d4e(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new zn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,f,c,h){const g=u.morphTargetInfluences;if(e.isWebGL2===!0){const _=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,x=_!==void 0?_.length:0;let w=s.get(f);if(w===void 0||w.count!==x){let H=function(){F.dispose(),s.delete(f),f.removeEventListener("dispose",H)};var y=H;w!==void 0&&w.texture.dispose();const C=f.morphAttributes.position!==void 0,M=f.morphAttributes.normal!==void 0,P=f.morphAttributes.color!==void 0,D=f.morphAttributes.position||[],L=f.morphAttributes.normal||[],O=f.morphAttributes.color||[];let q=0;C===!0&&(q=1),M===!0&&(q=2),P===!0&&(q=3);let j=f.attributes.position.count*q,oe=1;j>e.maxTextureSize&&(oe=Math.ceil(j/e.maxTextureSize),j=e.maxTextureSize);const le=new Float32Array(j*oe*4*x),F=new Yy(le,j,oe,x);F.type=wc,F.needsUpdate=!0;const Y=q*4;for(let ee=0;ee<x;ee++){const k=D[ee],G=L[ee],$=O[ee],ie=j*oe*4*ee;for(let ue=0;ue<k.count;ue++){const xe=ue*Y;C===!0&&(o.fromBufferAttribute(k,ue),k.normalized===!0&&uI(o,k),le[ie+xe+0]=o.x,le[ie+xe+1]=o.y,le[ie+xe+2]=o.z,le[ie+xe+3]=0),M===!0&&(o.fromBufferAttribute(G,ue),G.normalized===!0&&uI(o,G),le[ie+xe+4]=o.x,le[ie+xe+5]=o.y,le[ie+xe+6]=o.z,le[ie+xe+7]=0),P===!0&&(o.fromBufferAttribute($,ue),$.normalized===!0&&uI(o,$),le[ie+xe+8]=o.x,le[ie+xe+9]=o.y,le[ie+xe+10]=o.z,le[ie+xe+11]=$.itemSize===4?o.w:1)}}w={count:x,texture:F,size:new Ne(j,oe)},s.set(f,w),f.addEventListener("dispose",H)}let b=0;for(let C=0;C<g.length;C++)b+=g[C];const E=f.morphTargetsRelative?1:1-b;h.getUniforms().setValue(t,"morphTargetBaseInfluence",E),h.getUniforms().setValue(t,"morphTargetInfluences",g),h.getUniforms().setValue(t,"morphTargetsTexture",w.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",w.size)}else{const _=g===void 0?0:g.length;let x=r[f.id];if(x===void 0||x.length!==_){x=[];for(let M=0;M<_;M++)x[M]=[M,0];r[f.id]=x}for(let M=0;M<_;M++){const P=x[M];P[0]=M,P[1]=g[M]}x.sort(h4e);for(let M=0;M<8;M++)M<_&&x[M][1]?(a[M][0]=x[M][0],a[M][1]=x[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(f4e);const w=f.morphAttributes.position,b=f.morphAttributes.normal;let E=0;for(let M=0;M<8;M++){const P=a[M],D=P[0],L=P[1];D!==Number.MAX_SAFE_INTEGER&&L?(w&&f.getAttribute("morphTarget"+M)!==w[D]&&f.setAttribute("morphTarget"+M,w[D]),b&&f.getAttribute("morphNormal"+M)!==b[D]&&f.setAttribute("morphNormal"+M,b[D]),i[M]=L,E+=L):(w&&f.hasAttribute("morphTarget"+M)===!0&&f.deleteAttribute("morphTarget"+M),b&&f.hasAttribute("morphNormal"+M)===!0&&f.deleteAttribute("morphNormal"+M),i[M]=0)}const C=f.morphTargetsRelative?1:1-E;h.getUniforms().setValue(t,"morphTargetBaseInfluence",C),h.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function p4e(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,f=l.geometry,c=e.get(l,f);return i.get(c)!==u&&(e.update(c),i.set(c,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),c}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const UJ=new Mr,HJ=new Yy,GJ=new gw,zJ=new ev,gH=[],yH=[],vH=new Float32Array(16),_H=new Float32Array(9),xH=new Float32Array(4);function tv(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=gH[i];if(s===void 0&&(s=new Float32Array(i),gH[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Ys(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Zs(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function hM(t,e){let n=yH[e];n===void 0&&(n=new Int32Array(e),yH[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function m4e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function g4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ys(n,e))return;t.uniform2fv(this.addr,e),Zs(n,e)}}function y4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ys(n,e))return;t.uniform3fv(this.addr,e),Zs(n,e)}}function v4e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ys(n,e))return;t.uniform4fv(this.addr,e),Zs(n,e)}}function _4e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ys(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Zs(n,e)}else{if(Ys(n,r))return;xH.set(r),t.uniformMatrix2fv(this.addr,!1,xH),Zs(n,r)}}function x4e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ys(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Zs(n,e)}else{if(Ys(n,r))return;_H.set(r),t.uniformMatrix3fv(this.addr,!1,_H),Zs(n,r)}}function w4e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ys(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Zs(n,e)}else{if(Ys(n,r))return;vH.set(r),t.uniformMatrix4fv(this.addr,!1,vH),Zs(n,r)}}function b4e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function S4e(t,e){const n=this.cache;Ys(n,e)||(t.uniform2iv(this.addr,e),Zs(n,e))}function A4e(t,e){const n=this.cache;Ys(n,e)||(t.uniform3iv(this.addr,e),Zs(n,e))}function E4e(t,e){const n=this.cache;Ys(n,e)||(t.uniform4iv(this.addr,e),Zs(n,e))}function T4e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function C4e(t,e){const n=this.cache;Ys(n,e)||(t.uniform2uiv(this.addr,e),Zs(n,e))}function M4e(t,e){const n=this.cache;Ys(n,e)||(t.uniform3uiv(this.addr,e),Zs(n,e))}function R4e(t,e){const n=this.cache;Ys(n,e)||(t.uniform4uiv(this.addr,e),Zs(n,e))}function I4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||UJ,i)}function L4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||GJ,i)}function P4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||zJ,i)}function D4e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||HJ,i)}function B4e(t){switch(t){case 5126:return m4e;case 35664:return g4e;case 35665:return y4e;case 35666:return v4e;case 35674:return _4e;case 35675:return x4e;case 35676:return w4e;case 5124:case 35670:return b4e;case 35667:case 35671:return S4e;case 35668:case 35672:return A4e;case 35669:case 35673:return E4e;case 5125:return T4e;case 36294:return C4e;case 36295:return M4e;case 36296:return R4e;case 35678:case 36198:case 36298:case 36306:case 35682:return I4e;case 35679:case 36299:case 36307:return L4e;case 35680:case 36300:case 36308:case 36293:return P4e;case 36289:case 36303:case 36311:case 36292:return D4e}}function O4e(t,e){t.uniform1fv(this.addr,e)}function k4e(t,e){const n=tv(e,this.size,2);t.uniform2fv(this.addr,n)}function F4e(t,e){const n=tv(e,this.size,3);t.uniform3fv(this.addr,n)}function N4e(t,e){const n=tv(e,this.size,4);t.uniform4fv(this.addr,n)}function U4e(t,e){const n=tv(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function H4e(t,e){const n=tv(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function G4e(t,e){const n=tv(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function z4e(t,e){t.uniform1iv(this.addr,e)}function $4e(t,e){t.uniform2iv(this.addr,e)}function V4e(t,e){t.uniform3iv(this.addr,e)}function W4e(t,e){t.uniform4iv(this.addr,e)}function j4e(t,e){t.uniform1uiv(this.addr,e)}function q4e(t,e){t.uniform2uiv(this.addr,e)}function K4e(t,e){t.uniform3uiv(this.addr,e)}function Q4e(t,e){t.uniform4uiv(this.addr,e)}function J4e(t,e,n){const r=e.length,i=hM(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.setTexture2D(e[s]||UJ,i[s])}function X4e(t,e,n){const r=e.length,i=hM(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.setTexture3D(e[s]||GJ,i[s])}function Y4e(t,e,n){const r=e.length,i=hM(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.setTextureCube(e[s]||zJ,i[s])}function Z4e(t,e,n){const r=e.length,i=hM(n,r);t.uniform1iv(this.addr,i);for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||HJ,i[s])}function e5e(t){switch(t){case 5126:return O4e;case 35664:return k4e;case 35665:return F4e;case 35666:return N4e;case 35674:return U4e;case 35675:return H4e;case 35676:return G4e;case 5124:case 35670:return z4e;case 35667:case 35671:return $4e;case 35668:case 35672:return V4e;case 35669:case 35673:return W4e;case 5125:return j4e;case 36294:return q4e;case 36295:return K4e;case 36296:return Q4e;case 35678:case 36198:case 36298:case 36306:case 35682:return J4e;case 35679:case 36299:case 36307:return X4e;case 35680:case 36300:case 36308:case 36293:return Y4e;case 36289:case 36303:case 36311:case 36292:return Z4e}}function t5e(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=B4e(e.type)}function n5e(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=e5e(e.type)}function $J(t){this.id=t,this.seq=[],this.map={}}$J.prototype.setValue=function(t,e,n){const r=this.seq;for(let i=0,s=r.length;i!==s;++i){const o=r[i];o.setValue(t,e[o.id],n)}};const cI=/(\w+)(\])?(\[|\.)?/g;function wH(t,e){t.seq.push(e),t.map[e.id]=e}function r5e(t,e,n){const r=t.name,i=r.length;for(cI.lastIndex=0;;){const s=cI.exec(r),o=cI.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){wH(n,u===void 0?new t5e(a,t,e):new n5e(a,t,e));break}else{let c=n.map[a];c===void 0&&(c=new $J(a),wH(n,c)),n=c}}}function oh(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,35718);for(let r=0;r<n;++r){const i=t.getActiveUniform(e,r),s=t.getUniformLocation(e,i.name);r5e(i,s,this)}}oh.prototype.setValue=function(t,e,n,r){const i=this.map[e];i!==void 0&&i.setValue(t,n,r)};oh.prototype.setOptional=function(t,e,n){const r=e[n];r!==void 0&&this.setValue(t,n,r)};oh.upload=function(t,e,n,r){for(let i=0,s=e.length;i!==s;++i){const o=e[i],a=n[o.id];a.needsUpdate!==!1&&o.setValue(t,a.value,r)}};oh.seqWithValue=function(t,e){const n=[];for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.id in e&&n.push(s)}return n};function bH(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let i5e=0;function s5e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++)r.push(o+1+": "+n[o]);return r.join(`
`)}function o5e(t){switch(t){case Mu:return["Linear","( value )"];case Ln:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function SH(t,e,n){const r=t.getShaderParameter(e,35713),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[0]);return n.toUpperCase()+`

`+i+`

`+s5e(t.getShaderSource(e),o)}else return i}function a5e(t,e){const n=o5e(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function l5e(t,e){let n;switch(e){case JQ:n="Linear";break;case XQ:n="Reinhard";break;case YQ:n="OptimizedCineon";break;case Dk:n="ACESFilmic";break;case ZQ:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function u5e(t){return[t.extensionDerivatives||!!t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(q1).join(`
`)}function c5e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function f5e(t,e){const n={},r=t.getProgramParameter(e,35721);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===35674&&(a=2),s.type===35675&&(a=3),s.type===35676&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function q1(t){return t!==""}function AH(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function EH(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const h5e=/^[ \t]*#include +<([\w\d./]+)>/gm;function B3(t){return t.replace(h5e,d5e)}function d5e(t,e){const n=cn[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return B3(n)}const p5e=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,m5e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function TH(t){return t.replace(m5e,VJ).replace(p5e,g5e)}function g5e(t,e,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),VJ(t,e,n,r)}function VJ(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function CH(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function y5e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Mk?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Rk?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===o0&&(e="SHADOWMAP_TYPE_VSM"),e}function v5e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case xh:case wh:e="ENVMAP_TYPE_CUBE";break;case Xy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function _5e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case wh:e="ENVMAP_MODE_REFRACTION";break}return e}function x5e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case mw:e="ENVMAP_BLENDING_MULTIPLY";break;case KQ:e="ENVMAP_BLENDING_MIX";break;case QQ:e="ENVMAP_BLENDING_ADD";break}return e}function w5e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function b5e(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=y5e(n),u=v5e(n),f=_5e(n),c=x5e(n),h=w5e(n),g=n.isWebGL2?"":u5e(n),y=c5e(s),_=i.createProgram();let x,w,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=[y].filter(q1).join(`
`),x.length>0&&(x+=`
`),w=[g,y].filter(q1).join(`
`),w.length>0&&(w+=`
`)):(x=[CH(n),"#define SHADER_NAME "+n.shaderName,y,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(q1).join(`
`),w=[g,CH(n),"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.envMap?"#define "+c:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==El?"#define TONE_MAPPING":"",n.toneMapping!==El?cn.tonemapping_pars_fragment:"",n.toneMapping!==El?l5e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",cn.encodings_pars_fragment,a5e("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(q1).join(`
`)),o=B3(o),o=AH(o,n),o=EH(o,n),a=B3(a),a=AH(a,n),a=EH(a,n),o=TH(o),a=TH(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,w=["#define varying in",n.glslVersion===I3?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===I3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const E=b+x+o,C=b+w+a,M=bH(i,35633,E),P=bH(i,35632,C);if(i.attachShader(_,M),i.attachShader(_,P),n.index0AttributeName!==void 0?i.bindAttribLocation(_,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_),t.debug.checkShaderErrors){const O=i.getProgramInfoLog(_).trim(),q=i.getShaderInfoLog(M).trim(),j=i.getShaderInfoLog(P).trim();let oe=!0,le=!0;if(i.getProgramParameter(_,35714)===!1){oe=!1;const F=SH(i,M,"vertex"),Y=SH(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,35715)+`

Program Info Log: `+O+`
`+F+`
`+Y)}else O!==""?console.warn("THREE.WebGLProgram: Program Info Log:",O):(q===""||j==="")&&(le=!1);le&&(this.diagnostics={runnable:oe,programLog:O,vertexShader:{log:q,prefix:x},fragmentShader:{log:j,prefix:w}})}i.deleteShader(M),i.deleteShader(P);let D;this.getUniforms=function(){return D===void 0&&(D=new oh(i,_)),D};let L;return this.getAttributes=function(){return L===void 0&&(L=f5e(i,_)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.name=n.shaderName,this.id=i5e++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=M,this.fragmentShader=P,this}let S5e=0;class A5e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;return n.has(e)===!1&&n.set(e,new Set),n.get(e)}_getShaderStage(e){const n=this.shaderCache;if(n.has(e)===!1){const r=new E5e(e);n.set(e,r)}return n.get(e)}}class E5e{constructor(e){this.id=S5e++,this.code=e,this.usedTimes=0}}function T5e(t,e,n,r,i,s,o){const a=new xp,l=new A5e,u=[],f=i.isWebGL2,c=i.logarithmicDepthBuffer,h=i.vertexTextures;let g=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(L,O,q,j,oe){const le=j.fog,F=oe.geometry,Y=L.isMeshStandardMaterial?j.environment:null,H=(L.isMeshStandardMaterial?n:e).get(L.envMap||Y),ee=!!H&&H.mapping===Xy?H.image.height:null,k=y[L.type];L.precision!==null&&(g=i.getMaxPrecision(L.precision),g!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",g,"instead."));const G=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,$=G!==void 0?G.length:0;let ie=0;F.morphAttributes.position!==void 0&&(ie=1),F.morphAttributes.normal!==void 0&&(ie=2),F.morphAttributes.color!==void 0&&(ie=3);let ue,xe,Oe,de;if(k){const Ue=yl[k];ue=Ue.vertexShader,xe=Ue.fragmentShader}else ue=L.vertexShader,xe=L.fragmentShader,l.update(L),Oe=l.getVertexShaderID(L),de=l.getFragmentShaderID(L);const ge=t.getRenderTarget(),Ze=L.alphaTest>0,Qe=L.clearcoat>0;return{isWebGL2:f,shaderID:k,shaderName:L.type,vertexShader:ue,fragmentShader:xe,defines:L.defines,customVertexShaderID:Oe,customFragmentShaderID:de,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:g,instancing:oe.isInstancedMesh===!0,instancingColor:oe.isInstancedMesh===!0&&oe.instanceColor!==null,supportsVertexTextures:h,outputEncoding:ge===null?t.outputEncoding:ge.isXRRenderTarget===!0?ge.texture.encoding:Mu,map:!!L.map,matcap:!!L.matcap,envMap:!!H,envMapMode:H&&H.mapping,envMapCubeUVHeight:ee,lightMap:!!L.lightMap,aoMap:!!L.aoMap,emissiveMap:!!L.emissiveMap,bumpMap:!!L.bumpMap,normalMap:!!L.normalMap,objectSpaceNormalMap:L.normalMapType===bJ,tangentSpaceNormalMap:L.normalMapType===kh,decodeVideoTexture:!!L.map&&L.map.isVideoTexture===!0&&L.map.encoding===Ln,clearcoat:Qe,clearcoatMap:Qe&&!!L.clearcoatMap,clearcoatRoughnessMap:Qe&&!!L.clearcoatRoughnessMap,clearcoatNormalMap:Qe&&!!L.clearcoatNormalMap,displacementMap:!!L.displacementMap,roughnessMap:!!L.roughnessMap,metalnessMap:!!L.metalnessMap,specularMap:!!L.specularMap,specularIntensityMap:!!L.specularIntensityMap,specularColorMap:!!L.specularColorMap,opaque:L.transparent===!1&&L.blending===gp,alphaMap:!!L.alphaMap,alphaTest:Ze,gradientMap:!!L.gradientMap,sheen:L.sheen>0,sheenColorMap:!!L.sheenColorMap,sheenRoughnessMap:!!L.sheenRoughnessMap,transmission:L.transmission>0,transmissionMap:!!L.transmissionMap,thicknessMap:!!L.thicknessMap,combine:L.combine,vertexTangents:!!L.normalMap&&!!F.attributes.tangent,vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUvs:!!L.map||!!L.bumpMap||!!L.normalMap||!!L.specularMap||!!L.alphaMap||!!L.emissiveMap||!!L.roughnessMap||!!L.metalnessMap||!!L.clearcoatMap||!!L.clearcoatRoughnessMap||!!L.clearcoatNormalMap||!!L.displacementMap||!!L.transmissionMap||!!L.thicknessMap||!!L.specularIntensityMap||!!L.specularColorMap||!!L.sheenColorMap||!!L.sheenRoughnessMap,uvsVertexOnly:!(!!L.map||!!L.bumpMap||!!L.normalMap||!!L.specularMap||!!L.alphaMap||!!L.emissiveMap||!!L.roughnessMap||!!L.metalnessMap||!!L.clearcoatNormalMap||L.transmission>0||!!L.transmissionMap||!!L.thicknessMap||!!L.specularIntensityMap||!!L.specularColorMap||L.sheen>0||!!L.sheenColorMap||!!L.sheenRoughnessMap)&&!!L.displacementMap,fog:!!le,useFog:L.fog===!0,fogExp2:le&&le.isFogExp2,flatShading:!!L.flatShading,sizeAttenuation:L.sizeAttenuation,logarithmicDepthBuffer:c,skinning:oe.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:$,morphTextureStride:ie,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:t.shadowMap.enabled&&q.length>0,shadowMapType:t.shadowMap.type,toneMapping:L.toneMapped?t.toneMapping:El,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===_h,flipSided:L.side===aa,useDepthPacking:!!L.depthPacking,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionDerivatives:L.extensions&&L.extensions.derivatives,extensionFragDepth:L.extensions&&L.extensions.fragDepth,extensionDrawBuffers:L.extensions&&L.extensions.drawBuffers,extensionShaderTextureLOD:L.extensions&&L.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||r.has("EXT_shader_texture_lod"),customProgramCacheKey:L.customProgramCacheKey()}}function x(L){const O=[];if(L.shaderID?O.push(L.shaderID):(O.push(L.customVertexShaderID),O.push(L.customFragmentShaderID)),L.defines!==void 0)for(const q in L.defines)O.push(q),O.push(L.defines[q]);return L.isRawShaderMaterial===!1&&(w(O,L),b(O,L),O.push(t.outputEncoding)),O.push(L.customProgramCacheKey),O.join()}function w(L,O){L.push(O.precision),L.push(O.outputEncoding),L.push(O.envMapMode),L.push(O.envMapCubeUVHeight),L.push(O.combine),L.push(O.vertexUvs),L.push(O.fogExp2),L.push(O.sizeAttenuation),L.push(O.morphTargetsCount),L.push(O.morphAttributeCount),L.push(O.numDirLights),L.push(O.numPointLights),L.push(O.numSpotLights),L.push(O.numHemiLights),L.push(O.numRectAreaLights),L.push(O.numDirLightShadows),L.push(O.numPointLightShadows),L.push(O.numSpotLightShadows),L.push(O.shadowMapType),L.push(O.toneMapping),L.push(O.numClippingPlanes),L.push(O.numClipIntersection),L.push(O.depthPacking)}function b(L,O){a.disableAll(),O.isWebGL2&&a.enable(0),O.supportsVertexTextures&&a.enable(1),O.instancing&&a.enable(2),O.instancingColor&&a.enable(3),O.map&&a.enable(4),O.matcap&&a.enable(5),O.envMap&&a.enable(6),O.lightMap&&a.enable(7),O.aoMap&&a.enable(8),O.emissiveMap&&a.enable(9),O.bumpMap&&a.enable(10),O.normalMap&&a.enable(11),O.objectSpaceNormalMap&&a.enable(12),O.tangentSpaceNormalMap&&a.enable(13),O.clearcoat&&a.enable(14),O.clearcoatMap&&a.enable(15),O.clearcoatRoughnessMap&&a.enable(16),O.clearcoatNormalMap&&a.enable(17),O.displacementMap&&a.enable(18),O.specularMap&&a.enable(19),O.roughnessMap&&a.enable(20),O.metalnessMap&&a.enable(21),O.gradientMap&&a.enable(22),O.alphaMap&&a.enable(23),O.alphaTest&&a.enable(24),O.vertexColors&&a.enable(25),O.vertexAlphas&&a.enable(26),O.vertexUvs&&a.enable(27),O.vertexTangents&&a.enable(28),O.uvsVertexOnly&&a.enable(29),O.fog&&a.enable(30),L.push(a.mask),a.disableAll(),O.useFog&&a.enable(0),O.flatShading&&a.enable(1),O.logarithmicDepthBuffer&&a.enable(2),O.skinning&&a.enable(3),O.morphTargets&&a.enable(4),O.morphNormals&&a.enable(5),O.morphColors&&a.enable(6),O.premultipliedAlpha&&a.enable(7),O.shadowMapEnabled&&a.enable(8),O.physicallyCorrectLights&&a.enable(9),O.doubleSided&&a.enable(10),O.flipSided&&a.enable(11),O.useDepthPacking&&a.enable(12),O.dithering&&a.enable(13),O.specularIntensityMap&&a.enable(14),O.specularColorMap&&a.enable(15),O.transmission&&a.enable(16),O.transmissionMap&&a.enable(17),O.thicknessMap&&a.enable(18),O.sheen&&a.enable(19),O.sheenColorMap&&a.enable(20),O.sheenRoughnessMap&&a.enable(21),O.decodeVideoTexture&&a.enable(22),O.opaque&&a.enable(23),L.push(a.mask)}function E(L){const O=y[L.type];let q;if(O){const j=yl[O];q=FJ.clone(j.uniforms)}else q=L.uniforms;return q}function C(L,O){let q;for(let j=0,oe=u.length;j<oe;j++){const le=u[j];if(le.cacheKey===O){q=le,++q.usedTimes;break}}return q===void 0&&(q=new b5e(t,O,L,s),u.push(q)),q}function M(L){if(--L.usedTimes===0){const O=u.indexOf(L);u[O]=u[u.length-1],u.pop(),L.destroy()}}function P(L){l.remove(L)}function D(){l.dispose()}return{getParameters:_,getProgramCacheKey:x,getUniforms:E,acquireProgram:C,releaseProgram:M,releaseShaderCache:P,programs:u,dispose:D}}function C5e(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function M5e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function MH(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function RH(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(c,h,g,y,_,x){let w=t[e];return w===void 0?(w={id:c.id,object:c,geometry:h,material:g,groupOrder:y,renderOrder:c.renderOrder,z:_,group:x},t[e]=w):(w.id=c.id,w.object=c,w.geometry=h,w.material=g,w.groupOrder=y,w.renderOrder=c.renderOrder,w.z=_,w.group=x),e++,w}function a(c,h,g,y,_,x){const w=o(c,h,g,y,_,x);g.transmission>0?r.push(w):g.transparent===!0?i.push(w):n.push(w)}function l(c,h,g,y,_,x){const w=o(c,h,g,y,_,x);g.transmission>0?r.unshift(w):g.transparent===!0?i.unshift(w):n.unshift(w)}function u(c,h){n.length>1&&n.sort(c||M5e),r.length>1&&r.sort(h||MH),i.length>1&&i.sort(h||MH)}function f(){for(let c=e,h=t.length;c<h;c++){const g=t[c];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:u}}function R5e(){let t=new WeakMap;function e(r,i){let s;return t.has(r)===!1?(s=new RH,t.set(r,[s])):i>=t.get(r).length?(s=new RH,t.get(r).push(s)):s=t.get(r)[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function I5e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Q,color:new qe};break;case"SpotLight":n={position:new Q,direction:new Q,color:new qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Q,color:new qe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Q,skyColor:new qe,groundColor:new qe};break;case"RectAreaLight":n={color:new qe,position:new Q,halfWidth:new Q,halfHeight:new Q};break}return t[e.id]=n,n}}}function L5e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ne};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ne};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ne,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let P5e=0;function D5e(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function B5e(t,e){const n=new I5e,r=L5e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let f=0;f<9;f++)i.probe.push(new Q);const s=new Q,o=new vt,a=new vt;function l(f,c){let h=0,g=0,y=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let _=0,x=0,w=0,b=0,E=0,C=0,M=0,P=0;f.sort(D5e);const D=c!==!0?Math.PI:1;for(let O=0,q=f.length;O<q;O++){const j=f[O],oe=j.color,le=j.intensity,F=j.distance,Y=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)h+=oe.r*le*D,g+=oe.g*le*D,y+=oe.b*le*D;else if(j.isLightProbe)for(let H=0;H<9;H++)i.probe[H].addScaledVector(j.sh.coefficients[H],le);else if(j.isDirectionalLight){const H=n.get(j);if(H.color.copy(j.color).multiplyScalar(j.intensity*D),j.castShadow){const ee=j.shadow,k=r.get(j);k.shadowBias=ee.bias,k.shadowNormalBias=ee.normalBias,k.shadowRadius=ee.radius,k.shadowMapSize=ee.mapSize,i.directionalShadow[_]=k,i.directionalShadowMap[_]=Y,i.directionalShadowMatrix[_]=j.shadow.matrix,C++}i.directional[_]=H,_++}else if(j.isSpotLight){const H=n.get(j);if(H.position.setFromMatrixPosition(j.matrixWorld),H.color.copy(oe).multiplyScalar(le*D),H.distance=F,H.coneCos=Math.cos(j.angle),H.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),H.decay=j.decay,j.castShadow){const ee=j.shadow,k=r.get(j);k.shadowBias=ee.bias,k.shadowNormalBias=ee.normalBias,k.shadowRadius=ee.radius,k.shadowMapSize=ee.mapSize,i.spotShadow[w]=k,i.spotShadowMap[w]=Y,i.spotShadowMatrix[w]=j.shadow.matrix,P++}i.spot[w]=H,w++}else if(j.isRectAreaLight){const H=n.get(j);H.color.copy(oe).multiplyScalar(le),H.halfWidth.set(j.width*.5,0,0),H.halfHeight.set(0,j.height*.5,0),i.rectArea[b]=H,b++}else if(j.isPointLight){const H=n.get(j);if(H.color.copy(j.color).multiplyScalar(j.intensity*D),H.distance=j.distance,H.decay=j.decay,j.castShadow){const ee=j.shadow,k=r.get(j);k.shadowBias=ee.bias,k.shadowNormalBias=ee.normalBias,k.shadowRadius=ee.radius,k.shadowMapSize=ee.mapSize,k.shadowCameraNear=ee.camera.near,k.shadowCameraFar=ee.camera.far,i.pointShadow[x]=k,i.pointShadowMap[x]=Y,i.pointShadowMatrix[x]=j.shadow.matrix,M++}i.point[x]=H,x++}else if(j.isHemisphereLight){const H=n.get(j);H.skyColor.copy(j.color).multiplyScalar(le*D),H.groundColor.copy(j.groundColor).multiplyScalar(le*D),i.hemi[E]=H,E++}}b>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=rt.LTC_FLOAT_1,i.rectAreaLTC2=rt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=rt.LTC_HALF_1,i.rectAreaLTC2=rt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=g,i.ambient[2]=y;const L=i.hash;(L.directionalLength!==_||L.pointLength!==x||L.spotLength!==w||L.rectAreaLength!==b||L.hemiLength!==E||L.numDirectionalShadows!==C||L.numPointShadows!==M||L.numSpotShadows!==P)&&(i.directional.length=_,i.spot.length=w,i.rectArea.length=b,i.point.length=x,i.hemi.length=E,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=M,i.spotShadowMatrix.length=P,L.directionalLength=_,L.pointLength=x,L.spotLength=w,L.rectAreaLength=b,L.hemiLength=E,L.numDirectionalShadows=C,L.numPointShadows=M,L.numSpotShadows=P,i.version=P5e++)}function u(f,c){let h=0,g=0,y=0,_=0,x=0;const w=c.matrixWorldInverse;for(let b=0,E=f.length;b<E;b++){const C=f[b];if(C.isDirectionalLight){const M=i.directional[h];M.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(w),h++}else if(C.isSpotLight){const M=i.spot[y];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(w),M.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(w),y++}else if(C.isRectAreaLight){const M=i.rectArea[_];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(w),a.identity(),o.copy(C.matrixWorld),o.premultiply(w),a.extractRotation(o),M.halfWidth.set(C.width*.5,0,0),M.halfHeight.set(0,C.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),_++}else if(C.isPointLight){const M=i.point[g];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(w),g++}else if(C.isHemisphereLight){const M=i.hemi[x];M.direction.setFromMatrixPosition(C.matrixWorld),M.direction.transformDirection(w),x++}}}return{setup:l,setupView:u,state:i}}function IH(t,e){const n=new B5e(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(c){r.push(c)}function a(c){i.push(c)}function l(c){n.setup(r,c)}function u(c){n.setupView(r,c)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function O5e(t,e){let n=new WeakMap;function r(s,o=0){let a;return n.has(s)===!1?(a=new IH(t,e),n.set(s,[a])):o>=n.get(s).length?(a=new IH(t,e),n.get(s).push(a)):a=n.get(s)[o],a}function i(){n=new WeakMap}return{get:r,dispose:i}}class dM extends vr{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=xJ,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}dM.prototype.isMeshDepthMaterial=!0;class pM extends vr{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Q,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}pM.prototype.isMeshDistanceMaterial=!0;const k5e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,F5e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WJ(t,e,n){let r=new yw;const i=new Ne,s=new Ne,o=new zn,a=new dM({depthPacking:wJ}),l=new pM,u={},f=n.maxTextureSize,c={0:aa,1:vh,2:_h},h=new ja({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ne},radius:{value:4}},vertexShader:k5e,fragmentShader:F5e}),g=h.clone();g.defines.HORIZONTAL_PASS=1;const y=new It;y.setAttribute("position",new pn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Jr(y,h),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Mk,this.render=function(C,M,P){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const D=t.getRenderTarget(),L=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),q=t.state;q.setBlending(Sc),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);for(let j=0,oe=C.length;j<oe;j++){const le=C[j],F=le.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",le,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const Y=F.getFrameExtents();if(i.multiply(Y),s.copy(F.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/Y.x),i.x=s.x*Y.x,F.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/Y.y),i.y=s.y*Y.y,F.mapSize.y=s.y)),F.map===null&&!F.isPointLightShadow&&this.type===o0&&(F.map=new Xs(i.x,i.y),F.map.texture.name=le.name+".shadowMap",F.mapPass=new Xs(i.x,i.y),F.camera.updateProjectionMatrix()),F.map===null){const ee={minFilter:qr,magFilter:qr,format:ta};F.map=new Xs(i.x,i.y,ee),F.map.texture.name=le.name+".shadowMap",F.camera.updateProjectionMatrix()}t.setRenderTarget(F.map),t.clear();const H=F.getViewportCount();for(let ee=0;ee<H;ee++){const k=F.getViewport(ee);o.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),q.viewport(o),F.updateMatrices(le,ee),r=F.getFrustum(),E(M,P,F.camera,le,this.type)}!F.isPointLightShadow&&this.type===o0&&w(F,P),F.needsUpdate=!1}x.needsUpdate=!1,t.setRenderTarget(D,L,O)};function w(C,M){const P=e.update(_);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,g.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,g.needsUpdate=!0),h.uniforms.shadow_pass.value=C.map.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(M,null,P,h,_,null),g.uniforms.shadow_pass.value=C.mapPass.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(M,null,P,g,_,null)}function b(C,M,P,D,L,O){let q=null;const j=P.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(j!==void 0?q=j:q=P.isPointLight===!0?l:a,t.localClippingEnabled&&M.clipShadows===!0&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0){const oe=q.uuid,le=M.uuid;let F=u[oe];F===void 0&&(F={},u[oe]=F);let Y=F[le];Y===void 0&&(Y=q.clone(),F[le]=Y),q=Y}return q.visible=M.visible,q.wireframe=M.wireframe,O===o0?q.side=M.shadowSide!==null?M.shadowSide:M.side:q.side=M.shadowSide!==null?M.shadowSide:c[M.side],q.alphaMap=M.alphaMap,q.alphaTest=M.alphaTest,q.clipShadows=M.clipShadows,q.clippingPlanes=M.clippingPlanes,q.clipIntersection=M.clipIntersection,q.displacementMap=M.displacementMap,q.displacementScale=M.displacementScale,q.displacementBias=M.displacementBias,q.wireframeLinewidth=M.wireframeLinewidth,q.linewidth=M.linewidth,P.isPointLight===!0&&q.isMeshDistanceMaterial===!0&&(q.referencePosition.setFromMatrixPosition(P.matrixWorld),q.nearDistance=D,q.farDistance=L),q}function E(C,M,P,D,L){if(C.visible===!1)return;if(C.layers.test(M.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&L===o0)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,C.matrixWorld);const j=e.update(C),oe=C.material;if(Array.isArray(oe)){const le=j.groups;for(let F=0,Y=le.length;F<Y;F++){const H=le[F],ee=oe[H.materialIndex];if(ee&&ee.visible){const k=b(C,ee,D,P.near,P.far,L);t.renderBufferDirect(P,null,j,k,C,H)}}}else if(oe.visible){const le=b(C,oe,D,P.near,P.far,L);t.renderBufferDirect(P,null,j,le,C,null)}}const q=C.children;for(let j=0,oe=q.length;j<oe;j++)E(q[j],M,P,D,L)}}function N5e(t,e,n){const r=n.isWebGL2;function i(){let he=!1;const et=new zn;let Xe=null;const Lt=new zn(0,0,0,0);return{setMask:function(ct){Xe!==ct&&!he&&(t.colorMask(ct,ct,ct,ct),Xe=ct)},setLocked:function(ct){he=ct},setClear:function(ct,Dt,Je,Ft,Tn){Tn===!0&&(ct*=Ft,Dt*=Ft,Je*=Ft),et.set(ct,Dt,Je,Ft),Lt.equals(et)===!1&&(t.clearColor(ct,Dt,Je,Ft),Lt.copy(et))},reset:function(){he=!1,Xe=null,Lt.set(-1,0,0,0)}}}function s(){let he=!1,et=null,Xe=null,Lt=null;return{setTest:function(ct){ct?de(2929):ge(2929)},setMask:function(ct){et!==ct&&!he&&(t.depthMask(ct),et=ct)},setFunc:function(ct){if(Xe!==ct){if(ct)switch(ct){case GQ:t.depthFunc(512);break;case zQ:t.depthFunc(519);break;case $Q:t.depthFunc(513);break;case _T:t.depthFunc(515);break;case VQ:t.depthFunc(514);break;case WQ:t.depthFunc(518);break;case jQ:t.depthFunc(516);break;case qQ:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);Xe=ct}},setLocked:function(ct){he=ct},setClear:function(ct){Lt!==ct&&(t.clearDepth(ct),Lt=ct)},reset:function(){he=!1,et=null,Xe=null,Lt=null}}}function o(){let he=!1,et=null,Xe=null,Lt=null,ct=null,Dt=null,Je=null,Ft=null,Tn=null;return{setTest:function(ln){he||(ln?de(2960):ge(2960))},setMask:function(ln){et!==ln&&!he&&(t.stencilMask(ln),et=ln)},setFunc:function(ln,ro,Is){(Xe!==ln||Lt!==ro||ct!==Is)&&(t.stencilFunc(ln,ro,Is),Xe=ln,Lt=ro,ct=Is)},setOp:function(ln,ro,Is){(Dt!==ln||Je!==ro||Ft!==Is)&&(t.stencilOp(ln,ro,Is),Dt=ln,Je=ro,Ft=Is)},setLocked:function(ln){he=ln},setClear:function(ln){Tn!==ln&&(t.clearStencil(ln),Tn=ln)},reset:function(){he=!1,et=null,Xe=null,Lt=null,ct=null,Dt=null,Je=null,Ft=null,Tn=null}}}const a=new i,l=new s,u=new o;let f={},c={},h=new WeakMap,g=[],y=null,_=!1,x=null,w=null,b=null,E=null,C=null,M=null,P=null,D=!1,L=null,O=null,q=null,j=null,oe=null;const le=t.getParameter(35661);let F=!1,Y=0;const H=t.getParameter(7938);H.indexOf("WebGL")!==-1?(Y=parseFloat(/^WebGL (\d)/.exec(H)[1]),F=Y>=1):H.indexOf("OpenGL ES")!==-1&&(Y=parseFloat(/^OpenGL ES (\d)/.exec(H)[1]),F=Y>=2);let ee=null,k={};const G=t.getParameter(3088),$=t.getParameter(2978),ie=new zn().fromArray(G),ue=new zn().fromArray($);function xe(he,et,Xe){const Lt=new Uint8Array(4),ct=t.createTexture();t.bindTexture(he,ct),t.texParameteri(he,10241,9728),t.texParameteri(he,10240,9728);for(let Dt=0;Dt<Xe;Dt++)t.texImage2D(et+Dt,0,6408,1,1,0,6408,5121,Lt);return ct}const Oe={};Oe[3553]=xe(3553,3553,1),Oe[34067]=xe(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),de(2929),l.setFunc(_T),te(!1),J(r3),de(2884),Re(Sc);function de(he){f[he]!==!0&&(t.enable(he),f[he]=!0)}function ge(he){f[he]!==!1&&(t.disable(he),f[he]=!1)}function Ze(he,et){return c[he]!==et?(t.bindFramebuffer(he,et),c[he]=et,r&&(he===36009&&(c[36160]=et),he===36160&&(c[36009]=et)),!0):!1}function Qe(he,et){let Xe=g,Lt=!1;if(he)if(Xe=h.get(et),Xe===void 0&&(Xe=[],h.set(et,Xe)),he.isWebGLMultipleRenderTargets){const ct=he.texture;if(Xe.length!==ct.length||Xe[0]!==36064){for(let Dt=0,Je=ct.length;Dt<Je;Dt++)Xe[Dt]=36064+Dt;Xe.length=ct.length,Lt=!0}}else Xe[0]!==36064&&(Xe[0]=36064,Lt=!0);else Xe[0]!==1029&&(Xe[0]=1029,Lt=!0);Lt&&(n.isWebGL2?t.drawBuffers(Xe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Xe))}function We(he){return y!==he?(t.useProgram(he),y=he,!0):!1}const Ue={[Yd]:32774,[IQ]:32778,[LQ]:32779};if(r)Ue[a3]=32775,Ue[l3]=32776;else{const he=e.get("EXT_blend_minmax");he!==null&&(Ue[a3]=he.MIN_EXT,Ue[l3]=he.MAX_EXT)}const mt={[PQ]:0,[DQ]:1,[BQ]:768,[Lk]:770,[HQ]:776,[NQ]:774,[kQ]:772,[OQ]:769,[Pk]:771,[UQ]:775,[FQ]:773};function Re(he,et,Xe,Lt,ct,Dt,Je,Ft){if(he===Sc){_===!0&&(ge(3042),_=!1);return}if(_===!1&&(de(3042),_=!0),he!==RQ){if(he!==x||Ft!==D){if((w!==Yd||C!==Yd)&&(t.blendEquation(32774),w=Yd,C=Yd),Ft)switch(he){case gp:t.blendFuncSeparate(1,771,1,771);break;case i3:t.blendFunc(1,1);break;case s3:t.blendFuncSeparate(0,769,0,1);break;case o3:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case gp:t.blendFuncSeparate(770,771,1,771);break;case i3:t.blendFunc(770,1);break;case s3:t.blendFuncSeparate(0,769,0,1);break;case o3:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}b=null,E=null,M=null,P=null,x=he,D=Ft}return}ct=ct||et,Dt=Dt||Xe,Je=Je||Lt,(et!==w||ct!==C)&&(t.blendEquationSeparate(Ue[et],Ue[ct]),w=et,C=ct),(Xe!==b||Lt!==E||Dt!==M||Je!==P)&&(t.blendFuncSeparate(mt[Xe],mt[Lt],mt[Dt],mt[Je]),b=Xe,E=Lt,M=Dt,P=Je),x=he,D=null}function U(he,et){he.side===_h?ge(2884):de(2884);let Xe=he.side===aa;et&&(Xe=!Xe),te(Xe),he.blending===gp&&he.transparent===!1?Re(Sc):Re(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.premultipliedAlpha),l.setFunc(he.depthFunc),l.setTest(he.depthTest),l.setMask(he.depthWrite),a.setMask(he.colorWrite);const Lt=he.stencilWrite;u.setTest(Lt),Lt&&(u.setMask(he.stencilWriteMask),u.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),u.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),Pe(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?de(32926):ge(32926)}function te(he){L!==he&&(he?t.frontFace(2304):t.frontFace(2305),L=he)}function J(he){he!==CQ?(de(2884),he!==O&&(he===r3?t.cullFace(1029):he===MQ?t.cullFace(1028):t.cullFace(1032))):ge(2884),O=he}function ve(he){he!==q&&(F&&t.lineWidth(he),q=he)}function Pe(he,et,Xe){he?(de(32823),(j!==et||oe!==Xe)&&(t.polygonOffset(et,Xe),j=et,oe=Xe)):ge(32823)}function Le(he){he?de(3089):ge(3089)}function je(he){he===void 0&&(he=33984+le-1),ee!==he&&(t.activeTexture(he),ee=he)}function xt(he,et){ee===null&&je();let Xe=k[ee];Xe===void 0&&(Xe={type:void 0,texture:void 0},k[ee]=Xe),(Xe.type!==he||Xe.texture!==et)&&(t.bindTexture(he,et||Oe[he]),Xe.type=he,Xe.texture=et)}function gt(){const he=k[ee];he!==void 0&&he.type!==void 0&&(t.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function se(){try{t.compressedTexImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function X(){try{t.texSubImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ae(){try{t.texSubImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ge(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function nt(){try{t.texStorage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ot(){try{t.texStorage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Et(){try{t.texImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ie(){try{t.texImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Vt(he){ie.equals(he)===!1&&(t.scissor(he.x,he.y,he.z,he.w),ie.copy(he))}function Xt(he){ue.equals(he)===!1&&(t.viewport(he.x,he.y,he.z,he.w),ue.copy(he))}function pt(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),r===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},ee=null,k={},c={},h=new WeakMap,g=[],y=null,_=!1,x=null,w=null,b=null,E=null,C=null,M=null,P=null,D=!1,L=null,O=null,q=null,j=null,oe=null,ie.set(0,0,t.canvas.width,t.canvas.height),ue.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:de,disable:ge,bindFramebuffer:Ze,drawBuffers:Qe,useProgram:We,setBlending:Re,setMaterial:U,setFlipSided:te,setCullFace:J,setLineWidth:ve,setPolygonOffset:Pe,setScissorTest:Le,activeTexture:je,bindTexture:xt,unbindTexture:gt,compressedTexImage2D:se,texImage2D:Et,texImage3D:Ie,texStorage2D:nt,texStorage3D:ot,texSubImage2D:X,texSubImage3D:Ae,compressedTexSubImage2D:Ge,scissor:Vt,viewport:Xt,reset:pt}}function U5e(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,f=i.maxTextureSize,c=i.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,g=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let _;const x=new WeakMap;let w=!1;try{w=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(se,X){return w?new OffscreenCanvas(se,X):yx("canvas")}function E(se,X,Ae,Ge){let nt=1;if((se.width>Ge||se.height>Ge)&&(nt=Ge/Math.max(se.width,se.height)),nt<1||X===!0)if(typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap){const ot=X?wT:Math.floor,Et=ot(nt*se.width),Ie=ot(nt*se.height);_===void 0&&(_=b(Et,Ie));const Vt=Ae?b(Et,Ie):_;return Vt.width=Et,Vt.height=Ie,Vt.getContext("2d").drawImage(se,0,0,Et,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+se.width+"x"+se.height+") to ("+Et+"x"+Ie+")."),Vt}else return"data"in se&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+se.width+"x"+se.height+")."),se;return se}function C(se){return L3(se.width)&&L3(se.height)}function M(se){return a?!1:se.wrapS!==bs||se.wrapT!==bs||se.minFilter!==qr&&se.minFilter!==Ar}function P(se,X){return se.generateMipmaps&&X&&se.minFilter!==qr&&se.minFilter!==Ar}function D(se){t.generateMipmap(se)}function L(se,X,Ae,Ge,nt=!1){if(a===!1)return X;if(se!==null){if(t[se]!==void 0)return t[se];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+se+"'")}let ot=X;return X===6403&&(Ae===5126&&(ot=33326),Ae===5131&&(ot=33325),Ae===5121&&(ot=33321)),X===33319&&(Ae===5126&&(ot=33328),Ae===5131&&(ot=33327),Ae===5121&&(ot=33323)),X===6408&&(Ae===5126&&(ot=34836),Ae===5131&&(ot=34842),Ae===5121&&(ot=Ge===Ln&&nt===!1?35907:32856),Ae===32819&&(ot=32854),Ae===32820&&(ot=32855)),(ot===33325||ot===33326||ot===33327||ot===33328||ot===34842||ot===34836)&&e.get("EXT_color_buffer_float"),ot}function O(se,X,Ae){return P(se,Ae)===!0||se.isFramebufferTexture&&se.minFilter!==qr&&se.minFilter!==Ar?Math.log2(Math.max(X.width,X.height))+1:se.mipmaps!==void 0&&se.mipmaps.length>0?se.mipmaps.length:se.isCompressedTexture&&Array.isArray(se.image)?X.mipmaps.length:1}function q(se){return se===qr||se===dx||se===px?9728:9729}function j(se){const X=se.target;X.removeEventListener("dispose",j),le(X),X.isVideoTexture&&y.delete(X)}function oe(se){const X=se.target;X.removeEventListener("dispose",oe),Y(X)}function le(se){const X=r.get(se);if(X.__webglInit===void 0)return;const Ae=se.source,Ge=x.get(Ae);if(Ge){const nt=Ge[X.__cacheKey];nt.usedTimes--,nt.usedTimes===0&&F(se),Object.keys(Ge).length===0&&x.delete(Ae)}r.remove(se)}function F(se){const X=r.get(se);t.deleteTexture(X.__webglTexture);const Ae=se.source,Ge=x.get(Ae);delete Ge[X.__cacheKey],o.memory.textures--}function Y(se){const X=se.texture,Ae=r.get(se),Ge=r.get(X);if(Ge.__webglTexture!==void 0&&(t.deleteTexture(Ge.__webglTexture),o.memory.textures--),se.depthTexture&&se.depthTexture.dispose(),se.isWebGLCubeRenderTarget)for(let nt=0;nt<6;nt++)t.deleteFramebuffer(Ae.__webglFramebuffer[nt]),Ae.__webglDepthbuffer&&t.deleteRenderbuffer(Ae.__webglDepthbuffer[nt]);else t.deleteFramebuffer(Ae.__webglFramebuffer),Ae.__webglDepthbuffer&&t.deleteRenderbuffer(Ae.__webglDepthbuffer),Ae.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Ae.__webglMultisampledFramebuffer),Ae.__webglColorRenderbuffer&&t.deleteRenderbuffer(Ae.__webglColorRenderbuffer),Ae.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Ae.__webglDepthRenderbuffer);if(se.isWebGLMultipleRenderTargets)for(let nt=0,ot=X.length;nt<ot;nt++){const Et=r.get(X[nt]);Et.__webglTexture&&(t.deleteTexture(Et.__webglTexture),o.memory.textures--),r.remove(X[nt])}r.remove(X),r.remove(se)}let H=0;function ee(){H=0}function k(){const se=H;return se>=l&&console.warn("THREE.WebGLTextures: Trying to use "+se+" texture units while this GPU supports only "+l),H+=1,se}function G(se){const X=[];return X.push(se.wrapS),X.push(se.wrapT),X.push(se.magFilter),X.push(se.minFilter),X.push(se.anisotropy),X.push(se.internalFormat),X.push(se.format),X.push(se.type),X.push(se.generateMipmaps),X.push(se.premultiplyAlpha),X.push(se.flipY),X.push(se.unpackAlignment),X.push(se.encoding),X.join()}function $(se,X){const Ae=r.get(se);if(se.isVideoTexture&&xt(se),se.isRenderTargetTexture===!1&&se.version>0&&Ae.__version!==se.version){const Ge=se.image;if(Ge===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ge.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Qe(Ae,se,X);return}}n.activeTexture(33984+X),n.bindTexture(3553,Ae.__webglTexture)}function ie(se,X){const Ae=r.get(se);if(se.version>0&&Ae.__version!==se.version){Qe(Ae,se,X);return}n.activeTexture(33984+X),n.bindTexture(35866,Ae.__webglTexture)}function ue(se,X){const Ae=r.get(se);if(se.version>0&&Ae.__version!==se.version){Qe(Ae,se,X);return}n.activeTexture(33984+X),n.bindTexture(32879,Ae.__webglTexture)}function xe(se,X){const Ae=r.get(se);if(se.version>0&&Ae.__version!==se.version){We(Ae,se,X);return}n.activeTexture(33984+X),n.bindTexture(34067,Ae.__webglTexture)}const Oe={[Pc]:10497,[bs]:33071,[K0]:33648},de={[qr]:9728,[dx]:9984,[px]:9986,[Ar]:9729,[oM]:9985,[Hc]:9987};function ge(se,X,Ae){if(Ae?(t.texParameteri(se,10242,Oe[X.wrapS]),t.texParameteri(se,10243,Oe[X.wrapT]),(se===32879||se===35866)&&t.texParameteri(se,32882,Oe[X.wrapR]),t.texParameteri(se,10240,de[X.magFilter]),t.texParameteri(se,10241,de[X.minFilter])):(t.texParameteri(se,10242,33071),t.texParameteri(se,10243,33071),(se===32879||se===35866)&&t.texParameteri(se,32882,33071),(X.wrapS!==bs||X.wrapT!==bs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(se,10240,q(X.magFilter)),t.texParameteri(se,10241,q(X.minFilter)),X.minFilter!==qr&&X.minFilter!==Ar&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ge=e.get("EXT_texture_filter_anisotropic");if(X.type===wc&&e.has("OES_texture_float_linear")===!1||a===!1&&X.type===J0&&e.has("OES_texture_half_float_linear")===!1)return;(X.anisotropy>1||r.get(X).__currentAnisotropy)&&(t.texParameterf(se,Ge.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,i.getMaxAnisotropy())),r.get(X).__currentAnisotropy=X.anisotropy)}}function Ze(se,X){let Ae=!1;se.__webglInit===void 0&&(se.__webglInit=!0,X.addEventListener("dispose",j));const Ge=X.source;let nt=x.get(Ge);nt===void 0&&(nt={},x.set(Ge,nt));const ot=G(X);if(ot!==se.__cacheKey){nt[ot]===void 0&&(nt[ot]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Ae=!0),nt[ot].usedTimes++;const Et=nt[se.__cacheKey];Et!==void 0&&(nt[se.__cacheKey].usedTimes--,Et.usedTimes===0&&F(X)),se.__cacheKey=ot,se.__webglTexture=nt[ot].texture}return Ae}function Qe(se,X,Ae){let Ge=3553;X.isDataArrayTexture&&(Ge=35866),X.isData3DTexture&&(Ge=32879);const nt=Ze(se,X),ot=X.source;if(n.activeTexture(33984+Ae),n.bindTexture(Ge,se.__webglTexture),ot.version!==ot.__currentVersion||nt===!0){t.pixelStorei(37440,X.flipY),t.pixelStorei(37441,X.premultiplyAlpha),t.pixelStorei(3317,X.unpackAlignment),t.pixelStorei(37443,0);const Et=M(X)&&C(X.image)===!1;let Ie=E(X.image,Et,!1,f);Ie=gt(X,Ie);const Vt=C(Ie)||a,Xt=s.convert(X.format,X.encoding);let pt=s.convert(X.type),he=L(X.internalFormat,Xt,pt,X.encoding,X.isVideoTexture);ge(Ge,X,Vt);let et;const Xe=X.mipmaps,Lt=a&&X.isVideoTexture!==!0,ct=se.__version===void 0||nt===!0,Dt=O(X,Ie,Vt);if(X.isDepthTexture)he=6402,a?X.type===wc?he=36012:X.type===d_?he=33190:X.type===yp?he=35056:he=33189:X.type===wc&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),X.format===sh&&he===6402&&X.type!==Q0&&X.type!==d_&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),X.type=Q0,pt=s.convert(X.type)),X.format===Np&&he===6402&&(he=34041,X.type!==yp&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),X.type=yp,pt=s.convert(X.type))),ct&&(Lt?n.texStorage2D(3553,1,he,Ie.width,Ie.height):n.texImage2D(3553,0,he,Ie.width,Ie.height,0,Xt,pt,null));else if(X.isDataTexture)if(Xe.length>0&&Vt){Lt&&ct&&n.texStorage2D(3553,Dt,he,Xe[0].width,Xe[0].height);for(let Je=0,Ft=Xe.length;Je<Ft;Je++)et=Xe[Je],Lt?n.texSubImage2D(3553,Je,0,0,et.width,et.height,Xt,pt,et.data):n.texImage2D(3553,Je,he,et.width,et.height,0,Xt,pt,et.data);X.generateMipmaps=!1}else Lt?(ct&&n.texStorage2D(3553,Dt,he,Ie.width,Ie.height),n.texSubImage2D(3553,0,0,0,Ie.width,Ie.height,Xt,pt,Ie.data)):n.texImage2D(3553,0,he,Ie.width,Ie.height,0,Xt,pt,Ie.data);else if(X.isCompressedTexture){Lt&&ct&&n.texStorage2D(3553,Dt,he,Xe[0].width,Xe[0].height);for(let Je=0,Ft=Xe.length;Je<Ft;Je++)et=Xe[Je],X.format!==ta?Xt!==null?Lt?n.compressedTexSubImage2D(3553,Je,0,0,et.width,et.height,Xt,et.data):n.compressedTexImage2D(3553,Je,he,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Lt?n.texSubImage2D(3553,Je,0,0,et.width,et.height,Xt,pt,et.data):n.texImage2D(3553,Je,he,et.width,et.height,0,Xt,pt,et.data)}else if(X.isDataArrayTexture)Lt?(ct&&n.texStorage3D(35866,Dt,he,Ie.width,Ie.height,Ie.depth),n.texSubImage3D(35866,0,0,0,0,Ie.width,Ie.height,Ie.depth,Xt,pt,Ie.data)):n.texImage3D(35866,0,he,Ie.width,Ie.height,Ie.depth,0,Xt,pt,Ie.data);else if(X.isData3DTexture)Lt?(ct&&n.texStorage3D(32879,Dt,he,Ie.width,Ie.height,Ie.depth),n.texSubImage3D(32879,0,0,0,0,Ie.width,Ie.height,Ie.depth,Xt,pt,Ie.data)):n.texImage3D(32879,0,he,Ie.width,Ie.height,Ie.depth,0,Xt,pt,Ie.data);else if(X.isFramebufferTexture){if(ct)if(Lt)n.texStorage2D(3553,Dt,he,Ie.width,Ie.height);else{let Je=Ie.width,Ft=Ie.height;for(let Tn=0;Tn<Dt;Tn++)n.texImage2D(3553,Tn,he,Je,Ft,0,Xt,pt,null),Je>>=1,Ft>>=1}}else if(Xe.length>0&&Vt){Lt&&ct&&n.texStorage2D(3553,Dt,he,Xe[0].width,Xe[0].height);for(let Je=0,Ft=Xe.length;Je<Ft;Je++)et=Xe[Je],Lt?n.texSubImage2D(3553,Je,0,0,Xt,pt,et):n.texImage2D(3553,Je,he,Xt,pt,et);X.generateMipmaps=!1}else Lt?(ct&&n.texStorage2D(3553,Dt,he,Ie.width,Ie.height),n.texSubImage2D(3553,0,0,0,Xt,pt,Ie)):n.texImage2D(3553,0,he,Xt,pt,Ie);P(X,Vt)&&D(Ge),ot.__currentVersion=ot.version,X.onUpdate&&X.onUpdate(X)}se.__version=X.version}function We(se,X,Ae){if(X.image.length!==6)return;const Ge=Ze(se,X),nt=X.source;if(n.activeTexture(33984+Ae),n.bindTexture(34067,se.__webglTexture),nt.version!==nt.__currentVersion||Ge===!0){t.pixelStorei(37440,X.flipY),t.pixelStorei(37441,X.premultiplyAlpha),t.pixelStorei(3317,X.unpackAlignment),t.pixelStorei(37443,0);const ot=X.isCompressedTexture||X.image[0].isCompressedTexture,Et=X.image[0]&&X.image[0].isDataTexture,Ie=[];for(let Je=0;Je<6;Je++)!ot&&!Et?Ie[Je]=E(X.image[Je],!1,!0,u):Ie[Je]=Et?X.image[Je].image:X.image[Je],Ie[Je]=gt(X,Ie[Je]);const Vt=Ie[0],Xt=C(Vt)||a,pt=s.convert(X.format,X.encoding),he=s.convert(X.type),et=L(X.internalFormat,pt,he,X.encoding),Xe=a&&X.isVideoTexture!==!0,Lt=se.__version===void 0;let ct=O(X,Vt,Xt);ge(34067,X,Xt);let Dt;if(ot){Xe&&Lt&&n.texStorage2D(34067,ct,et,Vt.width,Vt.height);for(let Je=0;Je<6;Je++){Dt=Ie[Je].mipmaps;for(let Ft=0;Ft<Dt.length;Ft++){const Tn=Dt[Ft];X.format!==ta?pt!==null?Xe?n.compressedTexSubImage2D(34069+Je,Ft,0,0,Tn.width,Tn.height,pt,Tn.data):n.compressedTexImage2D(34069+Je,Ft,et,Tn.width,Tn.height,0,Tn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Xe?n.texSubImage2D(34069+Je,Ft,0,0,Tn.width,Tn.height,pt,he,Tn.data):n.texImage2D(34069+Je,Ft,et,Tn.width,Tn.height,0,pt,he,Tn.data)}}}else{Dt=X.mipmaps,Xe&&Lt&&(Dt.length>0&&ct++,n.texStorage2D(34067,ct,et,Ie[0].width,Ie[0].height));for(let Je=0;Je<6;Je++)if(Et){Xe?n.texSubImage2D(34069+Je,0,0,0,Ie[Je].width,Ie[Je].height,pt,he,Ie[Je].data):n.texImage2D(34069+Je,0,et,Ie[Je].width,Ie[Je].height,0,pt,he,Ie[Je].data);for(let Ft=0;Ft<Dt.length;Ft++){const ln=Dt[Ft].image[Je].image;Xe?n.texSubImage2D(34069+Je,Ft+1,0,0,ln.width,ln.height,pt,he,ln.data):n.texImage2D(34069+Je,Ft+1,et,ln.width,ln.height,0,pt,he,ln.data)}}else{Xe?n.texSubImage2D(34069+Je,0,0,0,pt,he,Ie[Je]):n.texImage2D(34069+Je,0,et,pt,he,Ie[Je]);for(let Ft=0;Ft<Dt.length;Ft++){const Tn=Dt[Ft];Xe?n.texSubImage2D(34069+Je,Ft+1,0,0,pt,he,Tn.image[Je]):n.texImage2D(34069+Je,Ft+1,et,pt,he,Tn.image[Je])}}}P(X,Xt)&&D(34067),nt.__currentVersion=nt.version,X.onUpdate&&X.onUpdate(X)}se.__version=X.version}function Ue(se,X,Ae,Ge,nt){const ot=s.convert(Ae.format,Ae.encoding),Et=s.convert(Ae.type),Ie=L(Ae.internalFormat,ot,Et,Ae.encoding);r.get(X).__hasExternalTextures||(nt===32879||nt===35866?n.texImage3D(nt,0,Ie,X.width,X.height,X.depth,0,ot,Et,null):n.texImage2D(nt,0,Ie,X.width,X.height,0,ot,Et,null)),n.bindFramebuffer(36160,se),je(X)?h.framebufferTexture2DMultisampleEXT(36160,Ge,nt,r.get(Ae).__webglTexture,0,Le(X)):t.framebufferTexture2D(36160,Ge,nt,r.get(Ae).__webglTexture,0),n.bindFramebuffer(36160,null)}function mt(se,X,Ae){if(t.bindRenderbuffer(36161,se),X.depthBuffer&&!X.stencilBuffer){let Ge=33189;if(Ae||je(X)){const nt=X.depthTexture;nt&&nt.isDepthTexture&&(nt.type===wc?Ge=36012:nt.type===d_&&(Ge=33190));const ot=Le(X);je(X)?h.renderbufferStorageMultisampleEXT(36161,ot,Ge,X.width,X.height):t.renderbufferStorageMultisample(36161,ot,Ge,X.width,X.height)}else t.renderbufferStorage(36161,Ge,X.width,X.height);t.framebufferRenderbuffer(36160,36096,36161,se)}else if(X.depthBuffer&&X.stencilBuffer){const Ge=Le(X);Ae&&je(X)===!1?t.renderbufferStorageMultisample(36161,Ge,35056,X.width,X.height):je(X)?h.renderbufferStorageMultisampleEXT(36161,Ge,35056,X.width,X.height):t.renderbufferStorage(36161,34041,X.width,X.height),t.framebufferRenderbuffer(36160,33306,36161,se)}else{const Ge=X.isWebGLMultipleRenderTargets===!0?X.texture[0]:X.texture,nt=s.convert(Ge.format,Ge.encoding),ot=s.convert(Ge.type),Et=L(Ge.internalFormat,nt,ot,Ge.encoding),Ie=Le(X);Ae&&je(X)===!1?t.renderbufferStorageMultisample(36161,Ie,Et,X.width,X.height):je(X)?h.renderbufferStorageMultisampleEXT(36161,Ie,Et,X.width,X.height):t.renderbufferStorage(36161,Et,X.width,X.height)}t.bindRenderbuffer(36161,null)}function Re(se,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,se),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(X.depthTexture).__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),$(X.depthTexture,0);const Ge=r.get(X.depthTexture).__webglTexture,nt=Le(X);if(X.depthTexture.format===sh)je(X)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ge,0,nt):t.framebufferTexture2D(36160,36096,3553,Ge,0);else if(X.depthTexture.format===Np)je(X)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ge,0,nt):t.framebufferTexture2D(36160,33306,3553,Ge,0);else throw new Error("Unknown depthTexture format")}function U(se){const X=r.get(se),Ae=se.isWebGLCubeRenderTarget===!0;if(se.depthTexture&&!X.__autoAllocateDepthBuffer){if(Ae)throw new Error("target.depthTexture not supported in Cube render targets");Re(X.__webglFramebuffer,se)}else if(Ae){X.__webglDepthbuffer=[];for(let Ge=0;Ge<6;Ge++)n.bindFramebuffer(36160,X.__webglFramebuffer[Ge]),X.__webglDepthbuffer[Ge]=t.createRenderbuffer(),mt(X.__webglDepthbuffer[Ge],se,!1)}else n.bindFramebuffer(36160,X.__webglFramebuffer),X.__webglDepthbuffer=t.createRenderbuffer(),mt(X.__webglDepthbuffer,se,!1);n.bindFramebuffer(36160,null)}function te(se,X,Ae){const Ge=r.get(se);X!==void 0&&Ue(Ge.__webglFramebuffer,se,se.texture,36064,3553),Ae!==void 0&&U(se)}function J(se){const X=se.texture,Ae=r.get(se),Ge=r.get(X);se.addEventListener("dispose",oe),se.isWebGLMultipleRenderTargets!==!0&&(Ge.__webglTexture===void 0&&(Ge.__webglTexture=t.createTexture()),Ge.__version=X.version,o.memory.textures++);const nt=se.isWebGLCubeRenderTarget===!0,ot=se.isWebGLMultipleRenderTargets===!0,Et=C(se)||a;if(nt){Ae.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)Ae.__webglFramebuffer[Ie]=t.createFramebuffer()}else if(Ae.__webglFramebuffer=t.createFramebuffer(),ot)if(i.drawBuffers){const Ie=se.texture;for(let Vt=0,Xt=Ie.length;Vt<Xt;Vt++){const pt=r.get(Ie[Vt]);pt.__webglTexture===void 0&&(pt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&se.samples>0&&je(se)===!1){Ae.__webglMultisampledFramebuffer=t.createFramebuffer(),Ae.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,Ae.__webglColorRenderbuffer);const Ie=s.convert(X.format,X.encoding),Vt=s.convert(X.type),Xt=L(X.internalFormat,Ie,Vt,X.encoding),pt=Le(se);t.renderbufferStorageMultisample(36161,pt,Xt,se.width,se.height),n.bindFramebuffer(36160,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,Ae.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),se.depthBuffer&&(Ae.__webglDepthRenderbuffer=t.createRenderbuffer(),mt(Ae.__webglDepthRenderbuffer,se,!0)),n.bindFramebuffer(36160,null)}if(nt){n.bindTexture(34067,Ge.__webglTexture),ge(34067,X,Et);for(let Ie=0;Ie<6;Ie++)Ue(Ae.__webglFramebuffer[Ie],se,X,36064,34069+Ie);P(X,Et)&&D(34067),n.unbindTexture()}else if(ot){const Ie=se.texture;for(let Vt=0,Xt=Ie.length;Vt<Xt;Vt++){const pt=Ie[Vt],he=r.get(pt);n.bindTexture(3553,he.__webglTexture),ge(3553,pt,Et),Ue(Ae.__webglFramebuffer,se,pt,36064+Vt,3553),P(pt,Et)&&D(3553)}n.unbindTexture()}else{let Ie=3553;(se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(a?Ie=se.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ie,Ge.__webglTexture),ge(Ie,X,Et),Ue(Ae.__webglFramebuffer,se,X,36064,Ie),P(X,Et)&&D(Ie),n.unbindTexture()}se.depthBuffer&&U(se)}function ve(se){const X=C(se)||a,Ae=se.isWebGLMultipleRenderTargets===!0?se.texture:[se.texture];for(let Ge=0,nt=Ae.length;Ge<nt;Ge++){const ot=Ae[Ge];if(P(ot,X)){const Et=se.isWebGLCubeRenderTarget?34067:3553,Ie=r.get(ot).__webglTexture;n.bindTexture(Et,Ie),D(Et),n.unbindTexture()}}}function Pe(se){if(a&&se.samples>0&&je(se)===!1){const X=se.width,Ae=se.height;let Ge=16384;const nt=[36064],ot=se.stencilBuffer?33306:36096;se.depthBuffer&&nt.push(ot);const Et=r.get(se),Ie=Et.__ignoreDepthValues!==void 0?Et.__ignoreDepthValues:!1;Ie===!1&&(se.depthBuffer&&(Ge|=256),se.stencilBuffer&&(Ge|=1024)),n.bindFramebuffer(36008,Et.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Et.__webglFramebuffer),Ie===!0&&(t.invalidateFramebuffer(36008,[ot]),t.invalidateFramebuffer(36009,[ot])),t.blitFramebuffer(0,0,X,Ae,0,0,X,Ae,Ge,9728),g&&t.invalidateFramebuffer(36008,nt),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,Et.__webglMultisampledFramebuffer)}}function Le(se){return Math.min(c,se.samples)}function je(se){const X=r.get(se);return a&&se.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function xt(se){const X=o.render.frame;y.get(se)!==X&&(y.set(se,X),se.update())}function gt(se,X){const Ae=se.encoding,Ge=se.format,nt=se.type;return se.isCompressedTexture===!0||se.isVideoTexture===!0||se.format===xT||Ae!==Mu&&(Ae===Ln?a===!1?e.has("EXT_sRGB")===!0&&Ge===ta?(se.format=xT,se.minFilter=Ar,se.generateMipmaps=!1):X=Nh.sRGBToLinear(X):(Ge!==ta||nt!==bh)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Ae)),X}this.allocateTextureUnit=k,this.resetTextureUnits=ee,this.setTexture2D=$,this.setTexture2DArray=ie,this.setTexture3D=ue,this.setTextureCube=xe,this.rebindTextures=te,this.setupRenderTarget=J,this.updateRenderTargetMipmap=ve,this.updateMultisampleRenderTarget=Pe,this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=je}function jJ(t,e,n){const r=n.isWebGL2;function i(s,o=null){let a;if(s===bh)return 5121;if(s===rJ)return 32819;if(s===iJ)return 32820;if(s===eJ)return 5120;if(s===tJ)return 5122;if(s===Q0)return 5123;if(s===nJ)return 5124;if(s===d_)return 5125;if(s===wc)return 5126;if(s===J0)return r?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===sJ)return 6406;if(s===ta)return 6408;if(s===aJ)return 6409;if(s===lJ)return 6410;if(s===sh)return 6402;if(s===Np)return 34041;if(s===uJ)return 6403;if(s===oJ)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(s===xT)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===cJ)return 36244;if(s===fJ)return 33319;if(s===hJ)return 33320;if(s===dJ)return 36249;if(s===jA||s===qA||s===KA||s===QA)if(o===Ln)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===jA)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===qA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===KA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===QA)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===jA)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===qA)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===KA)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===QA)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===u3||s===c3||s===f3||s===h3)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===u3)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===c3)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===f3)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===h3)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===pJ)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===d3||s===p3)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===d3)return o===Ln?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===p3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===m3||s===g3||s===y3||s===v3||s===_3||s===x3||s===w3||s===b3||s===S3||s===A3||s===E3||s===T3||s===C3||s===M3)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===m3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===g3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===y3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===v3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===_3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===x3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===w3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===b3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===S3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===A3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===E3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===T3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===C3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===M3)return o===Ln?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===R3)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===R3)return o===Ln?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return s===yp?r?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class Nk extends oi{constructor(e=[]){super(),this.cameras=e}}Nk.prototype.isArrayCamera=!0;class mu extends mn{constructor(){super(),this.type="Group"}}mu.prototype.isGroup=!0;const H5e={type:"move"};class fI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new mu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new mu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Q,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Q),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new mu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Q,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Q),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred")if(a!==null&&(i=n.getPose(e.targetRaySpace,r),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(H5e))),u&&e.hand){o=!0;for(const _ of e.hand.values()){const x=n.getJointPose(_,r);if(u.joints[_.jointName]===void 0){const b=new mu;b.matrixAutoUpdate=!1,b.visible=!1,u.joints[_.jointName]=b,u.add(b)}const w=u.joints[_.jointName];x!==null&&(w.matrix.fromArray(x.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.jointRadius=x.radius),w.visible=x!==null}const f=u.joints["index-finger-tip"],c=u.joints["thumb-tip"],h=f.position.distanceTo(c.position),g=.02,y=.005;u.inputState.pinching&&h>g+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=g-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}}class Uk extends Mr{constructor(e,n,r,i,s,o,a,l,u,f){if(f=f!==void 0?f:sh,f!==sh&&f!==Np)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&f===sh&&(r=Q0),r===void 0&&f===Np&&(r=yp),super(null,i,s,o,a,l,f,r,u),this.image={width:e,height:n},this.magFilter=a!==void 0?a:qr,this.minFilter=l!==void 0?l:qr,this.flipY=!1,this.generateMipmaps=!1}}Uk.prototype.isDepthTexture=!0;class G5e extends Fh{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=null,u=null,f=null,c=null,h=null,g=null;const y=n.getContextAttributes();let _=null,x=null;const w=[],b=new Map,E=new oi;E.layers.enable(1),E.viewport=new zn;const C=new oi;C.layers.enable(2),C.viewport=new zn;const M=[E,C],P=new Nk;P.layers.enable(1),P.layers.enable(2);let D=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(G){let $=w[G];return $===void 0&&($=new fI,w[G]=$),$.getTargetRaySpace()},this.getControllerGrip=function(G){let $=w[G];return $===void 0&&($=new fI,w[G]=$),$.getGripSpace()},this.getHand=function(G){let $=w[G];return $===void 0&&($=new fI,w[G]=$),$.getHandSpace()};function O(G){const $=b.get(G.inputSource);$&&$.dispatchEvent({type:G.type,data:G.inputSource})}function q(){b.forEach(function(G,$){G.disconnect($)}),b.clear(),D=null,L=null,e.setRenderTarget(_),h=null,c=null,f=null,i=null,x=null,k.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(G){s=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(G){a=G,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(G){l=G},this.getBaseLayer=function(){return c!==null?c:h},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(G){if(i=G,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",O),i.addEventListener("selectstart",O),i.addEventListener("selectend",O),i.addEventListener("squeeze",O),i.addEventListener("squeezestart",O),i.addEventListener("squeezeend",O),i.addEventListener("end",q),i.addEventListener("inputsourceschange",j),y.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const $={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:y.alpha,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,n,$),i.updateRenderState({baseLayer:h}),x=new Xs(h.framebufferWidth,h.framebufferHeight,{format:ta,type:bh,encoding:e.outputEncoding})}else{let $=null,ie=null,ue=null;y.depth&&(ue=y.stencil?35056:33190,$=y.stencil?Np:sh,ie=y.stencil?yp:Q0);const xe={colorFormat:e.outputEncoding===Ln?35907:32856,depthFormat:ue,scaleFactor:s};f=new XRWebGLBinding(i,n),c=f.createProjectionLayer(xe),i.updateRenderState({layers:[c]}),x=new Xs(c.textureWidth,c.textureHeight,{format:ta,type:bh,depthTexture:new Uk(c.textureWidth,c.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,$),stencilBuffer:y.stencil,encoding:e.outputEncoding,samples:y.antialias?4:0});const Oe=e.properties.get(x);Oe.__ignoreDepthValues=c.ignoreDepthValues}x.isXRRenderTarget=!0,this.setFoveation(1),o=await i.requestReferenceSpace(a),k.setContext(i),k.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function j(G){const $=i.inputSources;for(let ie=0;ie<$.length;ie++){const ue=$[ie].handedness==="right"?1:0;b.set($[ie],w[ue])}for(let ie=0;ie<G.removed.length;ie++){const ue=G.removed[ie],xe=b.get(ue);xe&&(xe.dispatchEvent({type:"disconnected",data:ue}),b.delete(ue))}for(let ie=0;ie<G.added.length;ie++){const ue=G.added[ie],xe=b.get(ue);xe&&xe.dispatchEvent({type:"connected",data:ue})}}const oe=new Q,le=new Q;function F(G,$,ie){oe.setFromMatrixPosition($.matrixWorld),le.setFromMatrixPosition(ie.matrixWorld);const ue=oe.distanceTo(le),xe=$.projectionMatrix.elements,Oe=ie.projectionMatrix.elements,de=xe[14]/(xe[10]-1),ge=xe[14]/(xe[10]+1),Ze=(xe[9]+1)/xe[5],Qe=(xe[9]-1)/xe[5],We=(xe[8]-1)/xe[0],Ue=(Oe[8]+1)/Oe[0],mt=de*We,Re=de*Ue,U=ue/(-We+Ue),te=U*-We;$.matrixWorld.decompose(G.position,G.quaternion,G.scale),G.translateX(te),G.translateZ(U),G.matrixWorld.compose(G.position,G.quaternion,G.scale),G.matrixWorldInverse.copy(G.matrixWorld).invert();const J=de+U,ve=ge+U,Pe=mt-te,Le=Re+(ue-te),je=Ze*ge/ve*J,xt=Qe*ge/ve*J;G.projectionMatrix.makePerspective(Pe,Le,je,xt,J,ve)}function Y(G,$){$===null?G.matrixWorld.copy(G.matrix):G.matrixWorld.multiplyMatrices($.matrixWorld,G.matrix),G.matrixWorldInverse.copy(G.matrixWorld).invert()}this.updateCamera=function(G){if(i===null)return;P.near=C.near=E.near=G.near,P.far=C.far=E.far=G.far,(D!==P.near||L!==P.far)&&(i.updateRenderState({depthNear:P.near,depthFar:P.far}),D=P.near,L=P.far);const $=G.parent,ie=P.cameras;Y(P,$);for(let xe=0;xe<ie.length;xe++)Y(ie[xe],$);P.matrixWorld.decompose(P.position,P.quaternion,P.scale),G.position.copy(P.position),G.quaternion.copy(P.quaternion),G.scale.copy(P.scale),G.matrix.copy(P.matrix),G.matrixWorld.copy(P.matrixWorld);const ue=G.children;for(let xe=0,Oe=ue.length;xe<Oe;xe++)ue[xe].updateMatrixWorld(!0);ie.length===2?F(P,E,C):P.projectionMatrix.copy(E.projectionMatrix)},this.getCamera=function(){return P},this.getFoveation=function(){if(c!==null)return c.fixedFoveation;if(h!==null)return h.fixedFoveation},this.setFoveation=function(G){c!==null&&(c.fixedFoveation=G),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=G)};let H=null;function ee(G,$){if(u=$.getViewerPose(l||o),g=$,u!==null){const ue=u.views;h!==null&&(e.setRenderTargetFramebuffer(x,h.framebuffer),e.setRenderTarget(x));let xe=!1;ue.length!==P.cameras.length&&(P.cameras.length=0,xe=!0);for(let Oe=0;Oe<ue.length;Oe++){const de=ue[Oe];let ge=null;if(h!==null)ge=h.getViewport(de);else{const Qe=f.getViewSubImage(c,de);ge=Qe.viewport,Oe===0&&(e.setRenderTargetTextures(x,Qe.colorTexture,c.ignoreDepthValues?void 0:Qe.depthStencilTexture),e.setRenderTarget(x))}const Ze=M[Oe];Ze.matrix.fromArray(de.transform.matrix),Ze.projectionMatrix.fromArray(de.projectionMatrix),Ze.viewport.set(ge.x,ge.y,ge.width,ge.height),Oe===0&&P.matrix.copy(Ze.matrix),xe===!0&&P.cameras.push(Ze)}}const ie=i.inputSources;for(let ue=0;ue<w.length;ue++){const xe=ie[ue],Oe=b.get(xe);Oe!==void 0&&Oe.update(xe,$,l||o)}H&&H(G,$),g=null}const k=new NJ;k.setAnimationLoop(ee),this.setAnimationLoop=function(G){H=G},this.dispose=function(){}}}function z5e(t,e){function n(_,x){_.fogColor.value.copy(x.color),x.isFog?(_.fogNear.value=x.near,_.fogFar.value=x.far):x.isFogExp2&&(_.fogDensity.value=x.density)}function r(_,x,w,b,E){x.isMeshBasicMaterial||x.isMeshLambertMaterial?i(_,x):x.isMeshToonMaterial?(i(_,x),f(_,x)):x.isMeshPhongMaterial?(i(_,x),u(_,x)):x.isMeshStandardMaterial?(i(_,x),c(_,x),x.isMeshPhysicalMaterial&&h(_,x,E)):x.isMeshMatcapMaterial?(i(_,x),g(_,x)):x.isMeshDepthMaterial?i(_,x):x.isMeshDistanceMaterial?(i(_,x),y(_,x)):x.isMeshNormalMaterial?i(_,x):x.isLineBasicMaterial?(s(_,x),x.isLineDashedMaterial&&o(_,x)):x.isPointsMaterial?a(_,x,w,b):x.isSpriteMaterial?l(_,x):x.isShadowMaterial?(_.color.value.copy(x.color),_.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function i(_,x){_.opacity.value=x.opacity,x.color&&_.diffuse.value.copy(x.color),x.emissive&&_.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(_.map.value=x.map),x.alphaMap&&(_.alphaMap.value=x.alphaMap),x.bumpMap&&(_.bumpMap.value=x.bumpMap,_.bumpScale.value=x.bumpScale,x.side===aa&&(_.bumpScale.value*=-1)),x.displacementMap&&(_.displacementMap.value=x.displacementMap,_.displacementScale.value=x.displacementScale,_.displacementBias.value=x.displacementBias),x.emissiveMap&&(_.emissiveMap.value=x.emissiveMap),x.normalMap&&(_.normalMap.value=x.normalMap,_.normalScale.value.copy(x.normalScale),x.side===aa&&_.normalScale.value.negate()),x.specularMap&&(_.specularMap.value=x.specularMap),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest);const w=e.get(x).envMap;if(w&&(_.envMap.value=w,_.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=x.reflectivity,_.ior.value=x.ior,_.refractionRatio.value=x.refractionRatio),x.lightMap){_.lightMap.value=x.lightMap;const C=t.physicallyCorrectLights!==!0?Math.PI:1;_.lightMapIntensity.value=x.lightMapIntensity*C}x.aoMap&&(_.aoMap.value=x.aoMap,_.aoMapIntensity.value=x.aoMapIntensity);let b;x.map?b=x.map:x.specularMap?b=x.specularMap:x.displacementMap?b=x.displacementMap:x.normalMap?b=x.normalMap:x.bumpMap?b=x.bumpMap:x.roughnessMap?b=x.roughnessMap:x.metalnessMap?b=x.metalnessMap:x.alphaMap?b=x.alphaMap:x.emissiveMap?b=x.emissiveMap:x.clearcoatMap?b=x.clearcoatMap:x.clearcoatNormalMap?b=x.clearcoatNormalMap:x.clearcoatRoughnessMap?b=x.clearcoatRoughnessMap:x.specularIntensityMap?b=x.specularIntensityMap:x.specularColorMap?b=x.specularColorMap:x.transmissionMap?b=x.transmissionMap:x.thicknessMap?b=x.thicknessMap:x.sheenColorMap?b=x.sheenColorMap:x.sheenRoughnessMap&&(b=x.sheenRoughnessMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),_.uvTransform.value.copy(b.matrix));let E;x.aoMap?E=x.aoMap:x.lightMap&&(E=x.lightMap),E!==void 0&&(E.isWebGLRenderTarget&&(E=E.texture),E.matrixAutoUpdate===!0&&E.updateMatrix(),_.uv2Transform.value.copy(E.matrix))}function s(_,x){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity}function o(_,x){_.dashSize.value=x.dashSize,_.totalSize.value=x.dashSize+x.gapSize,_.scale.value=x.scale}function a(_,x,w,b){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,_.size.value=x.size*w,_.scale.value=b*.5,x.map&&(_.map.value=x.map),x.alphaMap&&(_.alphaMap.value=x.alphaMap),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest);let E;x.map?E=x.map:x.alphaMap&&(E=x.alphaMap),E!==void 0&&(E.matrixAutoUpdate===!0&&E.updateMatrix(),_.uvTransform.value.copy(E.matrix))}function l(_,x){_.diffuse.value.copy(x.color),_.opacity.value=x.opacity,_.rotation.value=x.rotation,x.map&&(_.map.value=x.map),x.alphaMap&&(_.alphaMap.value=x.alphaMap),x.alphaTest>0&&(_.alphaTest.value=x.alphaTest);let w;x.map?w=x.map:x.alphaMap&&(w=x.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),_.uvTransform.value.copy(w.matrix))}function u(_,x){_.specular.value.copy(x.specular),_.shininess.value=Math.max(x.shininess,1e-4)}function f(_,x){x.gradientMap&&(_.gradientMap.value=x.gradientMap)}function c(_,x){_.roughness.value=x.roughness,_.metalness.value=x.metalness,x.roughnessMap&&(_.roughnessMap.value=x.roughnessMap),x.metalnessMap&&(_.metalnessMap.value=x.metalnessMap),e.get(x).envMap&&(_.envMapIntensity.value=x.envMapIntensity)}function h(_,x,w){_.ior.value=x.ior,x.sheen>0&&(_.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),_.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(_.sheenColorMap.value=x.sheenColorMap),x.sheenRoughnessMap&&(_.sheenRoughnessMap.value=x.sheenRoughnessMap)),x.clearcoat>0&&(_.clearcoat.value=x.clearcoat,_.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(_.clearcoatMap.value=x.clearcoatMap),x.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap),x.clearcoatNormalMap&&(_.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),_.clearcoatNormalMap.value=x.clearcoatNormalMap,x.side===aa&&_.clearcoatNormalScale.value.negate())),x.transmission>0&&(_.transmission.value=x.transmission,_.transmissionSamplerMap.value=w.texture,_.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(_.transmissionMap.value=x.transmissionMap),_.thickness.value=x.thickness,x.thicknessMap&&(_.thicknessMap.value=x.thicknessMap),_.attenuationDistance.value=x.attenuationDistance,_.attenuationColor.value.copy(x.attenuationColor)),_.specularIntensity.value=x.specularIntensity,_.specularColor.value.copy(x.specularColor),x.specularIntensityMap&&(_.specularIntensityMap.value=x.specularIntensityMap),x.specularColorMap&&(_.specularColorMap.value=x.specularColorMap)}function g(_,x){x.matcap&&(_.matcap.value=x.matcap)}function y(_,x){_.referencePosition.value.copy(x.referencePosition),_.nearDistance.value=x.nearDistance,_.farDistance.value=x.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:r}}function $5e(){const t=yx("canvas");return t.style.display="block",t}function $n(t={}){const e=t.canvas!==void 0?t.canvas:$5e(),n=t.context!==void 0?t.context:null,r=t.depth!==void 0?t.depth:!0,i=t.stencil!==void 0?t.stencil:!0,s=t.antialias!==void 0?t.antialias:!1,o=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let f;n!==null?f=n.getContextAttributes().alpha:f=t.alpha!==void 0?t.alpha:!1;let c=null,h=null;const g=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Mu,this.physicallyCorrectLights=!1,this.toneMapping=El,this.toneMappingExposure=1;const _=this;let x=!1,w=0,b=0,E=null,C=-1,M=null;const P=new zn,D=new zn;let L=null,O=e.width,q=e.height,j=1,oe=null,le=null;const F=new zn(0,0,O,q),Y=new zn(0,0,O,q);let H=!1;const ee=new yw;let k=!1,G=!1,$=null;const ie=new vt,ue=new Ne,xe=new Q,Oe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function de(){return E===null?j:1}let ge=n;function Ze(ne,we){for(let Ce=0;Ce<ne.length;Ce++){const be=ne[Ce],Fe=e.getContext(be,we);if(Fe!==null)return Fe}return null}try{const ne={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${iM}`),e.addEventListener("webglcontextlost",he,!1),e.addEventListener("webglcontextrestored",et,!1),ge===null){const we=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&we.shift(),ge=Ze(we,ne),ge===null)throw Ze(we)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ge.getShaderPrecisionFormat===void 0&&(ge.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(ne){throw console.error("THREE.WebGLRenderer: "+ne.message),ne}let Qe,We,Ue,mt,Re,U,te,J,ve,Pe,Le,je,xt,gt,se,X,Ae,Ge,nt,ot,Et,Ie,Vt;function Xt(){Qe=new a4e(ge),We=new t4e(ge,Qe,t),Qe.init(We),Ie=new jJ(ge,Qe,We),Ue=new N5e(ge,Qe,We),mt=new c4e,Re=new C5e,U=new U5e(ge,Qe,Ue,Re,We,Ie,mt),te=new r4e(_),J=new o4e(_),ve=new Ake(ge,We),Vt=new ZNe(ge,Qe,ve,We),Pe=new l4e(ge,ve,mt,Vt),Le=new p4e(ge,Pe,ve,mt),nt=new d4e(ge,We,U),X=new n4e(Re),je=new T5e(_,te,J,Qe,We,Vt,X),xt=new z5e(_,Re),gt=new R5e,se=new O5e(Qe,We),Ge=new YNe(_,te,Ue,Le,f,o),Ae=new WJ(_,Le,We),ot=new e4e(ge,Qe,mt,We),Et=new u4e(ge,Qe,mt,We),mt.programs=je.programs,_.capabilities=We,_.extensions=Qe,_.properties=Re,_.renderLists=gt,_.shadowMap=Ae,_.state=Ue,_.info=mt}Xt();const pt=new G5e(_,ge);this.xr=pt,this.getContext=function(){return ge},this.getContextAttributes=function(){return ge.getContextAttributes()},this.forceContextLoss=function(){const ne=Qe.get("WEBGL_lose_context");ne&&ne.loseContext()},this.forceContextRestore=function(){const ne=Qe.get("WEBGL_lose_context");ne&&ne.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(ne){ne!==void 0&&(j=ne,this.setSize(O,q,!1))},this.getSize=function(ne){return ne.set(O,q)},this.setSize=function(ne,we,Ce){if(pt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=ne,q=we,e.width=Math.floor(ne*j),e.height=Math.floor(we*j),Ce!==!1&&(e.style.width=ne+"px",e.style.height=we+"px"),this.setViewport(0,0,ne,we)},this.getDrawingBufferSize=function(ne){return ne.set(O*j,q*j).floor()},this.setDrawingBufferSize=function(ne,we,Ce){O=ne,q=we,j=Ce,e.width=Math.floor(ne*Ce),e.height=Math.floor(we*Ce),this.setViewport(0,0,ne,we)},this.getCurrentViewport=function(ne){return ne.copy(P)},this.getViewport=function(ne){return ne.copy(F)},this.setViewport=function(ne,we,Ce,be){ne.isVector4?F.set(ne.x,ne.y,ne.z,ne.w):F.set(ne,we,Ce,be),Ue.viewport(P.copy(F).multiplyScalar(j).floor())},this.getScissor=function(ne){return ne.copy(Y)},this.setScissor=function(ne,we,Ce,be){ne.isVector4?Y.set(ne.x,ne.y,ne.z,ne.w):Y.set(ne,we,Ce,be),Ue.scissor(D.copy(Y).multiplyScalar(j).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(ne){Ue.setScissorTest(H=ne)},this.setOpaqueSort=function(ne){oe=ne},this.setTransparentSort=function(ne){le=ne},this.getClearColor=function(ne){return ne.copy(Ge.getClearColor())},this.setClearColor=function(){Ge.setClearColor.apply(Ge,arguments)},this.getClearAlpha=function(){return Ge.getClearAlpha()},this.setClearAlpha=function(){Ge.setClearAlpha.apply(Ge,arguments)},this.clear=function(ne=!0,we=!0,Ce=!0){let be=0;ne&&(be|=16384),we&&(be|=256),Ce&&(be|=1024),ge.clear(be)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",he,!1),e.removeEventListener("webglcontextrestored",et,!1),gt.dispose(),se.dispose(),Re.dispose(),te.dispose(),J.dispose(),Le.dispose(),Vt.dispose(),je.dispose(),pt.dispose(),pt.removeEventListener("sessionstart",Ft),pt.removeEventListener("sessionend",Tn),$&&($.dispose(),$=null),ln.stop()};function he(ne){ne.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function et(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const ne=mt.autoReset,we=Ae.enabled,Ce=Ae.autoUpdate,be=Ae.needsUpdate,Fe=Ae.type;Xt(),mt.autoReset=ne,Ae.enabled=we,Ae.autoUpdate=Ce,Ae.needsUpdate=be,Ae.type=Fe}function Xe(ne){const we=ne.target;we.removeEventListener("dispose",Xe),Lt(we)}function Lt(ne){ct(ne),Re.remove(ne)}function ct(ne){const we=Re.get(ne).programs;we!==void 0&&(we.forEach(function(Ce){je.releaseProgram(Ce)}),ne.isShaderMaterial&&je.releaseShaderCache(ne))}this.renderBufferDirect=function(ne,we,Ce,be,Fe,Nt){we===null&&(we=Oe);const qt=Fe.isMesh&&Fe.matrixWorld.determinant()<0,tn=cv(ne,we,Ce,be,Fe);Ue.setMaterial(be,qt);let Zt=Ce.index;const Cn=Ce.attributes.position;if(Zt===null){if(Cn===void 0||Cn.count===0)return}else if(Zt.count===0)return;let gn=1;be.wireframe===!0&&(Zt=Pe.getWireframeAttribute(Ce),gn=2),Vt.setup(Fe,be,tn,Ce,Zt);let yn,Zn=ot;Zt!==null&&(yn=ve.get(Zt),Zn=Et,Zn.setIndex(yn));const qa=Zt!==null?Zt.count:Cn.count,Bl=Ce.drawRange.start*gn,Ol=Ce.drawRange.count*gn,zi=Nt!==null?Nt.start*gn:0,Mn=Nt!==null?Nt.count*gn:1/0,Ls=Math.max(Bl,zi),qn=Math.min(qa,Bl+Ol,zi+Mn)-1,cs=Math.max(0,qn-Ls+1);if(cs!==0){if(Fe.isMesh)be.wireframe===!0?(Ue.setLineWidth(be.wireframeLinewidth*de()),Zn.setMode(1)):Zn.setMode(4);else if(Fe.isLine){let io=be.linewidth;io===void 0&&(io=1),Ue.setLineWidth(io*de()),Fe.isLineSegments?Zn.setMode(1):Fe.isLineLoop?Zn.setMode(2):Zn.setMode(3)}else Fe.isPoints?Zn.setMode(0):Fe.isSprite&&Zn.setMode(4);if(Fe.isInstancedMesh)Zn.renderInstances(Ls,cs,Fe.count);else if(Ce.isInstancedBufferGeometry){const io=Math.min(Ce.instanceCount,Ce._maxInstanceCount);Zn.renderInstances(Ls,cs,io)}else Zn.render(Ls,cs)}},this.compile=function(ne,we){h=se.get(ne),h.init(),y.push(h),ne.traverseVisible(function(Ce){Ce.isLight&&Ce.layers.test(we.layers)&&(h.pushLight(Ce),Ce.castShadow&&h.pushShadow(Ce))}),h.setupLights(_.physicallyCorrectLights),ne.traverse(function(Ce){const be=Ce.material;if(be)if(Array.isArray(be))for(let Fe=0;Fe<be.length;Fe++){const Nt=be[Fe];$c(Nt,ne,Ce)}else $c(be,ne,Ce)}),y.pop(),h=null};let Dt=null;function Je(ne){Dt&&Dt(ne)}function Ft(){ln.stop()}function Tn(){ln.start()}const ln=new NJ;ln.setAnimationLoop(Je),typeof self<"u"&&ln.setContext(self),this.setAnimationLoop=function(ne){Dt=ne,pt.setAnimationLoop(ne),ne===null?ln.stop():ln.start()},pt.addEventListener("sessionstart",Ft),pt.addEventListener("sessionend",Tn),this.render=function(ne,we){if(we!==void 0&&we.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;ne.autoUpdate===!0&&ne.updateMatrixWorld(),we.parent===null&&we.updateMatrixWorld(),pt.enabled===!0&&pt.isPresenting===!0&&(pt.cameraAutoUpdate===!0&&pt.updateCamera(we),we=pt.getCamera()),ne.isScene===!0&&ne.onBeforeRender(_,ne,we,E),h=se.get(ne,y.length),h.init(),y.push(h),ie.multiplyMatrices(we.projectionMatrix,we.matrixWorldInverse),ee.setFromProjectionMatrix(ie),G=this.localClippingEnabled,k=X.init(this.clippingPlanes,G,we),c=gt.get(ne,g.length),c.init(),g.push(c),ro(ne,we,0,_.sortObjects),c.finish(),_.sortObjects===!0&&c.sort(oe,le),k===!0&&X.beginShadows();const Ce=h.state.shadowsArray;if(Ae.render(Ce,ne,we),k===!0&&X.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ge.render(c,ne),h.setupLights(_.physicallyCorrectLights),we.isArrayCamera){const be=we.cameras;for(let Fe=0,Nt=be.length;Fe<Nt;Fe++){const qt=be[Fe];Is(c,ne,qt,qt.viewport)}}else Is(c,ne,we);E!==null&&(U.updateMultisampleRenderTarget(E),U.updateRenderTargetMipmap(E)),ne.isScene===!0&&ne.onAfterRender(_,ne,we),Vt.resetDefaultState(),C=-1,M=null,y.pop(),y.length>0?h=y[y.length-1]:h=null,g.pop(),g.length>0?c=g[g.length-1]:c=null};function ro(ne,we,Ce,be){if(ne.visible===!1)return;if(ne.layers.test(we.layers)){if(ne.isGroup)Ce=ne.renderOrder;else if(ne.isLOD)ne.autoUpdate===!0&&ne.update(we);else if(ne.isLight)h.pushLight(ne),ne.castShadow&&h.pushShadow(ne);else if(ne.isSprite){if(!ne.frustumCulled||ee.intersectsSprite(ne)){be&&xe.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(ie);const qt=Le.update(ne),tn=ne.material;tn.visible&&c.push(ne,qt,tn,Ce,xe.z,null)}}else if((ne.isMesh||ne.isLine||ne.isPoints)&&(ne.isSkinnedMesh&&ne.skeleton.frame!==mt.render.frame&&(ne.skeleton.update(),ne.skeleton.frame=mt.render.frame),!ne.frustumCulled||ee.intersectsObject(ne))){be&&xe.setFromMatrixPosition(ne.matrixWorld).applyMatrix4(ie);const qt=Le.update(ne),tn=ne.material;if(Array.isArray(tn)){const Zt=qt.groups;for(let Cn=0,gn=Zt.length;Cn<gn;Cn++){const yn=Zt[Cn],Zn=tn[yn.materialIndex];Zn&&Zn.visible&&c.push(ne,qt,Zn,Ce,xe.z,yn)}}else tn.visible&&c.push(ne,qt,tn,Ce,xe.z,null)}}const Nt=ne.children;for(let qt=0,tn=Nt.length;qt<tn;qt++)ro(Nt[qt],we,Ce,be)}function Is(ne,we,Ce,be){const Fe=ne.opaque,Nt=ne.transmissive,qt=ne.transparent;h.setupLightsView(Ce),Nt.length>0&&dm(Fe,we,Ce),be&&Ue.viewport(P.copy(be)),Fe.length>0&&zc(Fe,we,Ce),Nt.length>0&&zc(Nt,we,Ce),qt.length>0&&zc(qt,we,Ce),Ue.buffers.depth.setTest(!0),Ue.buffers.depth.setMask(!0),Ue.buffers.color.setMask(!0),Ue.setPolygonOffset(!1)}function dm(ne,we,Ce){const be=We.isWebGL2;$===null&&($=new Xs(1,1,{generateMipmaps:!0,type:Qe.has("EXT_color_buffer_half_float")?J0:bh,minFilter:Hc,samples:be&&s===!0?4:0})),_.getDrawingBufferSize(ue),be?$.setSize(ue.x,ue.y):$.setSize(wT(ue.x),wT(ue.y));const Fe=_.getRenderTarget();_.setRenderTarget($),_.clear();const Nt=_.toneMapping;_.toneMapping=El,zc(ne,we,Ce),_.toneMapping=Nt,U.updateMultisampleRenderTarget($),U.updateRenderTargetMipmap($),_.setRenderTarget(Fe)}function zc(ne,we,Ce){const be=we.isScene===!0?we.overrideMaterial:null;for(let Fe=0,Nt=ne.length;Fe<Nt;Fe++){const qt=ne[Fe],tn=qt.object,Zt=qt.geometry,Cn=be===null?qt.material:be,gn=qt.group;tn.layers.test(Ce.layers)&&jh(tn,we,Ce,Zt,Cn,gn)}}function jh(ne,we,Ce,be,Fe,Nt){ne.onBeforeRender(_,we,Ce,be,Fe,Nt),ne.modelViewMatrix.multiplyMatrices(Ce.matrixWorldInverse,ne.matrixWorld),ne.normalMatrix.getNormalMatrix(ne.modelViewMatrix),Fe.onBeforeRender(_,we,Ce,be,ne,Nt),Fe.transparent===!0&&Fe.side===_h?(Fe.side=aa,Fe.needsUpdate=!0,_.renderBufferDirect(Ce,we,be,Fe,ne,Nt),Fe.side=vh,Fe.needsUpdate=!0,_.renderBufferDirect(Ce,we,be,Fe,ne,Nt),Fe.side=_h):_.renderBufferDirect(Ce,we,be,Fe,ne,Nt),ne.onAfterRender(_,we,Ce,be,Fe,Nt)}function $c(ne,we,Ce){we.isScene!==!0&&(we=Oe);const be=Re.get(ne),Fe=h.state.lights,Nt=h.state.shadowsArray,qt=Fe.state.version,tn=je.getParameters(ne,Fe.state,Nt,we,Ce),Zt=je.getProgramCacheKey(tn);let Cn=be.programs;be.environment=ne.isMeshStandardMaterial?we.environment:null,be.fog=we.fog,be.envMap=(ne.isMeshStandardMaterial?J:te).get(ne.envMap||be.environment),Cn===void 0&&(ne.addEventListener("dispose",Xe),Cn=new Map,be.programs=Cn);let gn=Cn.get(Zt);if(gn!==void 0){if(be.currentProgram===gn&&be.lightsStateVersion===qt)return qh(ne,tn),gn}else tn.uniforms=je.getUniforms(ne),ne.onBuild(Ce,tn,_),ne.onBeforeCompile(tn,_),gn=je.acquireProgram(tn,Zt),Cn.set(Zt,gn),be.uniforms=tn.uniforms;const yn=be.uniforms;(!ne.isShaderMaterial&&!ne.isRawShaderMaterial||ne.clipping===!0)&&(yn.clippingPlanes=X.uniform),qh(ne,tn),be.needsLights=fv(ne),be.lightsStateVersion=qt,be.needsLights&&(yn.ambientLightColor.value=Fe.state.ambient,yn.lightProbe.value=Fe.state.probe,yn.directionalLights.value=Fe.state.directional,yn.directionalLightShadows.value=Fe.state.directionalShadow,yn.spotLights.value=Fe.state.spot,yn.spotLightShadows.value=Fe.state.spotShadow,yn.rectAreaLights.value=Fe.state.rectArea,yn.ltc_1.value=Fe.state.rectAreaLTC1,yn.ltc_2.value=Fe.state.rectAreaLTC2,yn.pointLights.value=Fe.state.point,yn.pointLightShadows.value=Fe.state.pointShadow,yn.hemisphereLights.value=Fe.state.hemi,yn.directionalShadowMap.value=Fe.state.directionalShadowMap,yn.directionalShadowMatrix.value=Fe.state.directionalShadowMatrix,yn.spotShadowMap.value=Fe.state.spotShadowMap,yn.spotShadowMatrix.value=Fe.state.spotShadowMatrix,yn.pointShadowMap.value=Fe.state.pointShadowMap,yn.pointShadowMatrix.value=Fe.state.pointShadowMatrix);const Zn=gn.getUniforms(),qa=oh.seqWithValue(Zn.seq,yn);return be.currentProgram=gn,be.uniformsList=qa,gn}function qh(ne,we){const Ce=Re.get(ne);Ce.outputEncoding=we.outputEncoding,Ce.instancing=we.instancing,Ce.skinning=we.skinning,Ce.morphTargets=we.morphTargets,Ce.morphNormals=we.morphNormals,Ce.morphColors=we.morphColors,Ce.morphTargetsCount=we.morphTargetsCount,Ce.numClippingPlanes=we.numClippingPlanes,Ce.numIntersection=we.numClipIntersection,Ce.vertexAlphas=we.vertexAlphas,Ce.vertexTangents=we.vertexTangents,Ce.toneMapping=we.toneMapping}function cv(ne,we,Ce,be,Fe){we.isScene!==!0&&(we=Oe),U.resetTextureUnits();const Nt=we.fog,qt=be.isMeshStandardMaterial?we.environment:null,tn=E===null?_.outputEncoding:E.isXRRenderTarget===!0?E.texture.encoding:Mu,Zt=(be.isMeshStandardMaterial?J:te).get(be.envMap||qt),Cn=be.vertexColors===!0&&!!Ce.attributes.color&&Ce.attributes.color.itemSize===4,gn=!!be.normalMap&&!!Ce.attributes.tangent,yn=!!Ce.morphAttributes.position,Zn=!!Ce.morphAttributes.normal,qa=!!Ce.morphAttributes.color,Bl=be.toneMapped?_.toneMapping:El,Ol=Ce.morphAttributes.position||Ce.morphAttributes.normal||Ce.morphAttributes.color,zi=Ol!==void 0?Ol.length:0,Mn=Re.get(be),Ls=h.state.lights;if(k===!0&&(G===!0||ne!==M)){const un=ne===M&&be.id===C;X.setState(be,ne,un)}let qn=!1;be.version===Mn.__version?(Mn.needsLights&&Mn.lightsStateVersion!==Ls.state.version||Mn.outputEncoding!==tn||Fe.isInstancedMesh&&Mn.instancing===!1||!Fe.isInstancedMesh&&Mn.instancing===!0||Fe.isSkinnedMesh&&Mn.skinning===!1||!Fe.isSkinnedMesh&&Mn.skinning===!0||Mn.envMap!==Zt||be.fog===!0&&Mn.fog!==Nt||Mn.numClippingPlanes!==void 0&&(Mn.numClippingPlanes!==X.numPlanes||Mn.numIntersection!==X.numIntersection)||Mn.vertexAlphas!==Cn||Mn.vertexTangents!==gn||Mn.morphTargets!==yn||Mn.morphNormals!==Zn||Mn.morphColors!==qa||Mn.toneMapping!==Bl||We.isWebGL2===!0&&Mn.morphTargetsCount!==zi)&&(qn=!0):(qn=!0,Mn.__version=be.version);let cs=Mn.currentProgram;qn===!0&&(cs=$c(be,we,Fe));let io=!1,kl=!1,Fl=!1;const sr=cs.getUniforms(),fs=Mn.uniforms;if(Ue.useProgram(cs.program)&&(io=!0,kl=!0,Fl=!0),be.id!==C&&(C=be.id,kl=!0),io||M!==ne){if(sr.setValue(ge,"projectionMatrix",ne.projectionMatrix),We.logarithmicDepthBuffer&&sr.setValue(ge,"logDepthBufFC",2/(Math.log(ne.far+1)/Math.LN2)),M!==ne&&(M=ne,kl=!0,Fl=!0),be.isShaderMaterial||be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshStandardMaterial||be.envMap){const un=sr.map.cameraPosition;un!==void 0&&un.setValue(ge,xe.setFromMatrixPosition(ne.matrixWorld))}(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial)&&sr.setValue(ge,"isOrthographic",ne.isOrthographicCamera===!0),(be.isMeshPhongMaterial||be.isMeshToonMaterial||be.isMeshLambertMaterial||be.isMeshBasicMaterial||be.isMeshStandardMaterial||be.isShaderMaterial||be.isShadowMaterial||Fe.isSkinnedMesh)&&sr.setValue(ge,"viewMatrix",ne.matrixWorldInverse)}if(Fe.isSkinnedMesh){sr.setOptional(ge,Fe,"bindMatrix"),sr.setOptional(ge,Fe,"bindMatrixInverse");const un=Fe.skeleton;un&&(We.floatVertexTextures?(un.boneTexture===null&&un.computeBoneTexture(),sr.setValue(ge,"boneTexture",un.boneTexture,U),sr.setValue(ge,"boneTextureSize",un.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const kn=Ce.morphAttributes;return(kn.position!==void 0||kn.normal!==void 0||kn.color!==void 0&&We.isWebGL2===!0)&&nt.update(Fe,Ce,be,cs),(kl||Mn.receiveShadow!==Fe.receiveShadow)&&(Mn.receiveShadow=Fe.receiveShadow,sr.setValue(ge,"receiveShadow",Fe.receiveShadow)),kl&&(sr.setValue(ge,"toneMappingExposure",_.toneMappingExposure),Mn.needsLights&&Kh(fs,Fl),Nt&&be.fog===!0&&xt.refreshFogUniforms(fs,Nt),xt.refreshMaterialUniforms(fs,be,j,q,$),oh.upload(ge,Mn.uniformsList,fs,U)),be.isShaderMaterial&&be.uniformsNeedUpdate===!0&&(oh.upload(ge,Mn.uniformsList,fs,U),be.uniformsNeedUpdate=!1),be.isSpriteMaterial&&sr.setValue(ge,"center",Fe.center),sr.setValue(ge,"modelViewMatrix",Fe.modelViewMatrix),sr.setValue(ge,"normalMatrix",Fe.normalMatrix),sr.setValue(ge,"modelMatrix",Fe.matrixWorld),cs}function Kh(ne,we){ne.ambientLightColor.needsUpdate=we,ne.lightProbe.needsUpdate=we,ne.directionalLights.needsUpdate=we,ne.directionalLightShadows.needsUpdate=we,ne.pointLights.needsUpdate=we,ne.pointLightShadows.needsUpdate=we,ne.spotLights.needsUpdate=we,ne.spotLightShadows.needsUpdate=we,ne.rectAreaLights.needsUpdate=we,ne.hemisphereLights.needsUpdate=we}function fv(ne){return ne.isMeshLambertMaterial||ne.isMeshToonMaterial||ne.isMeshPhongMaterial||ne.isMeshStandardMaterial||ne.isShadowMaterial||ne.isShaderMaterial&&ne.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return b},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(ne,we,Ce){Re.get(ne.texture).__webglTexture=we,Re.get(ne.depthTexture).__webglTexture=Ce;const be=Re.get(ne);be.__hasExternalTextures=!0,be.__hasExternalTextures&&(be.__autoAllocateDepthBuffer=Ce===void 0,be.__autoAllocateDepthBuffer||Qe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),be.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(ne,we){const Ce=Re.get(ne);Ce.__webglFramebuffer=we,Ce.__useDefaultFramebuffer=we===void 0},this.setRenderTarget=function(ne,we=0,Ce=0){E=ne,w=we,b=Ce;let be=!0;if(ne){const Zt=Re.get(ne);Zt.__useDefaultFramebuffer!==void 0?(Ue.bindFramebuffer(36160,null),be=!1):Zt.__webglFramebuffer===void 0?U.setupRenderTarget(ne):Zt.__hasExternalTextures&&U.rebindTextures(ne,Re.get(ne.texture).__webglTexture,Re.get(ne.depthTexture).__webglTexture)}let Fe=null,Nt=!1,qt=!1;if(ne){const Zt=ne.texture;(Zt.isData3DTexture||Zt.isDataArrayTexture)&&(qt=!0);const Cn=Re.get(ne).__webglFramebuffer;ne.isWebGLCubeRenderTarget?(Fe=Cn[we],Nt=!0):We.isWebGL2&&ne.samples>0&&U.useMultisampledRTT(ne)===!1?Fe=Re.get(ne).__webglMultisampledFramebuffer:Fe=Cn,P.copy(ne.viewport),D.copy(ne.scissor),L=ne.scissorTest}else P.copy(F).multiplyScalar(j).floor(),D.copy(Y).multiplyScalar(j).floor(),L=H;if(Ue.bindFramebuffer(36160,Fe)&&We.drawBuffers&&be&&Ue.drawBuffers(ne,Fe),Ue.viewport(P),Ue.scissor(D),Ue.setScissorTest(L),Nt){const Zt=Re.get(ne.texture);ge.framebufferTexture2D(36160,36064,34069+we,Zt.__webglTexture,Ce)}else if(qt){const Zt=Re.get(ne.texture),Cn=we||0;ge.framebufferTextureLayer(36160,36064,Zt.__webglTexture,Ce||0,Cn)}C=-1},this.readRenderTargetPixels=function(ne,we,Ce,be,Fe,Nt,qt){if(!(ne&&ne.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let tn=Re.get(ne).__webglFramebuffer;if(ne.isWebGLCubeRenderTarget&&qt!==void 0&&(tn=tn[qt]),tn){Ue.bindFramebuffer(36160,tn);try{const Zt=ne.texture,Cn=Zt.format,gn=Zt.type;if(Cn!==ta&&Ie.convert(Cn)!==ge.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const yn=gn===J0&&(Qe.has("EXT_color_buffer_half_float")||We.isWebGL2&&Qe.has("EXT_color_buffer_float"));if(gn!==bh&&Ie.convert(gn)!==ge.getParameter(35738)&&!(gn===wc&&(We.isWebGL2||Qe.has("OES_texture_float")||Qe.has("WEBGL_color_buffer_float")))&&!yn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}we>=0&&we<=ne.width-be&&Ce>=0&&Ce<=ne.height-Fe&&ge.readPixels(we,Ce,be,Fe,Ie.convert(Cn),Ie.convert(gn),Nt)}finally{const Zt=E!==null?Re.get(E).__webglFramebuffer:null;Ue.bindFramebuffer(36160,Zt)}}},this.copyFramebufferToTexture=function(ne,we,Ce=0){if(we.isFramebufferTexture!==!0){console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");return}const be=Math.pow(2,-Ce),Fe=Math.floor(we.image.width*be),Nt=Math.floor(we.image.height*be);U.setTexture2D(we,0),ge.copyTexSubImage2D(3553,Ce,0,0,ne.x,ne.y,Fe,Nt),Ue.unbindTexture()},this.copyTextureToTexture=function(ne,we,Ce,be=0){const Fe=we.image.width,Nt=we.image.height,qt=Ie.convert(Ce.format),tn=Ie.convert(Ce.type);U.setTexture2D(Ce,0),ge.pixelStorei(37440,Ce.flipY),ge.pixelStorei(37441,Ce.premultiplyAlpha),ge.pixelStorei(3317,Ce.unpackAlignment),we.isDataTexture?ge.texSubImage2D(3553,be,ne.x,ne.y,Fe,Nt,qt,tn,we.image.data):we.isCompressedTexture?ge.compressedTexSubImage2D(3553,be,ne.x,ne.y,we.mipmaps[0].width,we.mipmaps[0].height,qt,we.mipmaps[0].data):ge.texSubImage2D(3553,be,ne.x,ne.y,qt,tn,we.image),be===0&&Ce.generateMipmaps&&ge.generateMipmap(3553),Ue.unbindTexture()},this.copyTextureToTexture3D=function(ne,we,Ce,be,Fe=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Nt=ne.max.x-ne.min.x+1,qt=ne.max.y-ne.min.y+1,tn=ne.max.z-ne.min.z+1,Zt=Ie.convert(be.format),Cn=Ie.convert(be.type);let gn;if(be.isData3DTexture)U.setTexture3D(be,0),gn=32879;else if(be.isDataArrayTexture)U.setTexture2DArray(be,0),gn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ge.pixelStorei(37440,be.flipY),ge.pixelStorei(37441,be.premultiplyAlpha),ge.pixelStorei(3317,be.unpackAlignment);const yn=ge.getParameter(3314),Zn=ge.getParameter(32878),qa=ge.getParameter(3316),Bl=ge.getParameter(3315),Ol=ge.getParameter(32877),zi=Ce.isCompressedTexture?Ce.mipmaps[0]:Ce.image;ge.pixelStorei(3314,zi.width),ge.pixelStorei(32878,zi.height),ge.pixelStorei(3316,ne.min.x),ge.pixelStorei(3315,ne.min.y),ge.pixelStorei(32877,ne.min.z),Ce.isDataTexture||Ce.isData3DTexture?ge.texSubImage3D(gn,Fe,we.x,we.y,we.z,Nt,qt,tn,Zt,Cn,zi.data):Ce.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ge.compressedTexSubImage3D(gn,Fe,we.x,we.y,we.z,Nt,qt,tn,Zt,zi.data)):ge.texSubImage3D(gn,Fe,we.x,we.y,we.z,Nt,qt,tn,Zt,Cn,zi),ge.pixelStorei(3314,yn),ge.pixelStorei(32878,Zn),ge.pixelStorei(3316,qa),ge.pixelStorei(3315,Bl),ge.pixelStorei(32877,Ol),Fe===0&&be.generateMipmaps&&ge.generateMipmap(gn),Ue.unbindTexture()},this.initTexture=function(ne){U.setTexture2D(ne,0),Ue.unbindTexture()},this.resetState=function(){w=0,b=0,E=null,Ue.reset(),Vt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}$n.prototype.isWebGLRenderer=!0;class qJ extends $n{}qJ.prototype.isWebGL1Renderer=!0;class vw{constructor(e,n=25e-5){this.name="",this.color=new qe(e),this.density=n}clone(){return new vw(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}vw.prototype.isFogExp2=!0;class _w{constructor(e,n=1,r=1e3){this.name="",this.color=new qe(e),this.near=n,this.far=r}clone(){return new _w(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}_w.prototype.isFog=!0;class xw extends mn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),n}}xw.prototype.isScene=!0;class Hh{constructor(e,n){this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Y0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=la()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=la()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=la()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Hh.prototype.isInterleavedBuffer=!0;const zs=new Q;class Bc{constructor(e,n,r,i=!1){this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)zs.fromBufferAttribute(this,n),zs.applyMatrix4(e),this.setXYZ(n,zs.x,zs.y,zs.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)zs.fromBufferAttribute(this,n),zs.applyNormalMatrix(e),this.setXYZ(n,zs.x,zs.y,zs.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)zs.fromBufferAttribute(this,n),zs.transformDirection(e),this.setXYZ(n,zs.x,zs.y,zs.z);return this}setX(e,n){return this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new pn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Bc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}Bc.prototype.isInterleavedBufferAttribute=!0;class mM extends vr{constructor(e){super(),this.type="SpriteMaterial",this.color=new qe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}mM.prototype.isSpriteMaterial=!0;let mg;const A1=new Q,gg=new Q,yg=new Q,vg=new Ne,E1=new Ne,KJ=new vt,FS=new Q,T1=new Q,NS=new Q,LH=new Ne,hI=new Ne,PH=new Ne;class gM extends mn{constructor(e){if(super(),this.type="Sprite",mg===void 0){mg=new It;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Hh(n,5);mg.setIndex([0,1,2,0,2,3]),mg.setAttribute("position",new Bc(r,3,0,!1)),mg.setAttribute("uv",new Bc(r,2,3,!1))}this.geometry=mg,this.material=e!==void 0?e:new mM,this.center=new Ne(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gg.setFromMatrixScale(this.matrixWorld),KJ.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),yg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&gg.multiplyScalar(-yg.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;US(FS.set(-.5,-.5,0),yg,o,gg,i,s),US(T1.set(.5,-.5,0),yg,o,gg,i,s),US(NS.set(.5,.5,0),yg,o,gg,i,s),LH.set(0,0),hI.set(1,0),PH.set(1,1);let a=e.ray.intersectTriangle(FS,T1,NS,!1,A1);if(a===null&&(US(T1.set(-.5,.5,0),yg,o,gg,i,s),hI.set(0,1),a=e.ray.intersectTriangle(FS,NS,T1,!1,A1),a===null))return;const l=e.ray.origin.distanceTo(A1);l<e.near||l>e.far||n.push({distance:l,point:A1.clone(),uv:Qr.getUV(A1,FS,T1,NS,LH,hI,PH,new Ne),face:null,object:this})}copy(e){return super.copy(e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}gM.prototype.isSprite=!0;function US(t,e,n,r,i,s){vg.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(E1.x=s*vg.x-i*vg.y,E1.y=i*vg.x+s*vg.y):E1.copy(vg),t.copy(e),t.x+=E1.x,t.y+=E1.y,t.applyMatrix4(KJ)}const HS=new Q,DH=new Q;class QJ extends mn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0){n=Math.abs(n);const r=this.levels;let i;for(i=0;i<r.length&&!(n<r[i].distance);i++);return r.splice(i,0,{distance:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i&&!(e<n[r].distance);r++);return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){HS.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(HS);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){HS.setFromMatrixPosition(e.matrixWorld),DH.setFromMatrixPosition(this.matrixWorld);const r=HS.distanceTo(DH)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s&&r>=n[i].distance;i++)n[i-1].object.visible=!1,n[i].object.visible=!0;for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance})}return n}}const BH=new Q,OH=new zn,kH=new zn,V5e=new Q,FH=new vt;class ww extends Jr{constructor(e,n){super(e,n),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new vt,this.bindMatrixInverse=new vt}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new zn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,n){const r=this.skeleton,i=this.geometry;OH.fromBufferAttribute(i.attributes.skinIndex,e),kH.fromBufferAttribute(i.attributes.skinWeight,e),BH.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=kH.getComponent(s);if(o!==0){const a=OH.getComponent(s);FH.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(V5e.copy(BH).applyMatrix4(FH),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}ww.prototype.isSkinnedMesh=!0;class bw extends mn{constructor(){super(),this.type="Bone"}}bw.prototype.isBone=!0;class wp extends Mr{constructor(e=null,n=1,r=1,i,s,o,a,l,u=qr,f=qr,c,h){super(null,o,a,l,u,f,i,s,c,h),this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}wp.prototype.isDataTexture=!0;const NH=new vt,W5e=new vt;class Sw{constructor(e=[],n=[]){this.uuid=la(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new vt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new vt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:W5e;NH.multiplyMatrices(a,n[s]),NH.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Sw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=AJ(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new wp(n,e,e,ta,wc);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new bw),this.bones.push(o),this.boneInverses.push(new vt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Gp extends pn{constructor(e,n,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,n,r),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Gp.prototype.isInstancedBufferAttribute=!0;const UH=new vt,HH=new vt,GS=[],C1=new Jr;class Hk extends Jr{constructor(e,n,r){super(e,n),this.instanceMatrix=new Gp(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(C1.geometry=this.geometry,C1.material=this.material,C1.material!==void 0)for(let s=0;s<i;s++){this.getMatrixAt(s,UH),HH.multiplyMatrices(r,UH),C1.matrixWorld=HH,C1.raycast(e,GS);for(let o=0,a=GS.length;o<a;o++){const l=GS[o];l.instanceId=s,l.object=this,n.push(l)}GS.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Gp(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}Hk.prototype.isInstancedMesh=!0;class bi extends vr{constructor(e){super(),this.type="LineBasicMaterial",this.color=new qe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}bi.prototype.isLineBasicMaterial=!0;const GH=new Q,zH=new Q,$H=new vt,dI=new Uh,zS=new Gc;class Ru extends mn{constructor(e=new It,n=new bi){super(),this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)GH.fromBufferAttribute(n,i-1),zH.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=GH.distanceTo(zH);e.setAttribute("lineDistance",new _t(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),zS.copy(r.boundingSphere),zS.applyMatrix4(i),zS.radius+=s,e.ray.intersectsSphere(zS)===!1)return;$H.copy(i).invert(),dI.copy(e.ray).applyMatrix4($H);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new Q,f=new Q,c=new Q,h=new Q,g=this.isLineSegments?2:1;if(r.isBufferGeometry){const y=r.index,x=r.attributes.position;if(y!==null){const w=Math.max(0,o.start),b=Math.min(y.count,o.start+o.count);for(let E=w,C=b-1;E<C;E+=g){const M=y.getX(E),P=y.getX(E+1);if(u.fromBufferAttribute(x,M),f.fromBufferAttribute(x,P),dI.distanceSqToSegment(u,f,h,c)>l)continue;h.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(h);L<e.near||L>e.far||n.push({distance:L,point:c.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}else{const w=Math.max(0,o.start),b=Math.min(x.count,o.start+o.count);for(let E=w,C=b-1;E<C;E+=g){if(u.fromBufferAttribute(x,E),f.fromBufferAttribute(x,E+1),dI.distanceSqToSegment(u,f,h,c)>l)continue;h.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(h);P<e.near||P>e.far||n.push({distance:P,point:c.clone().applyMatrix4(this.matrixWorld),index:E,face:null,faceIndex:null,object:this})}}}else r.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Ru.prototype.isLine=!0;const VH=new Q,WH=new Q;class eo extends Ru{constructor(e,n){super(e,n),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)VH.fromBufferAttribute(n,i),WH.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+VH.distanceTo(WH);e.setAttribute("lineDistance",new _t(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}eo.prototype.isLineSegments=!0;class yM extends Ru{constructor(e,n){super(e,n),this.type="LineLoop"}}yM.prototype.isLineLoop=!0;class Gh extends vr{constructor(e){super(),this.type="PointsMaterial",this.color=new qe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}Gh.prototype.isPointsMaterial=!0;const jH=new vt,O3=new Uh,$S=new Gc,VS=new Q;class nv extends mn{constructor(e=new It,n=new Gh){super(),this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),$S.copy(r.boundingSphere),$S.applyMatrix4(i),$S.radius+=s,e.ray.intersectsSphere($S)===!1)return;jH.copy(i).invert(),O3.copy(e.ray).applyMatrix4(jH);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(r.isBufferGeometry){const u=r.index,c=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let y=h,_=g;y<_;y++){const x=u.getX(y);VS.fromBufferAttribute(c,x),qH(VS,x,l,i,e,n,this)}}else{const h=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let y=h,_=g;y<_;y++)VS.fromBufferAttribute(c,y),qH(VS,y,l,i,e,n,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const n=e.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}else{const n=e.morphTargets;n!==void 0&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}nv.prototype.isPoints=!0;function qH(t,e,n,r,i,s,o){const a=O3.distanceSqToPoint(t);if(a<n){const l=new Q;O3.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class JJ extends Mr{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.minFilter=o!==void 0?o:Ar,this.magFilter=s!==void 0?s:Ar,this.generateMipmaps=!1;const f=this;function c(){f.needsUpdate=!0,e.requestVideoFrameCallback(c)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(c)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}JJ.prototype.isVideoTexture=!0;class XJ extends Mr{constructor(e,n,r){super({width:e,height:n}),this.format=r,this.magFilter=qr,this.minFilter=qr,this.generateMipmaps=!1,this.needsUpdate=!0}}XJ.prototype.isFramebufferTexture=!0;class Gk extends Mr{constructor(e,n,r,i,s,o,a,l,u,f,c,h){super(null,o,a,l,u,f,i,s,c,h),this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}Gk.prototype.isCompressedTexture=!0;class YJ extends Mr{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.needsUpdate=!0}}YJ.prototype.isCanvasTexture=!0;class da{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],h=r[i+1]-f,g=(o-f)/h;return(i+g)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Ne:new Q);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Q,i=[],s=[],o=[],a=new Q,l=new vt;for(let g=0;g<=e;g++){const y=g/e;i[g]=this.getTangentAt(y,new Q)}s[0]=new Q,o[0]=new Q;let u=Number.MAX_VALUE;const f=Math.abs(i[0].x),c=Math.abs(i[0].y),h=Math.abs(i[0].z);f<=u&&(u=f,r.set(1,0,0)),c<=u&&(u=c,r.set(0,1,0)),h<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Kr(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,y))}o[g].crossVectors(i[g],s[g])}if(n===!0){let g=Math.acos(Kr(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],g*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Aw extends da{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Ne,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=l-this.aX,g=u-this.aY;l=h*f-g*c+this.aX,u=h*c+g*f+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}Aw.prototype.isEllipseCurve=!0;class zk extends Aw{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.type="ArcCurve"}}zk.prototype.isArcCurve=!0;function $k(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,f,c){let h=(o-s)/u-(a-s)/(u+f)+(a-o)/f,g=(a-o)/f-(l-o)/(f+c)+(l-a)/c;h*=f,g*=f,i(o,a,h,g)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const WS=new Q,pI=new $k,mI=new $k,gI=new $k;class Vk extends da{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Q){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,f;this.closed||a>0?u=i[(a-1)%s]:(WS.subVectors(i[0],i[1]).add(i[0]),u=WS);const c=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(WS.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=WS),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(c),g),_=Math.pow(c.distanceToSquared(h),g),x=Math.pow(h.distanceToSquared(f),g);_<1e-4&&(_=1),y<1e-4&&(y=_),x<1e-4&&(x=_),pI.initNonuniformCatmullRom(u.x,c.x,h.x,f.x,y,_,x),mI.initNonuniformCatmullRom(u.y,c.y,h.y,f.y,y,_,x),gI.initNonuniformCatmullRom(u.z,c.z,h.z,f.z,y,_,x)}else this.curveType==="catmullrom"&&(pI.initCatmullRom(u.x,c.x,h.x,f.x,this.tension),mI.initCatmullRom(u.y,c.y,h.y,f.y,this.tension),gI.initCatmullRom(u.z,c.z,h.z,f.z,this.tension));return r.set(pI.calc(l),mI.calc(l),gI.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Q().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}Vk.prototype.isCatmullRomCurve3=!0;function KH(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function j5e(t,e){const n=1-t;return n*n*e}function q5e(t,e){return 2*(1-t)*t*e}function K5e(t,e){return t*t*e}function m_(t,e,n,r){return j5e(t,e)+q5e(t,n)+K5e(t,r)}function Q5e(t,e){const n=1-t;return n*n*n*e}function J5e(t,e){const n=1-t;return 3*n*n*t*e}function X5e(t,e){return 3*(1-t)*t*t*e}function Y5e(t,e){return t*t*t*e}function g_(t,e,n,r,i){return Q5e(t,e)+J5e(t,n)+X5e(t,r)+Y5e(t,i)}class vM extends da{constructor(e=new Ne,n=new Ne,r=new Ne,i=new Ne){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ne){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(g_(e,i.x,s.x,o.x,a.x),g_(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}vM.prototype.isCubicBezierCurve=!0;class Wk extends da{constructor(e=new Q,n=new Q,r=new Q,i=new Q){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Q){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(g_(e,i.x,s.x,o.x,a.x),g_(e,i.y,s.y,o.y,a.y),g_(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Wk.prototype.isCubicBezierCurve3=!0;class Ew extends da{constructor(e=new Ne,n=new Ne){super(),this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ne){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const r=n||new Ne;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Ew.prototype.isLineCurve=!0;class ZJ extends da{constructor(e=new Q,n=new Q){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=n}getPoint(e,n=new Q){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _M extends da{constructor(e=new Ne,n=new Ne,r=new Ne){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ne){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(m_(e,i.x,s.x,o.x),m_(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}_M.prototype.isQuadraticBezierCurve=!0;class xM extends da{constructor(e=new Q,n=new Q,r=new Q){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Q){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(m_(e,i.x,s.x,o.x),m_(e,i.y,s.y,o.y),m_(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}xM.prototype.isQuadraticBezierCurve3=!0;class wM extends da{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,n=new Ne){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],f=i[o>i.length-2?i.length-1:o+1],c=i[o>i.length-3?i.length-1:o+2];return r.set(KH(a,l.x,u.x,f.x,c.x),KH(a,l.y,u.y,f.y,c.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ne().fromArray(i))}return this}}wM.prototype.isSplineCurve=!0;var jk=Object.freeze({__proto__:null,ArcCurve:zk,CatmullRomCurve3:Vk,CubicBezierCurve:vM,CubicBezierCurve3:Wk,EllipseCurve:Aw,LineCurve:Ew,LineCurve3:ZJ,QuadraticBezierCurve:_M,QuadraticBezierCurve3:xM,SplineCurve:wM});class eX extends da{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Ew(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const f=l[u];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new jk[i.type]().fromJSON(i))}return this}}class ty extends eX{constructor(e){super(),this.type="Path",this.currentPoint=new Ne,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new Ew(this.currentPoint.clone(),new Ne(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new _M(this.currentPoint.clone(),new Ne(e,n),new Ne(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new vM(this.currentPoint.clone(),new Ne(e,n),new Ne(r,i),new Ne(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new wM(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+u,n+f,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new Aw(e,n,r,i,s,o,a,l);if(this.curves.length>0){const c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);const f=u.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class zp extends It{constructor(e=[new Ne(0,.5),new Ne(.5,0),new Ne(0,-.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Kr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],f=1/n,c=new Q,h=new Ne,g=new Q,y=new Q,_=new Q;let x=0,w=0;for(let b=0;b<=e.length-1;b++)switch(b){case 0:x=e[b+1].x-e[b].x,w=e[b+1].y-e[b].y,g.x=w*1,g.y=-x,g.z=w*0,_.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[b+1].x-e[b].x,w=e[b+1].y-e[b].y,g.x=w*1,g.y=-x,g.z=w*0,y.copy(g),g.x+=_.x,g.y+=_.y,g.z+=_.z,g.normalize(),l.push(g.x,g.y,g.z),_.copy(y)}for(let b=0;b<=n;b++){const E=r+b*f*i,C=Math.sin(E),M=Math.cos(E);for(let P=0;P<=e.length-1;P++){c.x=e[P].x*C,c.y=e[P].y,c.z=e[P].x*M,o.push(c.x,c.y,c.z),h.x=b/n,h.y=P/(e.length-1),a.push(h.x,h.y);const D=l[3*P+0]*C,L=l[3*P+1],O=l[3*P+0]*M;u.push(D,L,O)}}for(let b=0;b<n;b++)for(let E=0;E<e.length-1;E++){const C=E+b*e.length,M=C,P=C+e.length,D=C+e.length+1,L=C+1;s.push(M,P,L),s.push(D,L,P)}this.setIndex(s),this.setAttribute("position",new _t(o,3)),this.setAttribute("uv",new _t(a,2)),this.setAttribute("normal",new _t(u,3))}static fromJSON(e){return new zp(e.points,e.segments,e.phiStart,e.phiLength)}}class ny extends zp{constructor(e=1,n=1,r=4,i=8){const s=new ty;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new ny(e.radius,e.length,e.capSegments,e.radialSegments)}}class ry extends It{constructor(e=1,n=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new Q,f=new Ne;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let c=0,h=3;c<=n;c++,h+=3){const g=r+c/n*i;u.x=e*Math.cos(g),u.y=e*Math.sin(g),o.push(u.x,u.y,u.z),a.push(0,0,1),f.x=(o[h]/e+1)/2,f.y=(o[h+1]/e+1)/2,l.push(f.x,f.y)}for(let c=1;c<=n;c++)s.push(c,c+1,0);this.setIndex(s),this.setAttribute("position",new _t(o,3)),this.setAttribute("normal",new _t(a,3)),this.setAttribute("uv",new _t(l,2))}static fromJSON(e){return new ry(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Sh extends It{constructor(e=1,n=1,r=1,i=8,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const f=[],c=[],h=[],g=[];let y=0;const _=[],x=r/2;let w=0;b(),o===!1&&(e>0&&E(!0),n>0&&E(!1)),this.setIndex(f),this.setAttribute("position",new _t(c,3)),this.setAttribute("normal",new _t(h,3)),this.setAttribute("uv",new _t(g,2));function b(){const C=new Q,M=new Q;let P=0;const D=(n-e)/r;for(let L=0;L<=s;L++){const O=[],q=L/s,j=q*(n-e)+e;for(let oe=0;oe<=i;oe++){const le=oe/i,F=le*l+a,Y=Math.sin(F),H=Math.cos(F);M.x=j*Y,M.y=-q*r+x,M.z=j*H,c.push(M.x,M.y,M.z),C.set(Y,D,H).normalize(),h.push(C.x,C.y,C.z),g.push(le,1-q),O.push(y++)}_.push(O)}for(let L=0;L<i;L++)for(let O=0;O<s;O++){const q=_[O][L],j=_[O+1][L],oe=_[O+1][L+1],le=_[O][L+1];f.push(q,j,le),f.push(j,oe,le),P+=6}u.addGroup(w,P,0),w+=P}function E(C){const M=y,P=new Ne,D=new Q;let L=0;const O=C===!0?e:n,q=C===!0?1:-1;for(let oe=1;oe<=i;oe++)c.push(0,x*q,0),h.push(0,q,0),g.push(.5,.5),y++;const j=y;for(let oe=0;oe<=i;oe++){const F=oe/i*l+a,Y=Math.cos(F),H=Math.sin(F);D.x=O*H,D.y=x*q,D.z=O*Y,c.push(D.x,D.y,D.z),h.push(0,q,0),P.x=Y*.5+.5,P.y=H*.5*q+.5,g.push(P.x,P.y),y++}for(let oe=0;oe<i;oe++){const le=M+oe,F=j+oe;C===!0?f.push(F,F+1,le):f.push(F+1,F,le),L+=3}u.addGroup(w,L,C===!0?1:2),w+=L}}static fromJSON(e){return new Sh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class iy extends Sh{constructor(e=1,n=1,r=8,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new iy(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Iu extends It{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),f(),this.setAttribute("position",new _t(s,3)),this.setAttribute("normal",new _t(s.slice(),3)),this.setAttribute("uv",new _t(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(b){const E=new Q,C=new Q,M=new Q;for(let P=0;P<n.length;P+=3)g(n[P+0],E),g(n[P+1],C),g(n[P+2],M),l(E,C,M,b)}function l(b,E,C,M){const P=M+1,D=[];for(let L=0;L<=P;L++){D[L]=[];const O=b.clone().lerp(C,L/P),q=E.clone().lerp(C,L/P),j=P-L;for(let oe=0;oe<=j;oe++)oe===0&&L===P?D[L][oe]=O:D[L][oe]=O.clone().lerp(q,oe/j)}for(let L=0;L<P;L++)for(let O=0;O<2*(P-L)-1;O++){const q=Math.floor(O/2);O%2===0?(h(D[L][q+1]),h(D[L+1][q]),h(D[L][q])):(h(D[L][q+1]),h(D[L+1][q+1]),h(D[L+1][q]))}}function u(b){const E=new Q;for(let C=0;C<s.length;C+=3)E.x=s[C+0],E.y=s[C+1],E.z=s[C+2],E.normalize().multiplyScalar(b),s[C+0]=E.x,s[C+1]=E.y,s[C+2]=E.z}function f(){const b=new Q;for(let E=0;E<s.length;E+=3){b.x=s[E+0],b.y=s[E+1],b.z=s[E+2];const C=x(b)/2/Math.PI+.5,M=w(b)/Math.PI+.5;o.push(C,1-M)}y(),c()}function c(){for(let b=0;b<o.length;b+=6){const E=o[b+0],C=o[b+2],M=o[b+4],P=Math.max(E,C,M),D=Math.min(E,C,M);P>.9&&D<.1&&(E<.2&&(o[b+0]+=1),C<.2&&(o[b+2]+=1),M<.2&&(o[b+4]+=1))}}function h(b){s.push(b.x,b.y,b.z)}function g(b,E){const C=b*3;E.x=e[C+0],E.y=e[C+1],E.z=e[C+2]}function y(){const b=new Q,E=new Q,C=new Q,M=new Q,P=new Ne,D=new Ne,L=new Ne;for(let O=0,q=0;O<s.length;O+=9,q+=6){b.set(s[O+0],s[O+1],s[O+2]),E.set(s[O+3],s[O+4],s[O+5]),C.set(s[O+6],s[O+7],s[O+8]),P.set(o[q+0],o[q+1]),D.set(o[q+2],o[q+3]),L.set(o[q+4],o[q+5]),M.copy(b).add(E).add(C).divideScalar(3);const j=x(M);_(P,q+0,b,j),_(D,q+2,E,j),_(L,q+4,C,j)}}function _(b,E,C,M){M<0&&b.x===1&&(o[E]=b.x-1),C.x===0&&C.z===0&&(o[E]=M/2/Math.PI+.5)}function x(b){return Math.atan2(b.z,-b.x)}function w(b){return Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))}}static fromJSON(e){return new Iu(e.vertices,e.indices,e.radius,e.details)}}class sy extends Iu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sy(e.radius,e.detail)}}const jS=new Q,qS=new Q,yI=new Q,KS=new Qr;class qk extends It{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(vp*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],f=["a","b","c"],c=new Array(3),h={},g=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:_,b:x,c:w}=KS;if(_.fromBufferAttribute(a,u[0]),x.fromBufferAttribute(a,u[1]),w.fromBufferAttribute(a,u[2]),KS.getNormal(yI),c[0]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,c[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,c[2]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,!(c[0]===c[1]||c[1]===c[2]||c[2]===c[0]))for(let b=0;b<3;b++){const E=(b+1)%3,C=c[b],M=c[E],P=KS[f[b]],D=KS[f[E]],L=`${C}_${M}`,O=`${M}_${C}`;O in h&&h[O]?(yI.dot(h[O].normal)<=s&&(g.push(P.x,P.y,P.z),g.push(D.x,D.y,D.z)),h[O]=null):L in h||(h[L]={index0:u[b],index1:u[E],normal:yI.clone()})}}for(const y in h)if(h[y]){const{index0:_,index1:x}=h[y];jS.fromBufferAttribute(a,_),qS.fromBufferAttribute(a,x),g.push(jS.x,jS.y,jS.z),g.push(qS.x,qS.y,qS.z)}this.setAttribute("position",new _t(g,3))}}}class Au extends ty{constructor(e){super(e),this.uuid=la(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new ty().fromJSON(i))}return this}}const Z5e={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=tX(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,f,c,h,g;if(r&&(s=iUe(t,e,s,n)),t.length>80*n){a=u=t[0],l=f=t[1];for(let y=n;y<i;y+=n)c=t[y],h=t[y+1],c<a&&(a=c),h<l&&(l=h),c>u&&(u=c),h>f&&(f=h);g=Math.max(u-a,f-l),g=g!==0?1/g:0}return vx(s,o,n,a,l,g),o}};function tX(t,e,n,r,i){let s,o;if(i===mUe(t,e,n,r)>0)for(s=e;s<n;s+=r)o=QH(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=QH(s,t[s],t[s+1],o);return o&&bM(o,o.next)&&(xx(o),o=o.next),o}function Ah(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(bM(n,n.next)||Er(n.prev,n,n.next)===0)){if(xx(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function vx(t,e,n,r,i,s,o){if(!t)return;!o&&s&&uUe(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?tUe(t,r,i,s):eUe(t)){e.push(l.i/n),e.push(t.i/n),e.push(u.i/n),xx(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=nUe(Ah(t),e,n),vx(t,e,n,r,i,s,2)):o===2&&rUe(t,e,n,r,i,s):vx(Ah(t),e,n,r,i,s,1);break}}}function eUe(t){const e=t.prev,n=t,r=t.next;if(Er(e,n,r)>=0)return!1;let i=t.next.next;for(;i!==t.prev;){if(u0(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Er(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function tUe(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Er(i,s,o)>=0)return!1;const a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,f=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,c=k3(a,l,e,n,r),h=k3(u,f,e,n,r);let g=t.prevZ,y=t.nextZ;for(;g&&g.z>=c&&y&&y.z<=h;){if(g!==t.prev&&g!==t.next&&u0(i.x,i.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Er(g.prev,g,g.next)>=0||(g=g.prevZ,y!==t.prev&&y!==t.next&&u0(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&Er(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;g&&g.z>=c;){if(g!==t.prev&&g!==t.next&&u0(i.x,i.y,s.x,s.y,o.x,o.y,g.x,g.y)&&Er(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;y&&y.z<=h;){if(y!==t.prev&&y!==t.next&&u0(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&Er(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function nUe(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!bM(i,s)&&nX(i,r,r.next,s)&&_x(i,s)&&_x(s,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(s.i/n),xx(r),xx(r.next),r=t=s),r=r.next}while(r!==t);return Ah(r)}function rUe(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&hUe(o,a)){let l=rX(o,a);o=Ah(o,o.next),l=Ah(l,l.next),vx(o,e,n,r,i,s),vx(l,e,n,r,i,s);return}a=a.next}o=o.next}while(o!==t)}function iUe(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=tX(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(fUe(u));for(i.sort(sUe),s=0;s<i.length;s++)oUe(i[s],n),n=Ah(n,n.next);return n}function sUe(t,e){return t.x-e.x}function oUe(t,e){if(e=aUe(t,e),e){const n=rX(e,t);Ah(e,e.next),Ah(n,n.next)}}function aUe(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const h=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=r&&h>s){if(s=h,h===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!o)return null;if(r===s)return o;const a=o,l=o.x,u=o.y;let f=1/0,c;n=o;do r>=n.x&&n.x>=l&&r!==n.x&&u0(i<u?r:s,i,l,u,i<u?s:r,i,n.x,n.y)&&(c=Math.abs(i-n.y)/(r-n.x),_x(n,t)&&(c<f||c===f&&(n.x>o.x||n.x===o.x&&lUe(o,n)))&&(o=n,f=c)),n=n.next;while(n!==a);return o}function lUe(t,e){return Er(t.prev,t,e.prev)<0&&Er(e.next,t,t.next)<0}function uUe(t,e,n,r){let i=t;do i.z===null&&(i.z=k3(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,cUe(i)}function cUe(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function k3(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function fUe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function u0(t,e,n,r,i,s,o,a){return(i-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(r-a)-(n-o)*(e-a)>=0&&(n-o)*(s-a)-(i-o)*(r-a)>=0}function hUe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!dUe(t,e)&&(_x(t,e)&&_x(e,t)&&pUe(t,e)&&(Er(t.prev,t,e.prev)||Er(t,e.prev,e))||bM(t,e)&&Er(t.prev,t,t.next)>0&&Er(e.prev,e,e.next)>0)}function Er(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function bM(t,e){return t.x===e.x&&t.y===e.y}function nX(t,e,n,r){const i=JS(Er(t,e,n)),s=JS(Er(t,e,r)),o=JS(Er(n,r,t)),a=JS(Er(n,r,e));return!!(i!==s&&o!==a||i===0&&QS(t,n,e)||s===0&&QS(t,r,e)||o===0&&QS(n,t,r)||a===0&&QS(n,e,r))}function QS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function JS(t){return t>0?1:t<0?-1:0}function dUe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&nX(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function _x(t,e){return Er(t.prev,t,t.next)<0?Er(t,e,t.next)>=0&&Er(t,t.prev,e)>=0:Er(t,e,t.prev)<0||Er(t,t.next,e)<0}function pUe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function rX(t,e){const n=new F3(t.i,t.x,t.y),r=new F3(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function QH(t,e,n,r){const i=new F3(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function xx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function F3(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mUe(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Eu{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Eu.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];JH(e),XH(r,e);let o=e.length;n.forEach(JH);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,XH(r,n[l]);const a=Z5e.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function JH(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function XH(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Lu extends It{constructor(e=new Au([new Ne(.5,.5),new Ne(-.5,.5),new Ne(-.5,-.5),new Ne(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new _t(i,3)),this.setAttribute("uv",new _t(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1;let c=n.depth!==void 0?n.depth:1,h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,g=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:g-.1,_=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const w=n.extrudePath,b=n.UVGenerator!==void 0?n.UVGenerator:gUe;n.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=n.amount);let E,C=!1,M,P,D,L;w&&(E=w.getSpacedPoints(f),C=!0,h=!1,M=w.computeFrenetFrames(f,!1),P=new Q,D=new Q,L=new Q),h||(x=0,g=0,y=0,_=0);const O=a.extractPoints(u);let q=O.shape;const j=O.holes;if(!Eu.isClockWise(q)){q=q.reverse();for(let Re=0,U=j.length;Re<U;Re++){const te=j[Re];Eu.isClockWise(te)&&(j[Re]=te.reverse())}}const le=Eu.triangulateShape(q,j),F=q;for(let Re=0,U=j.length;Re<U;Re++){const te=j[Re];q=q.concat(te)}function Y(Re,U,te){return U||console.error("THREE.ExtrudeGeometry: vec does not exist"),U.clone().multiplyScalar(te).add(Re)}const H=q.length,ee=le.length;function k(Re,U,te){let J,ve,Pe;const Le=Re.x-U.x,je=Re.y-U.y,xt=te.x-Re.x,gt=te.y-Re.y,se=Le*Le+je*je,X=Le*gt-je*xt;if(Math.abs(X)>Number.EPSILON){const Ae=Math.sqrt(se),Ge=Math.sqrt(xt*xt+gt*gt),nt=U.x-je/Ae,ot=U.y+Le/Ae,Et=te.x-gt/Ge,Ie=te.y+xt/Ge,Vt=((Et-nt)*gt-(Ie-ot)*xt)/(Le*gt-je*xt);J=nt+Le*Vt-Re.x,ve=ot+je*Vt-Re.y;const Xt=J*J+ve*ve;if(Xt<=2)return new Ne(J,ve);Pe=Math.sqrt(Xt/2)}else{let Ae=!1;Le>Number.EPSILON?xt>Number.EPSILON&&(Ae=!0):Le<-Number.EPSILON?xt<-Number.EPSILON&&(Ae=!0):Math.sign(je)===Math.sign(gt)&&(Ae=!0),Ae?(J=-je,ve=Le,Pe=Math.sqrt(se)):(J=Le,ve=je,Pe=Math.sqrt(se/2))}return new Ne(J/Pe,ve/Pe)}const G=[];for(let Re=0,U=F.length,te=U-1,J=Re+1;Re<U;Re++,te++,J++)te===U&&(te=0),J===U&&(J=0),G[Re]=k(F[Re],F[te],F[J]);const $=[];let ie,ue=G.concat();for(let Re=0,U=j.length;Re<U;Re++){const te=j[Re];ie=[];for(let J=0,ve=te.length,Pe=ve-1,Le=J+1;J<ve;J++,Pe++,Le++)Pe===ve&&(Pe=0),Le===ve&&(Le=0),ie[J]=k(te[J],te[Pe],te[Le]);$.push(ie),ue=ue.concat(ie)}for(let Re=0;Re<x;Re++){const U=Re/x,te=g*Math.cos(U*Math.PI/2),J=y*Math.sin(U*Math.PI/2)+_;for(let ve=0,Pe=F.length;ve<Pe;ve++){const Le=Y(F[ve],G[ve],J);Ze(Le.x,Le.y,-te)}for(let ve=0,Pe=j.length;ve<Pe;ve++){const Le=j[ve];ie=$[ve];for(let je=0,xt=Le.length;je<xt;je++){const gt=Y(Le[je],ie[je],J);Ze(gt.x,gt.y,-te)}}}const xe=y+_;for(let Re=0;Re<H;Re++){const U=h?Y(q[Re],ue[Re],xe):q[Re];C?(D.copy(M.normals[0]).multiplyScalar(U.x),P.copy(M.binormals[0]).multiplyScalar(U.y),L.copy(E[0]).add(D).add(P),Ze(L.x,L.y,L.z)):Ze(U.x,U.y,0)}for(let Re=1;Re<=f;Re++)for(let U=0;U<H;U++){const te=h?Y(q[U],ue[U],xe):q[U];C?(D.copy(M.normals[Re]).multiplyScalar(te.x),P.copy(M.binormals[Re]).multiplyScalar(te.y),L.copy(E[Re]).add(D).add(P),Ze(L.x,L.y,L.z)):Ze(te.x,te.y,c/f*Re)}for(let Re=x-1;Re>=0;Re--){const U=Re/x,te=g*Math.cos(U*Math.PI/2),J=y*Math.sin(U*Math.PI/2)+_;for(let ve=0,Pe=F.length;ve<Pe;ve++){const Le=Y(F[ve],G[ve],J);Ze(Le.x,Le.y,c+te)}for(let ve=0,Pe=j.length;ve<Pe;ve++){const Le=j[ve];ie=$[ve];for(let je=0,xt=Le.length;je<xt;je++){const gt=Y(Le[je],ie[je],J);C?Ze(gt.x,gt.y+E[f-1].y,E[f-1].x+te):Ze(gt.x,gt.y,c+te)}}}Oe(),de();function Oe(){const Re=i.length/3;if(h){let U=0,te=H*U;for(let J=0;J<ee;J++){const ve=le[J];Qe(ve[2]+te,ve[1]+te,ve[0]+te)}U=f+x*2,te=H*U;for(let J=0;J<ee;J++){const ve=le[J];Qe(ve[0]+te,ve[1]+te,ve[2]+te)}}else{for(let U=0;U<ee;U++){const te=le[U];Qe(te[2],te[1],te[0])}for(let U=0;U<ee;U++){const te=le[U];Qe(te[0]+H*f,te[1]+H*f,te[2]+H*f)}}r.addGroup(Re,i.length/3-Re,0)}function de(){const Re=i.length/3;let U=0;ge(F,U),U+=F.length;for(let te=0,J=j.length;te<J;te++){const ve=j[te];ge(ve,U),U+=ve.length}r.addGroup(Re,i.length/3-Re,1)}function ge(Re,U){let te=Re.length;for(;--te>=0;){const J=te;let ve=te-1;ve<0&&(ve=Re.length-1);for(let Pe=0,Le=f+x*2;Pe<Le;Pe++){const je=H*Pe,xt=H*(Pe+1),gt=U+J+je,se=U+ve+je,X=U+ve+xt,Ae=U+J+xt;We(gt,se,X,Ae)}}}function Ze(Re,U,te){l.push(Re),l.push(U),l.push(te)}function Qe(Re,U,te){Ue(Re),Ue(U),Ue(te);const J=i.length/3,ve=b.generateTopUV(r,i,J-3,J-2,J-1);mt(ve[0]),mt(ve[1]),mt(ve[2])}function We(Re,U,te,J){Ue(Re),Ue(U),Ue(J),Ue(U),Ue(te),Ue(J);const ve=i.length/3,Pe=b.generateSideWallUV(r,i,ve-6,ve-3,ve-2,ve-1);mt(Pe[0]),mt(Pe[1]),mt(Pe[3]),mt(Pe[1]),mt(Pe[2]),mt(Pe[3])}function Ue(Re){i.push(l[Re*3+0]),i.push(l[Re*3+1]),i.push(l[Re*3+2])}function mt(Re){s.push(Re.x),s.push(Re.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return yUe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new jk[i.type]().fromJSON(i)),new Lu(r,e.options)}}const gUe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],f=e[i*3+1];return[new Ne(s,o),new Ne(a,l),new Ne(u,f)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],f=e[r*3+1],c=e[r*3+2],h=e[i*3],g=e[i*3+1],y=e[i*3+2],_=e[s*3],x=e[s*3+1],w=e[s*3+2];return Math.abs(a-f)<Math.abs(o-u)?[new Ne(o,1-l),new Ne(u,1-c),new Ne(h,1-y),new Ne(_,1-w)]:[new Ne(a,1-l),new Ne(f,1-c),new Ne(g,1-y),new Ne(x,1-w)]}};function yUe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class oy extends Iu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new oy(e.radius,e.detail)}}class $p extends Iu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $p(e.radius,e.detail)}}class ay extends It{constructor(e=.5,n=1,r=8,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],f=[];let c=e;const h=(n-e)/i,g=new Q,y=new Ne;for(let _=0;_<=i;_++){for(let x=0;x<=r;x++){const w=s+x/r*o;g.x=c*Math.cos(w),g.y=c*Math.sin(w),l.push(g.x,g.y,g.z),u.push(0,0,1),y.x=(g.x/n+1)/2,y.y=(g.y/n+1)/2,f.push(y.x,y.y)}c+=h}for(let _=0;_<i;_++){const x=_*(r+1);for(let w=0;w<r;w++){const b=w+x,E=b,C=b+r+1,M=b+r+2,P=b+1;a.push(E,C,P),a.push(C,M,P)}}this.setIndex(a),this.setAttribute("position",new _t(l,3)),this.setAttribute("normal",new _t(u,3)),this.setAttribute("uv",new _t(f,2))}static fromJSON(e){return new ay(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Vp extends It{constructor(e=new Au([new Ne(0,.5),new Ne(-.5,-.5),new Ne(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let f=0;f<e.length;f++)u(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new _t(i,3)),this.setAttribute("normal",new _t(s,3)),this.setAttribute("uv",new _t(o,2));function u(f){const c=i.length/3,h=f.extractPoints(n);let g=h.shape;const y=h.holes;Eu.isClockWise(g)===!1&&(g=g.reverse());for(let x=0,w=y.length;x<w;x++){const b=y[x];Eu.isClockWise(b)===!0&&(y[x]=b.reverse())}const _=Eu.triangulateShape(g,y);for(let x=0,w=y.length;x<w;x++){const b=y[x];g=g.concat(b)}for(let x=0,w=g.length;x<w;x++){const b=g[x];i.push(b.x,b.y,0),s.push(0,0,1),o.push(b.x,b.y)}for(let x=0,w=_.length;x<w;x++){const b=_[x],E=b[0]+c,C=b[1]+c,M=b[2]+c;r.push(E,C,M),l+=3}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return vUe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new Vp(r,e.curveSegments)}}function vUe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Wp extends It{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const f=[],c=new Q,h=new Q,g=[],y=[],_=[],x=[];for(let w=0;w<=r;w++){const b=[],E=w/r;let C=0;w==0&&o==0?C=.5/n:w==r&&l==Math.PI&&(C=-.5/n);for(let M=0;M<=n;M++){const P=M/n;c.x=-e*Math.cos(i+P*s)*Math.sin(o+E*a),c.y=e*Math.cos(o+E*a),c.z=e*Math.sin(i+P*s)*Math.sin(o+E*a),y.push(c.x,c.y,c.z),h.copy(c).normalize(),_.push(h.x,h.y,h.z),x.push(P+C,1-E),b.push(u++)}f.push(b)}for(let w=0;w<r;w++)for(let b=0;b<n;b++){const E=f[w][b+1],C=f[w][b],M=f[w+1][b],P=f[w+1][b+1];(w!==0||o>0)&&g.push(E,C,P),(w!==r-1||l<Math.PI)&&g.push(C,M,P)}this.setIndex(g),this.setAttribute("position",new _t(y,3)),this.setAttribute("normal",new _t(_,3)),this.setAttribute("uv",new _t(x,2))}static fromJSON(e){return new Wp(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class ly extends Iu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ly(e.radius,e.detail)}}class uy extends It{constructor(e=1,n=.4,r=8,i=6,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],f=new Q,c=new Q,h=new Q;for(let g=0;g<=r;g++)for(let y=0;y<=i;y++){const _=y/i*s,x=g/r*Math.PI*2;c.x=(e+n*Math.cos(x))*Math.cos(_),c.y=(e+n*Math.cos(x))*Math.sin(_),c.z=n*Math.sin(x),a.push(c.x,c.y,c.z),f.x=e*Math.cos(_),f.y=e*Math.sin(_),h.subVectors(c,f).normalize(),l.push(h.x,h.y,h.z),u.push(y/i),u.push(g/r)}for(let g=1;g<=r;g++)for(let y=1;y<=i;y++){const _=(i+1)*g+y-1,x=(i+1)*(g-1)+y-1,w=(i+1)*(g-1)+y,b=(i+1)*g+y;o.push(_,x,b),o.push(x,w,b)}this.setIndex(o),this.setAttribute("position",new _t(a,3)),this.setAttribute("normal",new _t(l,3)),this.setAttribute("uv",new _t(u,2))}static fromJSON(e){return new uy(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class cy extends It{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],f=[],c=new Q,h=new Q,g=new Q,y=new Q,_=new Q,x=new Q,w=new Q;for(let E=0;E<=r;++E){const C=E/r*s*Math.PI*2;b(C,s,o,e,g),b(C+.01,s,o,e,y),x.subVectors(y,g),w.addVectors(y,g),_.crossVectors(x,w),w.crossVectors(_,x),_.normalize(),w.normalize();for(let M=0;M<=i;++M){const P=M/i*Math.PI*2,D=-n*Math.cos(P),L=n*Math.sin(P);c.x=g.x+(D*w.x+L*_.x),c.y=g.y+(D*w.y+L*_.y),c.z=g.z+(D*w.z+L*_.z),l.push(c.x,c.y,c.z),h.subVectors(c,g).normalize(),u.push(h.x,h.y,h.z),f.push(E/r),f.push(M/i)}}for(let E=1;E<=r;E++)for(let C=1;C<=i;C++){const M=(i+1)*(E-1)+(C-1),P=(i+1)*E+(C-1),D=(i+1)*E+C,L=(i+1)*(E-1)+C;a.push(M,P,L),a.push(P,D,L)}this.setIndex(a),this.setAttribute("position",new _t(l,3)),this.setAttribute("normal",new _t(u,3)),this.setAttribute("uv",new _t(f,2));function b(E,C,M,P,D){const L=Math.cos(E),O=Math.sin(E),q=M/C*E,j=Math.cos(q);D.x=P*(2+j)*.5*L,D.y=P*(2+j)*O*.5,D.z=P*Math.sin(q)*.5}}static fromJSON(e){return new cy(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class fy extends It{constructor(e=new xM(new Q(-1,-1,0),new Q(-1,1,0),new Q(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Q,l=new Q,u=new Ne;let f=new Q;const c=[],h=[],g=[],y=[];_(),this.setIndex(y),this.setAttribute("position",new _t(c,3)),this.setAttribute("normal",new _t(h,3)),this.setAttribute("uv",new _t(g,2));function _(){for(let E=0;E<n;E++)x(E);x(s===!1?n:0),b(),w()}function x(E){f=e.getPointAt(E/n,f);const C=o.normals[E],M=o.binormals[E];for(let P=0;P<=i;P++){const D=P/i*Math.PI*2,L=Math.sin(D),O=-Math.cos(D);l.x=O*C.x+L*M.x,l.y=O*C.y+L*M.y,l.z=O*C.z+L*M.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,c.push(a.x,a.y,a.z)}}function w(){for(let E=1;E<=n;E++)for(let C=1;C<=i;C++){const M=(i+1)*(E-1)+(C-1),P=(i+1)*E+(C-1),D=(i+1)*E+C,L=(i+1)*(E-1)+C;y.push(M,P,L),y.push(P,D,L)}}function b(){for(let E=0;E<=n;E++)for(let C=0;C<=i;C++)u.x=E/n,u.y=C/i,g.push(u.x,u.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new fy(new jk[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Kk extends It{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Q,s=new Q;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,f=l.length;u<f;++u){const c=l[u],h=c.start,g=c.count;for(let y=h,_=h+g;y<_;y+=3)for(let x=0;x<3;x++){const w=a.getX(y+x),b=a.getX(y+(x+1)%3);i.fromBufferAttribute(o,w),s.fromBufferAttribute(o,b),YH(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const f=3*a+u,c=3*a+(u+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,c),YH(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new _t(n,3))}}}function YH(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var ZH=Object.freeze({__proto__:null,BoxGeometry:Dc,BoxBufferGeometry:Dc,CapsuleGeometry:ny,CapsuleBufferGeometry:ny,CircleGeometry:ry,CircleBufferGeometry:ry,ConeGeometry:iy,ConeBufferGeometry:iy,CylinderGeometry:Sh,CylinderBufferGeometry:Sh,DodecahedronGeometry:sy,DodecahedronBufferGeometry:sy,EdgesGeometry:qk,ExtrudeGeometry:Lu,ExtrudeBufferGeometry:Lu,IcosahedronGeometry:oy,IcosahedronBufferGeometry:oy,LatheGeometry:zp,LatheBufferGeometry:zp,OctahedronGeometry:$p,OctahedronBufferGeometry:$p,PlaneGeometry:Hp,PlaneBufferGeometry:Hp,PolyhedronGeometry:Iu,PolyhedronBufferGeometry:Iu,RingGeometry:ay,RingBufferGeometry:ay,ShapeGeometry:Vp,ShapeBufferGeometry:Vp,SphereGeometry:Wp,SphereBufferGeometry:Wp,TetrahedronGeometry:ly,TetrahedronBufferGeometry:ly,TorusGeometry:uy,TorusBufferGeometry:uy,TorusKnotGeometry:cy,TorusKnotBufferGeometry:cy,TubeGeometry:fy,TubeBufferGeometry:fy,WireframeGeometry:Kk});class Qk extends vr{constructor(e){super(),this.type="ShadowMaterial",this.color=new qe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}Qk.prototype.isShadowMaterial=!0;class Jk extends ja{constructor(e){super(e),this.type="RawShaderMaterial"}}Jk.prototype.isRawShaderMaterial=!0;class zh extends vr{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new qe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}zh.prototype.isMeshStandardMaterial=!0;class Uu extends zh{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ne(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Kr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.sheenColor=new qe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new qe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new qe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}Uu.prototype.isMeshPhysicalMaterial=!0;class Xk extends vr{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new qe(16777215),this.specular=new qe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}Xk.prototype.isMeshPhongMaterial=!0;class Yk extends vr{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new qe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}Yk.prototype.isMeshToonMaterial=!0;class Zk extends vr{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}Zk.prototype.isMeshNormalMaterial=!0;class eF extends vr{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=mw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}eF.prototype.isMeshLambertMaterial=!0;class tF extends vr{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kh,this.normalScale=new Ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}tF.prototype.isMeshMatcapMaterial=!0;class nF extends bi{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}nF.prototype.isLineDashedMaterial=!0;const _Ue={ShadowMaterial:Qk,SpriteMaterial:mM,RawShaderMaterial:Jk,ShaderMaterial:ja,PointsMaterial:Gh,MeshPhysicalMaterial:Uu,MeshStandardMaterial:zh,MeshPhongMaterial:Xk,MeshToonMaterial:Yk,MeshNormalMaterial:Zk,MeshLambertMaterial:eF,MeshDepthMaterial:dM,MeshDistanceMaterial:pM,MeshBasicMaterial:Ao,MeshMatcapMaterial:tF,LineDashedMaterial:nF,LineBasicMaterial:bi,Material:vr};vr.fromType=function(t){return new _Ue[t]};const ur={arraySlice:function(t,e,n){return ur.isTypedArray(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r},sortedArray:function(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i},flattenJSON:function(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)},subclip:function(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],f=u.getValueSize(),c=[],h=[];for(let g=0;g<u.times.length;++g){const y=u.times[g]*i;if(!(y<n||y>=r)){c.push(u.times[g]);for(let _=0;_<f;++_)h.push(u.values[g*f+_])}}c.length!==0&&(u.times=ur.convertArray(c,u.times.constructor),u.values=ur.convertArray(h,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(w){return w.name===a.name&&w.ValueTypeName===l});if(u===void 0)continue;let f=0;const c=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=c/3);let h=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=g/3);const y=a.times.length-1;let _;if(s<=a.times[0]){const w=f,b=c-f;_=ur.arraySlice(a.values,w,b)}else if(s>=a.times[y]){const w=y*c+f,b=w+c-f;_=ur.arraySlice(a.values,w,b)}else{const w=a.createInterpolant(),b=f,E=c-f;w.evaluate(s),_=ur.arraySlice(w.resultBuffer,b,E)}l==="quaternion"&&new yr().fromArray(_).normalize().conjugate().toArray(_);const x=u.times.length;for(let w=0;w<x;++w){const b=w*g+h;if(l==="quaternion")yr.multiplyQuaternionsFlat(u.values,b,_,0,u.values,b);else{const E=g-h*2;for(let C=0;C<E;++C)u.values[b+C]-=_[C]}}}return t.blendMode=Bk,t}};class Pu{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,e,s)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return r=n.length,this._cachedIndex=r,this.afterEnd_(r-1,s,e)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Pu.prototype.beforeStart_=Pu.prototype.copySampleValue_;Pu.prototype.afterEnd_=Pu.prototype.copySampleValue_;class iX extends Pu{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ap,endingEnd:ap}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case lp:s=e,a=2*n-r;break;case mx:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case lp:o=e,l=2*r-n;break;case mx:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,f=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,g=this._weightNext,y=(r-n)/(i-n),_=y*y,x=_*y,w=-h*x+2*h*_-h*y,b=(1+h)*x+(-1.5-2*h)*_+(-.5+h)*y+1,E=(-1-g)*x+(1.5+g)*_+.5*y,C=g*x-g*_;for(let M=0;M!==a;++M)s[M]=w*o[f+M]+b*o[u+M]+E*o[l+M]+C*o[c+M];return s}}class rF extends Pu{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,f=(r-n)/(i-n),c=1-f;for(let h=0;h!==a;++h)s[h]=o[u+h]*c+o[l+h]*f;return s}}class sX extends Pu{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Dl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ur.convertArray(n,this.TimeBufferType),this.values=ur.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:ur.convertArray(e.times,Array),values:ur.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new sX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new rF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new iX(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case X0:n=this.InterpolantFactoryMethodDiscrete;break;case Up:n=this.InterpolantFactoryMethodLinear;break;case JA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return X0;case this.InterpolantFactoryMethodLinear:return Up;case this.InterpolantFactoryMethodSmooth:return JA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=ur.arraySlice(r,s,o),this.values=ur.arraySlice(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&ur.isTypedArray(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=ur.arraySlice(this.times),n=ur.arraySlice(this.values),r=this.getValueSize(),i=this.getInterpolation()===JA,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],f=e[a+1];if(u!==f&&(a!==1||u!==e[0]))if(i)l=!0;else{const c=a*r,h=c-r,g=c+r;for(let y=0;y!==r;++y){const _=n[c+y];if(_!==n[h+y]||_!==n[g+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const c=a*r,h=o*r;for(let g=0;g!==r;++g)n[h+g]=n[c+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=ur.arraySlice(e,0,o),this.values=ur.arraySlice(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=ur.arraySlice(this.times,0),n=ur.arraySlice(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Dl.prototype.TimeBufferType=Float32Array;Dl.prototype.ValueBufferType=Float32Array;Dl.prototype.DefaultInterpolation=Up;class am extends Dl{}am.prototype.ValueTypeName="bool";am.prototype.ValueBufferType=Array;am.prototype.DefaultInterpolation=X0;am.prototype.InterpolantFactoryMethodLinear=void 0;am.prototype.InterpolantFactoryMethodSmooth=void 0;class iF extends Dl{}iF.prototype.ValueTypeName="color";class hy extends Dl{}hy.prototype.ValueTypeName="number";class oX extends Pu{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let f=u+a;u!==f;u+=4)yr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Eh extends Dl{InterpolantFactoryMethodLinear(e){return new oX(this.times,this.values,this.getValueSize(),e)}}Eh.prototype.ValueTypeName="quaternion";Eh.prototype.DefaultInterpolation=Up;Eh.prototype.InterpolantFactoryMethodSmooth=void 0;class lm extends Dl{}lm.prototype.ValueTypeName="string";lm.prototype.ValueBufferType=Array;lm.prototype.DefaultInterpolation=X0;lm.prototype.InterpolantFactoryMethodLinear=void 0;lm.prototype.InterpolantFactoryMethodSmooth=void 0;class dy extends Dl{}dy.prototype.ValueTypeName="vector";class py{constructor(e,n=-1,r,i=aM){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=la(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(wUe(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Dl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const f=ur.getKeyframeOrder(l);l=ur.sortedArray(l,1,f),u=ur.sortedArray(u,1,f),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new hy(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],f=u.name.match(s);if(f&&f.length>1){const c=f[1];let h=i[c];h||(i[c]=h=[]),h.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(c,h,g,y,_){if(g.length!==0){const x=[],w=[];ur.flattenJSON(g,x,w,y),x.length!==0&&_.push(new c(h,x,w))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let c=0;c<u.length;c++){const h=u[c].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const g={};let y;for(y=0;y<h.length;y++)if(h[y].morphTargets)for(let _=0;_<h[y].morphTargets.length;_++)g[h[y].morphTargets[_]]=-1;for(const _ in g){const x=[],w=[];for(let b=0;b!==h[y].morphTargets.length;++b){const E=h[y];x.push(E.time),w.push(E.morphTarget===_?1:0)}i.push(new hy(".morphTargetInfluence["+_+"]",x,w))}l=g.length*o}else{const g=".bones["+n[c].name+"]";r(dy,g+".position",h,"pos",i),r(Eh,g+".quaternion",h,"rot",i),r(dy,g+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function xUe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hy;case"vector":case"vector2":case"vector3":case"vector4":return dy;case"color":return iF;case"quaternion":return Eh;case"bool":case"boolean":return am;case"string":return lm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function wUe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=xUe(t.type);if(t.times===void 0){const n=[],r=[];ur.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const jp={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class sF{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,c){return u.push(f,c),this},this.removeHandler=function(f){const c=u.indexOf(f);return c!==-1&&u.splice(c,2),this},this.getHandler=function(f){for(let c=0,h=u.length;c<h;c+=2){const g=u[c],y=u[c+1];if(g.global&&(g.lastIndex=0),g.test(f))return y}return null}}}const aX=new sF;class ls{constructor(e){this.manager=e!==void 0?e:aX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const ac={};class Ro extends ls{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=jp.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ac[e]!==void 0){ac[e].push({onLoad:n,onProgress:r,onError:i});return}ac[e]=[],ac[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const f=ac[e],c=u.body.getReader(),h=u.headers.get("Content-Length"),g=h?parseInt(h):0,y=g!==0;let _=0;const x=new ReadableStream({start(w){b();function b(){c.read().then(({done:E,value:C})=>{if(E)w.close();else{_+=C.byteLength;const M=new ProgressEvent("progress",{lengthComputable:y,loaded:_,total:g});for(let P=0,D=f.length;P<D;P++){const L=f[P];L.onProgress&&L.onProgress(M)}w.enqueue(C),b()}})}}});return new Response(x)}else throw Error(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return u.json();default:if(a===void 0)return u.text();{const c=/charset="?([^;"\s]*)"?/i.exec(a),h=c&&c[1]?c[1].toLowerCase():void 0,g=new TextDecoder(h);return u.arrayBuffer().then(y=>g.decode(y))}}}).then(u=>{jp.add(e,u);const f=ac[e];delete ac[e];for(let c=0,h=f.length;c<h;c++){const g=f[c];g.onLoad&&g.onLoad(u)}}).catch(u=>{const f=ac[e];if(f===void 0)throw this.manager.itemError(e),u;delete ac[e];for(let c=0,h=f.length;c<h;c++){const g=f[c];g.onError&&g.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class bUe extends ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ro(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=py.parse(e[r]);n.push(i)}return n}}class SUe extends ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new Gk,l=new Ro(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function f(c){l.load(e[c],function(h){const g=s.parse(h,!0);o[c]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},u+=1,u===6&&(g.mipmapCount===1&&(a.minFilter=Ar),a.image=o,a.format=g.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let c=0,h=e.length;c<h;++c)f(c);else l.load(e,function(c){const h=s.parse(c,!0);if(h.isCubemap){const g=h.mipmaps.length/h.mipmapCount;for(let y=0;y<g;y++){o[y]={mipmaps:[]};for(let _=0;_<h.mipmapCount;_++)o[y].mipmaps.push(h.mipmaps[y*h.mipmapCount+_]),o[y].format=h.format,o[y].width=h.width,o[y].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=Ar),a.format=h.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class wx extends ls{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=jp.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=yx("img");function l(){f(),jp.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(c){f(),i&&i(c),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class lX extends ls{constructor(e){super(e)}load(e,n,r,i){const s=new ev,o=new wx(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(f){s.images[u]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class uX extends ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new wp,a=new Ro(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);!u||(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:bs,o.wrapT=u.wrapT!==void 0?u.wrapT:bs,o.magFilter=u.magFilter!==void 0?u.magFilter:Ar,o.minFilter=u.minFilter!==void 0?u.minFilter:Ar,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Hc),u.mipmapCount===1&&(o.minFilter=Ar),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class SM extends ls{constructor(e){super(e)}load(e,n,r,i){const s=new Mr,o=new wx(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Il extends mn{constructor(e,n=1){super(),this.type="Light",this.color=new qe(e),this.intensity=n}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}Il.prototype.isLight=!0;class oF extends Il{constructor(e,n,r){super(e,r),this.type="HemisphereLight",this.position.copy(mn.DefaultUp),this.updateMatrix(),this.groundColor=new qe(n)}copy(e){return Il.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}oF.prototype.isHemisphereLight=!0;const e9=new vt,t9=new Q,n9=new Q;class aF{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ne(512,512),this.map=null,this.mapPass=null,this.matrix=new vt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new yw,this._frameExtents=new Ne(1,1),this._viewportCount=1,this._viewports=[new zn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;t9.setFromMatrixPosition(e.matrixWorld),n.position.copy(t9),n9.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(n9),n.updateMatrixWorld(),e9.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(e9),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(n.projectionMatrix),r.multiply(n.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class cX extends aF{constructor(){super(new oi(50,1,.5,500)),this.focus=1}updateMatrices(e){const n=this.camera,r=gx*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}cX.prototype.isSpotLightShadow=!0;class AM extends Il{constructor(e,n,r=0,i=Math.PI/3,s=0,o=1){super(e,n),this.type="SpotLight",this.position.copy(mn.DefaultUp),this.updateMatrix(),this.target=new mn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.shadow=new cX}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}AM.prototype.isSpotLight=!0;const r9=new vt,M1=new Q,vI=new Q;class fX extends aF{constructor(){super(new oi(90,1,.5,500)),this._frameExtents=new Ne(4,2),this._viewportCount=6,this._viewports=[new zn(2,1,1,1),new zn(0,1,1,1),new zn(3,1,1,1),new zn(1,1,1,1),new zn(3,0,1,1),new zn(1,0,1,1)],this._cubeDirections=[new Q(1,0,0),new Q(-1,0,0),new Q(0,0,1),new Q(0,0,-1),new Q(0,1,0),new Q(0,-1,0)],this._cubeUps=[new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,1,0),new Q(0,0,1),new Q(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),M1.setFromMatrixPosition(e.matrixWorld),r.position.copy(M1),vI.copy(r.position),vI.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(vI),r.updateMatrixWorld(),i.makeTranslation(-M1.x,-M1.y,-M1.z),r9.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r9)}}fX.prototype.isPointLightShadow=!0;class EM extends Il{constructor(e,n,r=0,i=1){super(e,n),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new fX}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}EM.prototype.isPointLight=!0;class hX extends aF{constructor(){super(new om(-5,5,5,-5,.5,500))}}hX.prototype.isDirectionalLightShadow=!0;class TM extends Il{constructor(e,n){super(e,n),this.type="DirectionalLight",this.position.copy(mn.DefaultUp),this.updateMatrix(),this.target=new mn,this.shadow=new hX}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}TM.prototype.isDirectionalLight=!0;class lF extends Il{constructor(e,n){super(e,n),this.type="AmbientLight"}}lF.prototype.isAmbientLight=!0;class uF extends Il{constructor(e,n,r=10,i=10){super(e,n),this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}uF.prototype.isRectAreaLight=!0;class cF{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Q)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}cF.prototype.isSphericalHarmonics3=!0;class Tw extends Il{constructor(e=new cF,n=1){super(void 0,n),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}Tw.prototype.isLightProbe=!0;class dX extends ls{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Ro(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=vr.fromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new qe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new qe().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ne().fromArray(o.value);break;case"v3":i.uniforms[s].value=new Q().fromArray(o.value);break;case"v4":i.uniforms[s].value=new zn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new xi().fromArray(o.value);break;case"m4":i.uniforms[s].value=new vt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ne().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ne().fromArray(e.clearcoatNormalScale)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}}class Tl{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class fF extends It{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}fF.prototype.isInstancedBufferGeometry=!0;class pX extends ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ro(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(g,y){if(n[y]!==void 0)return n[y];const x=g.interleavedBuffers[y],w=s(g,x.buffer),b=a0(x.type,w),E=new Hh(b,x.stride);return E.uuid=x.uuid,n[y]=E,E}function s(g,y){if(r[y]!==void 0)return r[y];const x=g.arrayBuffers[y],w=new Uint32Array(x).buffer;return r[y]=w,w}const o=e.isInstancedBufferGeometry?new fF:new It,a=e.data.index;if(a!==void 0){const g=a0(a.type,a.array);o.setIndex(new pn(g,1))}const l=e.data.attributes;for(const g in l){const y=l[g];let _;if(y.isInterleavedBufferAttribute){const x=i(e.data,y.data);_=new Bc(x,y.itemSize,y.offset,y.normalized)}else{const x=a0(y.type,y.array),w=y.isInstancedBufferAttribute?Gp:pn;_=new w(x,y.itemSize,y.normalized)}y.name!==void 0&&(_.name=y.name),y.usage!==void 0&&_.setUsage(y.usage),y.updateRange!==void 0&&(_.updateRange.offset=y.updateRange.offset,_.updateRange.count=y.updateRange.count),o.setAttribute(g,_)}const u=e.data.morphAttributes;if(u)for(const g in u){const y=u[g],_=[];for(let x=0,w=y.length;x<w;x++){const b=y[x];let E;if(b.isInterleavedBufferAttribute){const C=i(e.data,b.data);E=new Bc(C,b.itemSize,b.offset,b.normalized)}else{const C=a0(b.type,b.array);E=new pn(C,b.itemSize,b.normalized)}b.name!==void 0&&(E.name=b.name),_.push(E)}o.morphAttributes[g]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==void 0)for(let g=0,y=c.length;g!==y;++g){const _=c[g];o.addGroup(_.start,_.count,_.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const g=new Q;h.center!==void 0&&g.fromArray(h.center),o.boundingSphere=new Gc(g,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class AUe extends ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Tl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ro(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(c){i!==void 0&&i(c),console.error("THREE:ObjectLoader: Can't parse "+e+".",c.message);return}const f=u.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Tl.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ro(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,f),n!==void 0){let c=!1;for(const h in o)if(o[h]instanceof HTMLImageElement){c=!0;break}c===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Au().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new Sw().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new pX;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in ZH?a=ZH[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new dX;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];if(l.type==="MultiMaterial"){const u=[];for(let f=0;f<l.materials.length;f++){const c=l.materials[f];r[c.uuid]===void 0&&(r[c.uuid]=s.parse(c)),u.push(r[c.uuid])}i[l.uuid]=u}else r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=py.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(f)}else return l.data?{data:a0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new sF(n);s=new wx(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,f=e.length;u<f;u++){const c=e[u],h=c.url;if(Array.isArray(h)){const g=[];for(let y=0,_=h.length;y<_;y++){const x=h[y],w=a(x);w!==null&&(w instanceof HTMLImageElement?g.push(w):g.push(new wp(w.data,w.width,w.height)))}i[c.uuid]=new up(g)}else{const g=a(c.url);i[c.uuid]=new up(g)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:a0(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new wx(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const f=[];for(let c=0,h=u.length;c<h;c++){const g=u[c],y=await s(g);y!==null&&(y instanceof HTMLImageElement?f.push(y):f.push(new wp(y.data,y.width,y.height)))}r[l.uuid]=new up(f)}else{const f=await s(l.url);r[l.uuid]=new up(f)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let f;Array.isArray(u)?(f=new ev,u.length===6&&(f.needsUpdate=!0)):(u&&u.data?f=new wp:f=new Mr,u&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,EUe)),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],i9),f.wrapT=r(a.wrap[1],i9)),a.format!==void 0&&(f.format=a.format),a.type!==void 0&&(f.type=a.type),a.encoding!==void 0&&(f.encoding=a.encoding),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,s9)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,s9)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,n,r,i,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const g=[];for(let y=0,_=h.length;y<_;y++){const x=h[y];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),g.push(r[x])}return g}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let f,c;switch(e.type){case"Scene":o=new xw,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new qe(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new _w(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new vw(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":o=new oi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new om(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new lF(e.color,e.intensity);break;case"DirectionalLight":o=new TM(e.color,e.intensity);break;case"PointLight":o=new EM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new uF(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new AM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new oF(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Tw().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),c=l(e.material),o=new ww(f,c),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),c=l(e.material),o=new Jr(f,c);break;case"InstancedMesh":f=a(e.geometry),c=l(e.material);const h=e.count,g=e.instanceMatrix,y=e.instanceColor;o=new Hk(f,c,h),o.instanceMatrix=new Gp(new Float32Array(g.array),16),y!==void 0&&(o.instanceColor=new Gp(new Float32Array(y.array),y.itemSize));break;case"LOD":o=new QJ;break;case"Line":o=new Ru(a(e.geometry),l(e.material));break;case"LineLoop":o=new yM(a(e.geometry),l(e.material));break;case"LineSegments":o=new eo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new nv(a(e.geometry),l(e.material));break;case"Sprite":o=new gM(l(e.material));break;case"Group":o=new mu;break;case"Bone":o=new bw;break;default:o=new mn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let g=0;g<h.length;g++)o.add(this.parseObject(h[g],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let g=0;g<h.length;g++){const y=h[g];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let g=0;g<h.length;g++){const y=h[g],_=o.getObjectByProperty("uuid",y.object);_!==void 0&&o.addLevel(_,y.distance)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}const EUe={UVMapping:sM,CubeReflectionMapping:xh,CubeRefractionMapping:wh,EquirectangularReflectionMapping:fx,EquirectangularRefractionMapping:hx,CubeUVReflectionMapping:Xy},i9={RepeatWrapping:Pc,ClampToEdgeWrapping:bs,MirroredRepeatWrapping:K0},s9={NearestFilter:qr,NearestMipmapNearestFilter:dx,NearestMipmapLinearFilter:px,LinearFilter:Ar,LinearMipmapNearestFilter:oM,LinearMipmapLinearFilter:Hc};class hF extends ls{constructor(e){super(e),typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=jp.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){jp.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}hF.prototype.isImageBitmapLoader=!0;let XS;const dF={getContext:function(){return XS===void 0&&(XS=new(window.AudioContext||window.webkitAudioContext)),XS},setContext:function(t){XS=t}};class mX extends ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ro(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{const l=a.slice(0);dF.getContext().decodeAudioData(l,function(f){n(f)})}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}}class gX extends Tw{constructor(e,n,r=1){super(void 0,r);const i=new qe().set(e),s=new qe().set(n),o=new Q(i.r,i.g,i.b),a=new Q(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}gX.prototype.isHemisphereLightProbe=!0;class yX extends Tw{constructor(e,n=1){super(void 0,n);const r=new qe().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}yX.prototype.isAmbientLightProbe=!0;const o9=new vt,a9=new vt,Bd=new vt;class TUe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new oi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new oi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Bd.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(vp*n.fov*.5)/n.zoom;let a,l;a9.elements[12]=-i,o9.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Bd.elements[0]=2*n.near/(l-a),Bd.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Bd),a=-o*n.aspect-s,l=o*n.aspect-s,Bd.elements[0]=2*n.near/(l-a),Bd.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Bd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(a9),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(o9)}}class pF{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=l9(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=l9();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function l9(){return(typeof performance>"u"?Date:performance).now()}const Od=new Q,u9=new yr,CUe=new Q,kd=new Q;class MUe extends mn{constructor(){super(),this.type="AudioListener",this.context=dF.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new pF}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Od,u9,CUe),kd.set(0,0,-1).applyQuaternion(u9),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Od.x,i),n.positionY.linearRampToValueAtTime(Od.y,i),n.positionZ.linearRampToValueAtTime(Od.z,i),n.forwardX.linearRampToValueAtTime(kd.x,i),n.forwardY.linearRampToValueAtTime(kd.y,i),n.forwardZ.linearRampToValueAtTime(kd.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Od.x,Od.y,Od.z),n.setOrientation(kd.x,kd.y,kd.z,r.x,r.y,r.z)}}class mF extends mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Fd=new Q,c9=new yr,RUe=new Q,Nd=new Q;class IUe extends mF{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Fd,c9,RUe),Nd.set(0,0,1).applyQuaternion(c9);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Fd.x,r),n.positionY.linearRampToValueAtTime(Fd.y,r),n.positionZ.linearRampToValueAtTime(Fd.z,r),n.orientationX.linearRampToValueAtTime(Nd.x,r),n.orientationY.linearRampToValueAtTime(Nd.y,r),n.orientationZ.linearRampToValueAtTime(Nd.z,r)}else n.setPosition(Fd.x,Fd.y,Fd.z),n.setOrientation(Nd.x,Nd.y,Nd.z)}}class vX{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class _X{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){yr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;yr.multiplyQuaternionsFlat(e,o,e,n,e,r),yr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const gF="\\[\\]\\.:\\/",LUe=new RegExp("["+gF+"]","g"),yF="[^"+gF+"]",PUe="[^"+gF.replace("\\.","")+"]",DUe=/((?:WC+[\/:])*)/.source.replace("WC",yF),BUe=/(WCOD+)?/.source.replace("WCOD",PUe),OUe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",yF),kUe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",yF),FUe=new RegExp("^"+DUe+BUe+OUe+kUe+"$"),NUe=["material","materials","bones"];class UUe{constructor(e,n,r){const i=r||Pn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Pn{constructor(e,n,r){this.path=n,this.parsedPath=r||Pn.parseTrackName(n),this.node=Pn.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Pn.Composite(e,n,r):new Pn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(LUe,"")}static parseTrackName(e){const n=FUe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);NUe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Pn.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===u){u=f;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Pn.Composite=UUe;Pn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Pn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Pn.prototype.GetterByBindingType=[Pn.prototype._getValue_direct,Pn.prototype._getValue_array,Pn.prototype._getValue_arrayElement,Pn.prototype._getValue_toArray];Pn.prototype.SetterByBindingTypeAndVersioning=[[Pn.prototype._setValue_direct,Pn.prototype._setValue_direct_setNeedsUpdate,Pn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Pn.prototype._setValue_array,Pn.prototype._setValue_array_setNeedsUpdate,Pn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Pn.prototype._setValue_arrayElement,Pn.prototype._setValue_arrayElement_setNeedsUpdate,Pn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Pn.prototype._setValue_fromArray,Pn.prototype._setValue_fromArray_setNeedsUpdate,Pn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class xX{constructor(){this.uuid=la(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let f=0,c=arguments.length;f!==c;++f){const h=arguments[f],g=h.uuid;let y=n[g];if(y===void 0){y=l++,n[g]=y,e.push(h);for(let _=0,x=o;_!==x;++_)s[_].push(new Pn(h,r[_],i[_]))}else if(y<u){a=e[y];const _=--u,x=e[_];n[x.uuid]=y,e[y]=x,n[g]=_,e[_]=h;for(let w=0,b=o;w!==b;++w){const E=s[w],C=E[_];let M=E[y];E[y]=C,M===void 0&&(M=new Pn(h,r[w],i[w])),E[_]=M}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,f=n[u];if(f!==void 0&&f>=s){const c=s++,h=e[c];n[h.uuid]=f,e[f]=h,n[u]=c,e[c]=l;for(let g=0,y=i;g!==y;++g){const _=r[g],x=_[c],w=_[f];_[f]=x,_[c]=w}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],f=u.uuid,c=n[f];if(c!==void 0)if(delete n[f],c<s){const h=--s,g=e[h],y=--o,_=e[y];n[g.uuid]=c,e[c]=g,n[_.uuid]=h,e[h]=_,e.pop();for(let x=0,w=i;x!==w;++x){const b=r[x],E=b[h],C=b[y];b[c]=E,b[h]=C,b.pop()}}else{const h=--o,g=e[h];h>0&&(n[g.uuid]=c),e[c]=g,e.pop();for(let y=0,_=i;y!==_;++y){const x=r[y];x[c]=x[h],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,f=this.nCachedObjects_,c=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(c);for(let h=f,g=l.length;h!==g;++h){const y=l[h];c[h]=new Pn(y,e,n)}return c}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}xX.prototype.isAnimationObjectGroup=!0;class HUe{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:ap,endingEnd:ap};for(let u=0;u!==o;++u){const f=s[u].createInterpolant(null);a[u]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=gJ,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;if(l<0||r===0)return;this._startTime=null,n=r*l}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Bk:for(let f=0,c=l.length;f!==c;++f)l[f].evaluate(o),u[f].accumulateAdditive(a);break;case aM:default:for(let f=0,c=l.length;f!==c;++f)l[f].evaluate(o),u[f].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;r!==null&&(n*=r.evaluate(e)[0],e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===yJ;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===mJ){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=lp,i.endingEnd=lp):(e?i.endingStart=this.zeroSlopeAtStart?lp:ap:i.endingStart=mx,n?i.endingEnd=this.zeroSlopeAtEnd?lp:ap:i.endingEnd=mx)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}class wX extends Fh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let f=u[l];f===void 0&&(f={},u[l]=f);for(let c=0;c!==s;++c){const h=i[c],g=h.name;let y=f[g];if(y!==void 0)++y.referenceCount,o[c]=y;else{if(y=o[c],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,g));continue}const _=n&&n._propertyBindings[c].binding.parsedPath;y=new _X(Pn.create(r,g,_),h.ValueTypeName,h.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,g),o[c]=y}a[c].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],f=e._byClipCacheIndex;u._byClipCacheIndex=f,l[f]=u,l.pop(),e._byClipCacheIndex=null;const c=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete c[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new rF(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?py.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=aM),l!==void 0){const c=l.actionByRoot[s];if(c!==void 0&&c.blendMode===r)return c;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const f=new HUe(this,o,n,r);return this._bindAction(f,u),this._addInactiveAction(f,a,s),f}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?py.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const f=u._cacheIndex,c=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,c._cacheIndex=f,n[f]=c,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}wX.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class CM{constructor(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new CM(this.value.clone===void 0?this.value:this.value.clone())}}class bX extends Hh{constructor(e,n,r=1){super(e,n),this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}bX.prototype.isInstancedInterleavedBuffer=!0;class SX{constructor(e,n,r,i,s){this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}SX.prototype.isGLBufferAttribute=!0;class AX{constructor(e,n,r=0,i=1/0){this.ray=new Uh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new xp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return N3(e,this,r,n),r.sort(f9),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)N3(e[i],this,r,n);return r.sort(f9),r}}function f9(t,e){return t.distance-e.distance}function N3(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)N3(i[s],e,n,!0)}}class GUe{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Kr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class zUe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const h9=new Ne;class rv{constructor(e=new Ne(1/0,1/0),n=new Ne(-1/0,-1/0)){this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=h9.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return h9.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}rv.prototype.isBox2=!0;const d9=new Q,YS=new Q;class EX{constructor(e=new Q,n=new Q){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){d9.subVectors(e,this.start),YS.subVectors(this.end,this.start);const r=YS.dot(YS);let s=YS.dot(d9)/r;return n&&(s=Kr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const p9=new Q;class $Ue extends mn{constructor(e,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new It,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new _t(i,3));const s=new bi({fog:!1,toneMapped:!1});this.cone=new eo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),p9.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(p9),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const If=new Q,ZS=new vt,_I=new vt;class TX extends eo{constructor(e){const n=CX(e),r=new It,i=[],s=[],o=new qe(0,0,1),a=new qe(0,1,0);for(let u=0;u<n.length;u++){const f=n[u];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new _t(i,3)),r.setAttribute("color",new _t(s,3));const l=new bi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");_I.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(ZS.multiplyMatrices(_I,a.matrixWorld),If.setFromMatrixPosition(ZS),i.setXYZ(o,If.x,If.y,If.z),ZS.multiplyMatrices(_I,a.parent.matrixWorld),If.setFromMatrixPosition(ZS),i.setXYZ(o+1,If.x,If.y,If.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function CX(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,CX(t.children[n]));return e}class VUe extends Jr{constructor(e,n,r){const i=new Wp(n,4,2),s=new Ao({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const WUe=new Q,m9=new qe,g9=new qe;class jUe extends mn{constructor(e,n,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;const i=new $p(n);i.rotateY(Math.PI*.5),this.material=new Ao({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new pn(o,3)),this.add(new Jr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");m9.copy(this.light.color),g9.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?m9:g9;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}e.lookAt(WUe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class MX extends eo{constructor(e=10,n=10,r=4473924,i=8947848){r=new qe(r),i=new qe(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let h=0,g=0,y=-a;h<=n;h++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const _=h===s?r:i;_.toArray(u,g),g+=3,_.toArray(u,g),g+=3,_.toArray(u,g),g+=3,_.toArray(u,g),g+=3}const f=new It;f.setAttribute("position",new _t(l,3)),f.setAttribute("color",new _t(u,3));const c=new bi({vertexColors:!0,toneMapped:!1});super(f,c),this.type="GridHelper"}}class qUe extends eo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new qe(s),o=new qe(o);const a=[],l=[];for(let c=0;c<=n;c++){const h=c/n*(Math.PI*2),g=Math.sin(h)*e,y=Math.cos(h)*e;a.push(0,0,0),a.push(g,0,y);const _=c&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let c=0;c<=r;c++){const h=c&1?s:o,g=e-e/r*c;for(let y=0;y<i;y++){let _=y/i*(Math.PI*2),x=Math.sin(_)*g,w=Math.cos(_)*g;a.push(x,0,w),l.push(h.r,h.g,h.b),_=(y+1)/i*(Math.PI*2),x=Math.sin(_)*g,w=Math.cos(_)*g,a.push(x,0,w),l.push(h.r,h.g,h.b)}}const u=new It;u.setAttribute("position",new _t(a,3)),u.setAttribute("color",new _t(l,3));const f=new bi({vertexColors:!0,toneMapped:!1});super(u,f),this.type="PolarGridHelper"}}const y9=new Q,eA=new Q,v9=new Q;class KUe extends mn{constructor(e,n,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,n===void 0&&(n=1);let i=new It;i.setAttribute("position",new _t([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new bi({fog:!1,toneMapped:!1});this.lightPlane=new Ru(i,s),this.add(this.lightPlane),i=new It,i.setAttribute("position",new _t([0,0,0,0,0,1],3)),this.targetLine=new Ru(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){y9.setFromMatrixPosition(this.light.matrixWorld),eA.setFromMatrixPosition(this.light.target.matrixWorld),v9.subVectors(eA,y9),this.lightPlane.lookAt(eA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(eA),this.targetLine.scale.z=v9.length()}}const tA=new Q,Br=new Zy;class QUe extends eo{constructor(e){const n=new It,r=new bi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={},a=new qe(16755200),l=new qe(16711680),u=new qe(43775),f=new qe(16777215),c=new qe(3355443);h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",l),h("p","n2",l),h("p","n3",l),h("p","n4",l),h("u1","u2",u),h("u2","u3",u),h("u3","u1",u),h("c","t",f),h("p","c",c),h("cn1","cn2",c),h("cn3","cn4",c),h("cf1","cf2",c),h("cf3","cf4",c);function h(y,_,x){g(y,x),g(_,x)}function g(y,_){i.push(0,0,0),s.push(_.r,_.g,_.b),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}n.setAttribute("position",new _t(i,3)),n.setAttribute("color",new _t(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Br.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Wr("c",n,e,Br,0,0,-1),Wr("t",n,e,Br,0,0,1),Wr("n1",n,e,Br,-r,-i,-1),Wr("n2",n,e,Br,r,-i,-1),Wr("n3",n,e,Br,-r,i,-1),Wr("n4",n,e,Br,r,i,-1),Wr("f1",n,e,Br,-r,-i,1),Wr("f2",n,e,Br,r,-i,1),Wr("f3",n,e,Br,-r,i,1),Wr("f4",n,e,Br,r,i,1),Wr("u1",n,e,Br,r*.7,i*1.1,-1),Wr("u2",n,e,Br,-r*.7,i*1.1,-1),Wr("u3",n,e,Br,0,i*2,-1),Wr("cf1",n,e,Br,-r,0,1),Wr("cf2",n,e,Br,r,0,1),Wr("cf3",n,e,Br,0,-i,1),Wr("cf4",n,e,Br,0,i,1),Wr("cn1",n,e,Br,-r,0,-1),Wr("cn2",n,e,Br,r,0,-1),Wr("cn3",n,e,Br,0,-i,-1),Wr("cn4",n,e,Br,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Wr(t,e,n,r,i,s,o){tA.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,f=a.length;u<f;u++)l.setXYZ(a[u],tA.x,tA.y,tA.z)}}const nA=new Do;class RX extends eo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new It;s.setIndex(new pn(r,1)),s.setAttribute("position",new pn(i,3)),super(s,new bi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&nA.setFromObject(this.object),nA.isEmpty())return;const n=nA.min,r=nA.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return eo.prototype.copy.call(this,e),this.object=e.object,this}}class JUe extends eo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new It;s.setIndex(new pn(r,1)),s.setAttribute("position",new _t(i,3)),super(s,new bi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}}class XUe extends Ru{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new It;o.setAttribute("position",new _t(s,3)),o.computeBoundingSphere(),super(o,new bi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],l=new It;l.setAttribute("position",new _t(a,3)),l.computeBoundingSphere(),this.add(new Jr(l,new Ao({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?aa:vh,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const _9=new Q;let rA,xI;class YUe extends mn{constructor(e=new Q(0,0,1),n=new Q(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",rA===void 0&&(rA=new It,rA.setAttribute("position",new _t([0,0,0,0,1,0],3)),xI=new Sh(0,.5,1,5,1),xI.translate(0,-.5,0)),this.position.copy(n),this.line=new Ru(rA,new bi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Jr(xI,new Ao({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_9.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(_9,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class IX extends eo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new It;i.setAttribute("position",new _t(n,3)),i.setAttribute("color",new _t(r,3));const s=new bi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new qe,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ZUe{constructor(){this.type="ShapePath",this.color=new qe,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new ty,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e,n){function r(b){const E=[];for(let C=0,M=b.length;C<M;C++){const P=b[C],D=new Au;D.curves=P.curves,E.push(D)}return E}function i(b,E){const C=E.length;let M=!1;for(let P=C-1,D=0;D<C;P=D++){let L=E[P],O=E[D],q=O.x-L.x,j=O.y-L.y;if(Math.abs(j)>Number.EPSILON){if(j<0&&(L=E[D],q=-q,O=E[P],j=-j),b.y<L.y||b.y>O.y)continue;if(b.y===L.y){if(b.x===L.x)return!0}else{const oe=j*(b.x-L.x)-q*(b.y-L.y);if(oe===0)return!0;if(oe<0)continue;M=!M}}else{if(b.y!==L.y)continue;if(O.x<=b.x&&b.x<=L.x||L.x<=b.x&&b.x<=O.x)return!0}}return M}const s=Eu.isClockWise,o=this.subPaths;if(o.length===0)return[];if(n===!0)return r(o);let a,l,u;const f=[];if(o.length===1)return l=o[0],u=new Au,u.curves=l.curves,f.push(u),f;let c=!s(o[0].getPoints());c=e?!c:c;const h=[],g=[];let y=[],_=0,x;g[_]=void 0,y[_]=[];for(let b=0,E=o.length;b<E;b++)l=o[b],x=l.getPoints(),a=s(x),a=e?!a:a,a?(!c&&g[_]&&_++,g[_]={s:new Au,p:x},g[_].s.curves=l.curves,c&&_++,y[_]=[]):y[_].push({h:l,p:x[0]});if(!g[0])return r(o);if(g.length>1){let b=!1,E=0;for(let C=0,M=g.length;C<M;C++)h[C]=[];for(let C=0,M=g.length;C<M;C++){const P=y[C];for(let D=0;D<P.length;D++){const L=P[D];let O=!0;for(let q=0;q<g.length;q++)i(L.p,g[q].p)&&(C!==q&&E++,O?(O=!1,h[q].push(L)):b=!0);O&&h[C].push(L)}}E>0&&b===!1&&(y=h)}let w;for(let b=0,E=g.length;b<E;b++){u=g[b].s,f.push(u),w=y[b];for(let C=0,M=w.length;C<M;C++)u.holes.push(w[C].h)}return f}}class e6e{static toHalfFloat(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=Kr(e,-65504,65504),x9[0]=e;const n=w9[0],r=n>>23&511;return fl[r]+((n&8388607)>>hl[r])}static fromHalfFloat(e){const n=e>>10;return w9[0]=vF[PX[n]+(e&1023)]+iv[n],x9[0]}}const LX=new ArrayBuffer(4),x9=new Float32Array(LX),w9=new Uint32Array(LX),fl=new Uint32Array(512),hl=new Uint32Array(512);for(let t=0;t<256;++t){const e=t-127;e<-27?(fl[t]=0,fl[t|256]=32768,hl[t]=24,hl[t|256]=24):e<-14?(fl[t]=1024>>-e-14,fl[t|256]=1024>>-e-14|32768,hl[t]=-e-1,hl[t|256]=-e-1):e<=15?(fl[t]=e+15<<10,fl[t|256]=e+15<<10|32768,hl[t]=13,hl[t|256]=13):e<128?(fl[t]=31744,fl[t|256]=64512,hl[t]=24,hl[t|256]=24):(fl[t]=31744,fl[t|256]=64512,hl[t]=13,hl[t|256]=13)}const vF=new Uint32Array(2048),iv=new Uint32Array(64),PX=new Uint32Array(64);for(let t=1;t<1024;++t){let e=t<<13,n=0;for(;(e&8388608)===0;)e<<=1,n-=8388608;e&=-8388609,n+=947912704,vF[t]=e|n}for(let t=1024;t<2048;++t)vF[t]=939524096+(t-1024<<13);for(let t=1;t<31;++t)iv[t]=t<<23;iv[31]=1199570944;iv[32]=2147483648;for(let t=33;t<63;++t)iv[t]=2147483648+(t-32<<23);iv[63]=3347054592;for(let t=1;t<64;++t)t!==32&&(PX[t]=1024);const t6e=0,n6e=1,r6e=0,i6e=1,s6e=2;function o6e(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function a6e(t=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}class l6e extends nv{constructor(e,n){console.warn("THREE.PointCloud has been renamed to THREE.Points."),super(e,n)}}class u6e extends gM{constructor(e){console.warn("THREE.Particle has been renamed to THREE.Sprite."),super(e)}}class c6e extends nv{constructor(e,n){console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),super(e,n)}}class f6e extends Gh{constructor(e){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),super(e)}}class h6e extends Gh{constructor(e){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),super(e)}}class d6e extends Gh{constructor(e){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),super(e)}}class p6e extends Q{constructor(e,n,r){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),super(e,n,r)}}class m6e extends pn{constructor(e,n){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),super(e,n),this.setUsage(Z0)}}class g6e extends IJ{constructor(e,n){console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),super(e,n)}}class y6e extends LJ{constructor(e,n){console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),super(e,n)}}class v6e extends PJ{constructor(e,n){console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),super(e,n)}}class _6e extends DJ{constructor(e,n){console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),super(e,n)}}class x6e extends lM{constructor(e,n){console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),super(e,n)}}class w6e extends BJ{constructor(e,n){console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),super(e,n)}}class b6e extends uM{constructor(e,n){console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),super(e,n)}}class S6e extends _t{constructor(e,n){console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),super(e,n)}}class A6e extends kJ{constructor(e,n){console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),super(e,n)}}da.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(da.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t};ty.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)};class E6e extends IX{constructor(e){console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),super(e)}}class T6e extends RX{constructor(e,n){console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),super(e,n)}}class C6e extends eo{constructor(e,n){console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),super(new qk(e.geometry),new bi({color:n!==void 0?n:16777215}))}}MX.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};TX.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};class M6e extends eo{constructor(e,n){console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),super(new Kk(e.geometry),new bi({color:n!==void 0?n:16777215}))}}ls.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Tl.extractUrlBase(t)};ls.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};class R6e extends Ro{constructor(e){console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),super(e)}}class I6e extends uX{constructor(e){console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),super(e)}}rv.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)};rv.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()};rv.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};rv.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)};Do.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)};Do.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()};Do.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};Do.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};Do.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)};Nu.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")};Gc.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()};yw.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)};EX.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)};xi.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};xi.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};xi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")};xi.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)};xi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")};xi.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};vt.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)};vt.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)};vt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Q().setFromMatrixColumn(this,3)};vt.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)};vt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")};vt.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};vt.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};vt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")};vt.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)};vt.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};vt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")};vt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")};vt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")};vt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")};vt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")};vt.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)};vt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")};vt.prototype.makeFrustum=function(t,e,n,r,i,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,r,n,i,s)};vt.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()};uu.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)};yr.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)};yr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()};Uh.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)};Uh.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)};Uh.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)};Qr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()};Qr.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)};Qr.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)};Qr.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)};Qr.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)};Qr.barycoordFromPoint=function(t,e,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Qr.getBarycoord(t,e,n,r,i)};Qr.normal=function(t,e,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Qr.getNormal(t,e,n,r)};Au.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)};Au.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Lu(this,t)};Au.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Vp(this,t)};Ne.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};Ne.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};Ne.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};Q.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")};Q.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")};Q.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)};Q.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)};Q.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)};Q.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)};Q.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};Q.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)};Q.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};zn.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)};zn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()};mn.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)};mn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")};mn.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)};mn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")};mn.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(mn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Jr.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")};Object.defineProperties(Jr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),vJ},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});ww.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};oi.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(t)};Object.defineProperties(Il.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}});Object.defineProperties(pn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Z0},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Z0)}}});pn.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Z0:Y0),this};pn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},pn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};It.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)};It.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(e&&e.isBufferAttribute)&&!(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new pn(arguments[1],arguments[2]))):t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e)};It.prototype.addDrawCall=function(t,e,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)};It.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()};It.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")};It.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)};It.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)};Object.defineProperties(It.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Hh.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?Z0:Y0),this};Hh.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")};Lu.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")};Lu.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")};Lu.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")};xw.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")};CM.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this};Object.defineProperties(vr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new qe}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===Ik}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}});Object.defineProperties(ja.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}});$n.prototype.clearTarget=function(t,e,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,r)};$n.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)};$n.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()};$n.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()};$n.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision};$n.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()};$n.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")};$n.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")};$n.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")};$n.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")};$n.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")};$n.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")};$n.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures};$n.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")};$n.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)};$n.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")};$n.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")};$n.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")};$n.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")};$n.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")};$n.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")};$n.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")};$n.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")};$n.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")};$n.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()};Object.defineProperties($n.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?Ln:Mu}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});Object.defineProperties(WJ.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});class L6e extends fM{constructor(e,n,r){console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),super(e,r)}}Object.defineProperties(Xs.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}});mF.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return new mX().load(t,function(r){e.setBuffer(r)}),this};vX.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};cM.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};cM.prototype.clear=function(t,e,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,r)};Nh.crossOrigin=void 0;Nh.loadTexture=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new SM;i.setCrossOrigin(this.crossOrigin);const s=i.load(t,n,void 0,r);return e&&(s.mapping=e),s};Nh.loadTextureCube=function(t,e,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new lX;i.setCrossOrigin(this.crossOrigin);const s=i.load(t,n,void 0,r);return e&&(s.mapping=e),s};Nh.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};Nh.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};function P6e(){console.error("THREE.CanvasRenderer has been removed")}function D6e(){console.error("THREE.JSONLoader has been removed.")}const B6e={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function O6e(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}class k6e extends It{constructor(){console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),super()}}class F6e extends It{constructor(){console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),super()}}function N6e(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function U6e(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function H6e(){console.error("THREE.ImmediateRenderObject has been removed.")}class G6e extends Xs{constructor(e,n,r){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(e,n,r),this.samples=4}}class z6e extends Yy{constructor(e,n,r,i){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(e,n,r,i)}}class $6e extends gw{constructor(e,n,r,i){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:iM}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=iM);const V6e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Dk,AddEquation:Yd,AddOperation:QQ,AdditiveAnimationBlendMode:Bk,AdditiveBlending:i3,AlphaFormat:sJ,AlwaysDepth:zQ,AlwaysStencilFunc:SJ,AmbientLight:lF,AmbientLightProbe:yX,AnimationClip:py,AnimationLoader:bUe,AnimationMixer:wX,AnimationObjectGroup:xX,AnimationUtils:ur,ArcCurve:zk,ArrayCamera:Nk,ArrowHelper:YUe,Audio:mF,AudioAnalyser:vX,AudioContext:dF,AudioListener:MUe,AudioLoader:mX,AxesHelper:IX,AxisHelper:E6e,BackSide:aa,BasicDepthPacking:xJ,BasicShadowMap:vOe,BinaryTextureLoader:I6e,Bone:bw,BooleanKeyframeTrack:am,BoundingBoxHelper:T6e,Box2:rv,Box3:Do,Box3Helper:JUe,BoxBufferGeometry:Dc,BoxGeometry:Dc,BoxHelper:RX,BufferAttribute:pn,BufferGeometry:It,BufferGeometryLoader:pX,ByteType:eJ,Cache:jp,Camera:Zy,CameraHelper:QUe,CanvasRenderer:P6e,CanvasTexture:YJ,CapsuleBufferGeometry:ny,CapsuleGeometry:ny,CatmullRomCurve3:Vk,CineonToneMapping:YQ,CircleBufferGeometry:ry,CircleGeometry:ry,ClampToEdgeWrapping:bs,Clock:pF,Color:qe,ColorKeyframeTrack:iF,ColorManagement:$s,CompressedTexture:Gk,CompressedTextureLoader:SUe,ConeBufferGeometry:iy,ConeGeometry:iy,CubeCamera:cM,CubeReflectionMapping:xh,CubeRefractionMapping:wh,CubeTexture:ev,CubeTextureLoader:lX,CubeUVReflectionMapping:Xy,CubicBezierCurve:vM,CubicBezierCurve3:Wk,CubicInterpolant:iX,CullFaceBack:r3,CullFaceFront:MQ,CullFaceFrontBack:yOe,CullFaceNone:CQ,Curve:da,CurvePath:eX,CustomBlending:RQ,CustomToneMapping:ZQ,CylinderBufferGeometry:Sh,CylinderGeometry:Sh,Cylindrical:zUe,Data3DTexture:gw,DataArrayTexture:Yy,DataTexture:wp,DataTexture2DArray:z6e,DataTexture3D:$6e,DataTextureLoader:uX,DataUtils:e6e,DecrementStencilOp:MOe,DecrementWrapStencilOp:IOe,DefaultLoadingManager:aX,DepthFormat:sh,DepthStencilFormat:Np,DepthTexture:Uk,DirectionalLight:TM,DirectionalLightHelper:KUe,DiscreteInterpolant:sX,DodecahedronBufferGeometry:sy,DodecahedronGeometry:sy,DoubleSide:_h,DstAlphaFactor:kQ,DstColorFactor:NQ,DynamicBufferAttribute:m6e,DynamicCopyUsage:VOe,DynamicDrawUsage:Z0,DynamicReadUsage:GOe,EdgesGeometry:qk,EdgesHelper:C6e,EllipseCurve:Aw,EqualDepth:VQ,EqualStencilFunc:BOe,EquirectangularReflectionMapping:fx,EquirectangularRefractionMapping:hx,Euler:Nu,EventDispatcher:Fh,ExtrudeBufferGeometry:Lu,ExtrudeGeometry:Lu,FaceColors:i6e,FileLoader:Ro,FlatShading:Ik,Float16BufferAttribute:OJ,Float32Attribute:S6e,Float32BufferAttribute:_t,Float64Attribute:A6e,Float64BufferAttribute:kJ,FloatType:wc,Fog:_w,FogExp2:vw,Font:U6e,FontLoader:N6e,FramebufferTexture:XJ,FrontSide:vh,Frustum:yw,GLBufferAttribute:SX,GLSL1:jOe,GLSL3:I3,GreaterDepth:jQ,GreaterEqualDepth:WQ,GreaterEqualStencilFunc:NOe,GreaterStencilFunc:kOe,GridHelper:MX,Group:mu,HalfFloatType:J0,HemisphereLight:oF,HemisphereLightHelper:jUe,HemisphereLightProbe:gX,IcosahedronBufferGeometry:oy,IcosahedronGeometry:oy,ImageBitmapLoader:hF,ImageLoader:wx,ImageUtils:Nh,ImmediateRenderObject:H6e,IncrementStencilOp:COe,IncrementWrapStencilOp:ROe,InstancedBufferAttribute:Gp,InstancedBufferGeometry:fF,InstancedInterleavedBuffer:bX,InstancedMesh:Hk,Int16Attribute:_6e,Int16BufferAttribute:DJ,Int32Attribute:w6e,Int32BufferAttribute:BJ,Int8Attribute:g6e,Int8BufferAttribute:IJ,IntType:nJ,InterleavedBuffer:Hh,InterleavedBufferAttribute:Bc,Interpolant:Pu,InterpolateDiscrete:X0,InterpolateLinear:Up,InterpolateSmooth:JA,InvertStencilOp:LOe,JSONLoader:D6e,KeepStencilOp:XA,KeyframeTrack:Dl,LOD:QJ,LatheBufferGeometry:zp,LatheGeometry:zp,Layers:xp,LensFlare:O6e,LessDepth:$Q,LessEqualDepth:_T,LessEqualStencilFunc:OOe,LessStencilFunc:DOe,Light:Il,LightProbe:Tw,Line:Ru,Line3:EX,LineBasicMaterial:bi,LineCurve:Ew,LineCurve3:ZJ,LineDashedMaterial:nF,LineLoop:yM,LinePieces:n6e,LineSegments:eo,LineStrip:t6e,LinearEncoding:Mu,LinearFilter:Ar,LinearInterpolant:rF,LinearMipMapLinearFilter:SOe,LinearMipMapNearestFilter:bOe,LinearMipmapLinearFilter:Hc,LinearMipmapNearestFilter:oM,LinearSRGBColorSpace:Qf,LinearToneMapping:JQ,Loader:ls,LoaderUtils:Tl,LoadingManager:sF,LoopOnce:mJ,LoopPingPong:yJ,LoopRepeat:gJ,LuminanceAlphaFormat:lJ,LuminanceFormat:aJ,MOUSE:mOe,Material:vr,MaterialLoader:dX,Math:P3,MathUtils:P3,Matrix3:xi,Matrix4:vt,MaxEquation:l3,Mesh:Jr,MeshBasicMaterial:Ao,MeshDepthMaterial:dM,MeshDistanceMaterial:pM,MeshFaceMaterial:o6e,MeshLambertMaterial:eF,MeshMatcapMaterial:tF,MeshNormalMaterial:Zk,MeshPhongMaterial:Xk,MeshPhysicalMaterial:Uu,MeshStandardMaterial:zh,MeshToonMaterial:Yk,MinEquation:a3,MirroredRepeatWrapping:K0,MixOperation:KQ,MultiMaterial:a6e,MultiplyBlending:o3,MultiplyOperation:mw,NearestFilter:qr,NearestMipMapLinearFilter:wOe,NearestMipMapNearestFilter:xOe,NearestMipmapLinearFilter:px,NearestMipmapNearestFilter:dx,NeverDepth:GQ,NeverStencilFunc:POe,NoBlending:Sc,NoColorSpace:AOe,NoColors:r6e,NoToneMapping:El,NormalAnimationBlendMode:aM,NormalBlending:gp,NotEqualDepth:qQ,NotEqualStencilFunc:FOe,NumberKeyframeTrack:hy,Object3D:mn,ObjectLoader:AUe,ObjectSpaceNormalMap:bJ,OctahedronBufferGeometry:$p,OctahedronGeometry:$p,OneFactor:DQ,OneMinusDstAlphaFactor:FQ,OneMinusDstColorFactor:UQ,OneMinusSrcAlphaFactor:Pk,OneMinusSrcColorFactor:OQ,OrthographicCamera:om,PCFShadowMap:Mk,PCFSoftShadowMap:Rk,PMREMGenerator:D3,ParametricGeometry:k6e,Particle:u6e,ParticleBasicMaterial:h6e,ParticleSystem:c6e,ParticleSystemMaterial:d6e,Path:ty,PerspectiveCamera:oi,Plane:uu,PlaneBufferGeometry:Hp,PlaneGeometry:Hp,PlaneHelper:XUe,PointCloud:l6e,PointCloudMaterial:f6e,PointLight:EM,PointLightHelper:VUe,Points:nv,PointsMaterial:Gh,PolarGridHelper:qUe,PolyhedronBufferGeometry:Iu,PolyhedronGeometry:Iu,PositionalAudio:IUe,PropertyBinding:Pn,PropertyMixer:_X,QuadraticBezierCurve:_M,QuadraticBezierCurve3:xM,Quaternion:yr,QuaternionKeyframeTrack:Eh,QuaternionLinearInterpolant:oX,REVISION:iM,RGBADepthPacking:wJ,RGBAFormat:ta,RGBAIntegerFormat:dJ,RGBA_ASTC_10x10_Format:T3,RGBA_ASTC_10x5_Format:S3,RGBA_ASTC_10x6_Format:A3,RGBA_ASTC_10x8_Format:E3,RGBA_ASTC_12x10_Format:C3,RGBA_ASTC_12x12_Format:M3,RGBA_ASTC_4x4_Format:m3,RGBA_ASTC_5x4_Format:g3,RGBA_ASTC_5x5_Format:y3,RGBA_ASTC_6x5_Format:v3,RGBA_ASTC_6x6_Format:_3,RGBA_ASTC_8x5_Format:x3,RGBA_ASTC_8x6_Format:w3,RGBA_ASTC_8x8_Format:b3,RGBA_BPTC_Format:R3,RGBA_ETC2_EAC_Format:p3,RGBA_PVRTC_2BPPV1_Format:h3,RGBA_PVRTC_4BPPV1_Format:f3,RGBA_S3TC_DXT1_Format:qA,RGBA_S3TC_DXT3_Format:KA,RGBA_S3TC_DXT5_Format:QA,RGBFormat:oJ,RGB_ETC1_Format:pJ,RGB_ETC2_Format:d3,RGB_PVRTC_2BPPV1_Format:c3,RGB_PVRTC_4BPPV1_Format:u3,RGB_S3TC_DXT1_Format:jA,RGFormat:fJ,RGIntegerFormat:hJ,RawShaderMaterial:Jk,Ray:Uh,Raycaster:AX,RectAreaLight:uF,RedFormat:uJ,RedIntegerFormat:cJ,ReinhardToneMapping:XQ,RepeatWrapping:Pc,ReplaceStencilOp:TOe,ReverseSubtractEquation:LQ,RingBufferGeometry:ay,RingGeometry:ay,SRGBColorSpace:ou,Scene:xw,SceneUtils:B6e,ShaderChunk:cn,ShaderLib:yl,ShaderMaterial:ja,ShadowMaterial:Qk,Shape:Au,ShapeBufferGeometry:Vp,ShapeGeometry:Vp,ShapePath:ZUe,ShapeUtils:Eu,ShortType:tJ,Skeleton:Sw,SkeletonHelper:TX,SkinnedMesh:ww,SmoothShading:_Oe,Source:up,Sphere:Gc,SphereBufferGeometry:Wp,SphereGeometry:Wp,Spherical:GUe,SphericalHarmonics3:cF,SplineCurve:wM,SpotLight:AM,SpotLightHelper:$Ue,Sprite:gM,SpriteMaterial:mM,SrcAlphaFactor:Lk,SrcAlphaSaturateFactor:HQ,SrcColorFactor:BQ,StaticCopyUsage:$Oe,StaticDrawUsage:Y0,StaticReadUsage:HOe,StereoCamera:TUe,StreamCopyUsage:WOe,StreamDrawUsage:UOe,StreamReadUsage:zOe,StringKeyframeTrack:lm,SubtractEquation:IQ,SubtractiveBlending:s3,TOUCH:gOe,TangentSpaceNormalMap:kh,TetrahedronBufferGeometry:ly,TetrahedronGeometry:ly,TextGeometry:F6e,Texture:Mr,TextureLoader:SM,TorusBufferGeometry:uy,TorusGeometry:uy,TorusKnotBufferGeometry:cy,TorusKnotGeometry:cy,Triangle:Qr,TriangleFanDrawMode:Ok,TriangleStripDrawMode:_J,TrianglesDrawMode:vJ,TubeBufferGeometry:fy,TubeGeometry:fy,UVMapping:sM,Uint16Attribute:x6e,Uint16BufferAttribute:lM,Uint32Attribute:b6e,Uint32BufferAttribute:uM,Uint8Attribute:y6e,Uint8BufferAttribute:LJ,Uint8ClampedAttribute:v6e,Uint8ClampedBufferAttribute:PJ,Uniform:CM,UniformsLib:rt,UniformsUtils:FJ,UnsignedByteType:bh,UnsignedInt248Type:yp,UnsignedIntType:d_,UnsignedShort4444Type:rJ,UnsignedShort5551Type:iJ,UnsignedShortType:Q0,VSMShadowMap:o0,Vector2:Ne,Vector3:Q,Vector4:zn,VectorKeyframeTrack:dy,Vertex:p6e,VertexColors:s6e,VideoTexture:JJ,WebGL1Renderer:qJ,WebGL3DRenderTarget:MJ,WebGLArrayRenderTarget:CJ,WebGLCubeRenderTarget:fM,WebGLMultipleRenderTargets:RJ,WebGLMultisampleRenderTarget:G6e,WebGLRenderTarget:Xs,WebGLRenderTargetCube:L6e,WebGLRenderer:$n,WebGLUtils:jJ,WireframeGeometry:Kk,WireframeHelper:M6e,WrapAroundEnding:mx,XHRLoader:R6e,ZeroCurvatureEnding:ap,ZeroFactor:PQ,ZeroSlopeEnding:lp,ZeroStencilOp:EOe,_SRGBAFormat:xT,sRGBEncoding:Ln},Symbol.toStringTag,{value:"Module"}));var I0={exports:{}},um={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */um.ConcurrentRoot=1;um.ContinuousEventPriority=4;um.DefaultEventPriority=16;um.DiscreteEventPriority=1;um.IdleEventPriority=536870912;um.LegacyRoot=0;(function(t){t.exports=um})(I0);function W6e(t){let e;const n=new Set,r=(u,f)=>{const c=typeof u=="function"?u(e):u;if(c!==e){const h=e;e=f?c:Object.assign({},e,c),n.forEach(g=>g(e,h))}},i=()=>e,s=(u,f=i,c=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=f(e);function g(){const y=f(e);if(!c(h,y)){const _=h;u(h=y,_)}}return n.add(g),()=>n.delete(g)},l={setState:r,getState:i,subscribe:(u,f,c)=>f||c?s(u,f,c):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const j6e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),b9=j6e?z.exports.useEffect:z.exports.useLayoutEffect;function q6e(t){const e=typeof t=="function"?W6e(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=z.exports.useReducer(x=>x+1,0),o=e.getState(),a=z.exports.useRef(o),l=z.exports.useRef(r),u=z.exports.useRef(i),f=z.exports.useRef(!1),c=z.exports.useRef();c.current===void 0&&(c.current=r(o));let h,g=!1;(a.current!==o||l.current!==r||u.current!==i||f.current)&&(h=r(o),g=!i(c.current,h)),b9(()=>{g&&(c.current=h),a.current=o,l.current=r,u.current=i,f.current=!1});const y=z.exports.useRef(o);b9(()=>{const x=()=>{try{const b=e.getState(),E=l.current(b);u.current(c.current,E)||(a.current=b,c.current=E,s())}catch{f.current=!0,s()}},w=e.subscribe(x);return e.getState()!==y.current&&x(),w},[]);const _=g?h:c.current;return z.exports.useDebugValue(_),_};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var DX={exports:{}},bT={exports:{}},BX={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,G){var $=k.length;k.push(G);e:for(;0<$;){var ie=$-1>>>1,ue=k[ie];if(0<i(ue,G))k[ie]=G,k[$]=ue,$=ie;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var G=k[0],$=k.pop();if($!==G){k[0]=$;e:for(var ie=0,ue=k.length,xe=ue>>>1;ie<xe;){var Oe=2*(ie+1)-1,de=k[Oe],ge=Oe+1,Ze=k[ge];if(0>i(de,$))ge<ue&&0>i(Ze,de)?(k[ie]=Ze,k[ge]=$,ie=ge):(k[ie]=de,k[Oe]=$,ie=Oe);else if(ge<ue&&0>i(Ze,$))k[ie]=Ze,k[ge]=$,ie=ge;else break e}}return G}function i(k,G){var $=k.sortIndex-G.sortIndex;return $!==0?$:k.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],f=1,c=null,h=3,g=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(k){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=k)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function C(k){if(_=!1,E(k),!y)if(n(l)!==null)y=!0,H(M);else{var G=n(u);G!==null&&ee(C,G.startTime-k)}}function M(k,G){y=!1,_&&(_=!1,w(L),L=-1),g=!0;var $=h;try{for(E(G),c=n(l);c!==null&&(!(c.expirationTime>G)||k&&!j());){var ie=c.callback;if(typeof ie=="function"){c.callback=null,h=c.priorityLevel;var ue=ie(c.expirationTime<=G);G=t.unstable_now(),typeof ue=="function"?c.callback=ue:c===n(l)&&r(l),E(G)}else r(l);c=n(l)}if(c!==null)var xe=!0;else{var Oe=n(u);Oe!==null&&ee(C,Oe.startTime-G),xe=!1}return xe}finally{c=null,h=$,g=!1}}var P=!1,D=null,L=-1,O=5,q=-1;function j(){return!(t.unstable_now()-q<O)}function oe(){if(D!==null){var k=t.unstable_now();q=k;var G=!0;try{G=D(!0,k)}finally{G?le():(P=!1,D=null)}}else P=!1}var le;if(typeof b=="function")le=function(){b(oe)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,Y=F.port2;F.port1.onmessage=oe,le=function(){Y.postMessage(null)}}else le=function(){x(oe,0)};function H(k){D=k,P||(P=!0,le())}function ee(k,G){L=x(function(){k(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,H(M))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var $=h;h=G;try{return k()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,G){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=h;h=k;try{return G()}finally{h=$}},t.unstable_scheduleCallback=function(k,G,$){var ie=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ie+$:ie):$=ie,k){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=$+ue,k={id:f++,callback:G,priorityLevel:k,startTime:$,expirationTime:ue,sortIndex:-1},$>ie?(k.sortIndex=$,e(u,k),n(l)===null&&k===n(u)&&(_?(w(L),L=-1):_=!0,ee(C,$-ie))):(k.sortIndex=ue,e(l,k),y||g||(y=!0,H(M))),k},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(k){var G=h;return function(){var $=h;h=G;try{return k.apply(this,arguments)}finally{h=$}}}})(BX);(function(t){t.exports=BX})(bT);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K6e=function(e){var n={},r=z.exports,i=bT.exports,s=Object.assign;function o(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),M=Symbol.iterator;function P(p){return p===null||typeof p!="object"?null:(p=M&&p[M]||p["@@iterator"],typeof p=="function"?p:null)}function D(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case f:return"Fragment";case u:return"Portal";case h:return"Profiler";case c:return"StrictMode";case x:return"Suspense";case w:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case y:return(p.displayName||"Context")+".Consumer";case g:return(p._context.displayName||"Context")+".Provider";case _:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case b:return m=p.displayName||null,m!==null?m:D(p.type)||"Memo";case E:m=p._payload,p=p._init;try{return D(p(m))}catch{}}return null}function L(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(m);case 8:return m===c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function O(p){var m=p,S=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,(m.flags&4098)!==0&&(S=m.return),p=m.return;while(p)}return m.tag===3?S:null}function q(p){if(O(p)!==p)throw Error(o(188))}function j(p){var m=p.alternate;if(!m){if(m=O(p),m===null)throw Error(o(188));return m!==p?null:p}for(var S=p,T=m;;){var R=S.return;if(R===null)break;var B=R.alternate;if(B===null){if(T=R.return,T!==null){S=T;continue}break}if(R.child===B.child){for(B=R.child;B;){if(B===S)return q(R),p;if(B===T)return q(R),m;B=B.sibling}throw Error(o(188))}if(S.return!==T.return)S=R,T=B;else{for(var re=!1,pe=R.child;pe;){if(pe===S){re=!0,S=R,T=B;break}if(pe===T){re=!0,T=R,S=B;break}pe=pe.sibling}if(!re){for(pe=B.child;pe;){if(pe===S){re=!0,S=B,T=R;break}if(pe===T){re=!0,T=B,S=R;break}pe=pe.sibling}if(!re)throw Error(o(189))}}if(S.alternate!==T)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?p:m}function oe(p){return p=j(p),p!==null?le(p):null}function le(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=le(p);if(m!==null)return m;p=p.sibling}return null}function F(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var m=F(p);if(m!==null)return m}p=p.sibling}return null}var Y=Array.isArray,H=e.getPublicInstance,ee=e.getRootHostContext,k=e.getChildHostContext,G=e.prepareForCommit,$=e.resetAfterCommit,ie=e.createInstance,ue=e.appendInitialChild,xe=e.finalizeInitialChildren,Oe=e.prepareUpdate,de=e.shouldSetTextContent,ge=e.createTextInstance,Ze=e.scheduleTimeout,Qe=e.cancelTimeout,We=e.noTimeout,Ue=e.isPrimaryRenderer,mt=e.supportsMutation,Re=e.supportsPersistence,U=e.supportsHydration,te=e.getInstanceFromNode,J=e.preparePortalMount,ve=e.getCurrentEventPriority,Pe=e.detachDeletedInstance,Le=e.supportsMicrotasks,je=e.scheduleMicrotask,xt=e.supportsTestSelectors,gt=e.findFiberRoot,se=e.getBoundingRect,X=e.getTextContent,Ae=e.isHiddenSubtree,Ge=e.matchAccessibilityRole,nt=e.setFocusIfFocusable,ot=e.setupIntersectionObserver,Et=e.appendChild,Ie=e.appendChildToContainer,Vt=e.commitTextUpdate,Xt=e.commitMount,pt=e.commitUpdate,he=e.insertBefore,et=e.insertInContainerBefore,Xe=e.removeChild,Lt=e.removeChildFromContainer,ct=e.resetTextContent,Dt=e.hideInstance,Je=e.hideTextInstance,Ft=e.unhideInstance,Tn=e.unhideTextInstance,ln=e.clearContainer,ro=e.cloneInstance,Is=e.createContainerChildSet,dm=e.appendChildToContainerChildSet,zc=e.finalizeContainerChildren,jh=e.replaceContainerChildren,$c=e.cloneHiddenInstance,qh=e.cloneHiddenTextInstance,cv=e.canHydrateInstance,Kh=e.canHydrateTextInstance,fv=e.canHydrateSuspenseInstance,ne=e.isSuspenseInstancePending,we=e.isSuspenseInstanceFallback,Ce=e.registerSuspenseInstanceRetry,be=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,Nt=e.getFirstHydratableChildWithinContainer,qt=e.getFirstHydratableChildWithinSuspenseInstance,tn=e.hydrateInstance,Zt=e.hydrateTextInstance,Cn=e.hydrateSuspenseInstance,gn=e.getNextHydratableInstanceAfterSuspenseInstance,yn=e.commitHydratedContainer,Zn=e.commitHydratedSuspenseInstance,qa=e.clearSuspenseBoundary,Bl=e.clearSuspenseBoundaryFromContainer,Ol=e.shouldDeleteUnhydratedTailInstances,zi=e.didNotMatchHydratedContainerTextInstance,Mn=e.didNotMatchHydratedTextInstance,Ls;function qn(p){if(Ls===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);Ls=m&&m[1]||""}return`
`+Ls+p}var cs=!1;function io(p,m){if(!p||cs)return"";cs=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch($e){var T=$e}Reflect.construct(p,[],m)}else{try{m.call()}catch($e){T=$e}p.call(m.prototype)}else{try{throw Error()}catch($e){T=$e}p()}}catch($e){if($e&&T&&typeof $e.stack=="string"){for(var R=$e.stack.split(`
`),B=T.stack.split(`
`),re=R.length-1,pe=B.length-1;1<=re&&0<=pe&&R[re]!==B[pe];)pe--;for(;1<=re&&0<=pe;re--,pe--)if(R[re]!==B[pe]){if(re!==1||pe!==1)do if(re--,pe--,0>pe||R[re]!==B[pe]){var Te=`
`+R[re].replace(" at new "," at ");return p.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",p.displayName)),Te}while(1<=re&&0<=pe);break}}}finally{cs=!1,Error.prepareStackTrace=S}return(p=p?p.displayName||p.name:"")?qn(p):""}var kl=Object.prototype.hasOwnProperty,Fl=[],sr=-1;function fs(p){return{current:p}}function kn(p){0>sr||(p.current=Fl[sr],Fl[sr]=null,sr--)}function un(p,m){sr++,Fl[sr]=p.current,p.current=m}var Nl={},ci=fs(Nl),$i=fs(!1),Ul=Nl;function Hl(p,m){var S=p.type.contextTypes;if(!S)return Nl;var T=p.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var R={},B;for(B in S)R[B]=m[B];return T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=R),R}function hs(p){return p=p.childContextTypes,p!=null}function Qh(){kn($i),kn(ci)}function Jh(p,m,S){if(ci.current!==Nl)throw Error(o(168));un(ci,m),un($i,S)}function hv(p,m,S){var T=p.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return S;T=T.getChildContext();for(var R in T)if(!(R in m))throw Error(o(108,L(p)||"Unknown",R));return s({},S,T)}function pm(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||Nl,Ul=ci.current,un(ci,p),un($i,$i.current),!0}function dv(p,m,S){var T=p.stateNode;if(!T)throw Error(o(169));S?(p=hv(p,m,Ul),T.__reactInternalMemoizedMergedChildContext=p,kn($i),kn(ci),un(ci,p)):kn($i),un($i,S)}var so=Math.clz32?Math.clz32:Dw,pv=Math.log,qM=Math.LN2;function Dw(p){return p>>>=0,p===0?32:31-(pv(p)/qM|0)|0}var Vc=64,Wc=4194304;function _a(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Xh(p,m){var S=p.pendingLanes;if(S===0)return 0;var T=0,R=p.suspendedLanes,B=p.pingedLanes,re=S&268435455;if(re!==0){var pe=re&~R;pe!==0?T=_a(pe):(B&=re,B!==0&&(T=_a(B)))}else re=S&~R,re!==0?T=_a(re):B!==0&&(T=_a(B));if(T===0)return 0;if(m!==0&&m!==T&&(m&R)===0&&(R=T&-T,B=m&-m,R>=B||R===16&&(B&4194240)!==0))return m;if((T&4)!==0&&(T|=S&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=T;0<m;)S=31-so(m),R=1<<S,T|=p[S],m&=~R;return T}function Bw(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KM(p,m){for(var S=p.suspendedLanes,T=p.pingedLanes,R=p.expirationTimes,B=p.pendingLanes;0<B;){var re=31-so(B),pe=1<<re,Te=R[re];Te===-1?((pe&S)===0||(pe&T)!==0)&&(R[re]=Bw(pe,m)):Te<=m&&(p.expiredLanes|=pe),B&=~pe}}function mm(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function gm(p){for(var m=[],S=0;31>S;S++)m.push(p);return m}function jc(p,m,S){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-so(m),p[m]=S}function Ow(p,m){var S=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var T=p.eventTimes;for(p=p.expirationTimes;0<S;){var R=31-so(S),B=1<<R;m[R]=0,T[R]=-1,p[R]=-1,S&=~B}}function mv(p,m){var S=p.entangledLanes|=m;for(p=p.entanglements;S;){var T=31-so(S),R=1<<T;R&m|p[T]&m&&(p[T]|=m),S&=~R}}var Rn=0;function kw(p){return p&=-p,1<p?4<p?(p&268435455)!==0?16:536870912:4:1}var ym=i.unstable_scheduleCallback,Fw=i.unstable_cancelCallback,QM=i.unstable_shouldYield,JM=i.unstable_requestPaint,Xr=i.unstable_now,Yh=i.unstable_ImmediatePriority,XM=i.unstable_UserBlockingPriority,gv=i.unstable_NormalPriority,YM=i.unstable_IdlePriority,vm=null,xa=null;function Qn(p){if(xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(vm,p,void 0,(p.current.flags&128)===128)}catch{}}function Kn(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var wa=typeof Object.is=="function"?Object.is:Kn,Ka=null,_m=!1,yv=!1;function Nw(p){Ka===null?Ka=[p]:Ka.push(p)}function ZM(p){_m=!0,Nw(p)}function Oo(){if(!yv&&Ka!==null){yv=!0;var p=0,m=Rn;try{var S=Ka;for(Rn=1;p<S.length;p++){var T=S[p];do T=T(!0);while(T!==null)}Ka=null,_m=!1}catch(R){throw Ka!==null&&(Ka=Ka.slice(p+1)),ym(Yh,Oo),R}finally{Rn=m,yv=!1}}return null}var e2=a.ReactCurrentBatchConfig;function Rr(p,m){if(wa(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var S=Object.keys(p),T=Object.keys(m);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var R=S[T];if(!kl.call(m,R)||!wa(p[R],m[R]))return!1}return!0}function vv(p){switch(p.tag){case 5:return qn(p.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return p=io(p.type,!1),p;case 11:return p=io(p.type.render,!1),p;case 1:return p=io(p.type,!0),p;default:return""}}function fi(p,m){if(p&&p.defaultProps){m=s({},m),p=p.defaultProps;for(var S in p)m[S]===void 0&&(m[S]=p[S]);return m}return m}var Zh=fs(null),qc=null,hi=null,xm=null;function wm(){xm=hi=qc=null}function _v(p,m,S){Ue?(un(Zh,m._currentValue),m._currentValue=S):(un(Zh,m._currentValue2),m._currentValue2=S)}function bm(p){var m=Zh.current;kn(Zh),Ue?p._currentValue=m:p._currentValue2=m}function Sm(p,m,S){for(;p!==null;){var T=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),p===S)break;p=p.return}}function Hu(p,m){qc=p,xm=hi=null,p=p.dependencies,p!==null&&p.firstContext!==null&&((p.lanes&m)!==0&&(Ds=!0),p.firstContext=null)}function er(p){var m=Ue?p._currentValue:p._currentValue2;if(xm!==p)if(p={context:p,memoizedValue:m,next:null},hi===null){if(qc===null)throw Error(o(308));hi=p,qc.dependencies={lanes:0,firstContext:p}}else hi=hi.next=p;return m}var ba=null,Ur=!1;function xv(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wv(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Si(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function ko(p,m){var S=p.updateQueue;S!==null&&(S=S.shared,Ir!==null&&(p.mode&1)!==0&&(nn&2)===0?(p=S.interleaved,p===null?(m.next=m,ba===null?ba=[S]:ba.push(S)):(m.next=p.next,p.next=m),S.interleaved=m):(p=S.pending,p===null?m.next=m:(m.next=p.next,p.next=m),S.pending=m))}function Kc(p,m,S){if(m=m.updateQueue,m!==null&&(m=m.shared,(S&4194240)!==0)){var T=m.lanes;T&=p.pendingLanes,S|=T,m.lanes=S,mv(p,S)}}function Jn(p,m){var S=p.updateQueue,T=p.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var R=null,B=null;if(S=S.firstBaseUpdate,S!==null){do{var re={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};B===null?R=B=re:B=B.next=re,S=S.next}while(S!==null);B===null?R=B=m:B=B.next=m}else R=B=m;S={baseState:T.baseState,firstBaseUpdate:R,lastBaseUpdate:B,shared:T.shared,effects:T.effects},p.updateQueue=S;return}p=S.lastBaseUpdate,p===null?S.firstBaseUpdate=m:p.next=m,S.lastBaseUpdate=m}function Fo(p,m,S,T){var R=p.updateQueue;Ur=!1;var B=R.firstBaseUpdate,re=R.lastBaseUpdate,pe=R.shared.pending;if(pe!==null){R.shared.pending=null;var Te=pe,$e=Te.next;Te.next=null,re===null?B=$e:re.next=$e,re=Te;var ft=p.alternate;ft!==null&&(ft=ft.updateQueue,pe=ft.lastBaseUpdate,pe!==re&&(pe===null?ft.firstBaseUpdate=$e:pe.next=$e,ft.lastBaseUpdate=Te))}if(B!==null){var Wt=R.baseState;re=0,ft=$e=Te=null,pe=B;do{var Tt=pe.lane,Un=pe.eventTime;if((T&Tt)===Tt){ft!==null&&(ft=ft.next={eventTime:Un,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var wt=p,Li=pe;switch(Tt=m,Un=S,Li.tag){case 1:if(wt=Li.payload,typeof wt=="function"){Wt=wt.call(Un,Wt,Tt);break e}Wt=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Li.payload,Tt=typeof wt=="function"?wt.call(Un,Wt,Tt):wt,Tt==null)break e;Wt=s({},Wt,Tt);break e;case 2:Ur=!0}}pe.callback!==null&&pe.lane!==0&&(p.flags|=64,Tt=R.effects,Tt===null?R.effects=[pe]:Tt.push(pe))}else Un={eventTime:Un,lane:Tt,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},ft===null?($e=ft=Un,Te=Wt):ft=ft.next=Un,re|=Tt;if(pe=pe.next,pe===null){if(pe=R.shared.pending,pe===null)break;Tt=pe,pe=Tt.next,Tt.next=null,R.lastBaseUpdate=Tt,R.shared.pending=null}}while(1);if(ft===null&&(Te=Wt),R.baseState=Te,R.firstBaseUpdate=$e,R.lastBaseUpdate=ft,m=R.shared.interleaved,m!==null){R=m;do re|=R.lane,R=R.next;while(R!==m)}else B===null&&(R.shared.lanes=0);gf|=re,p.lanes=re,p.memoizedState=Wt}}function Am(p,m,S){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var T=p[m],R=T.callback;if(R!==null){if(T.callback=null,T=S,typeof R!="function")throw Error(o(191,R));R.call(T)}}}var Uw=new r.Component().refs;function ed(p,m,S,T){m=p.memoizedState,S=S(T,m),S=S==null?m:s({},m,S),p.memoizedState=S,p.lanes===0&&(p.updateQueue.baseState=S)}var Em={isMounted:function(p){return(p=p._reactInternals)?O(p)===p:!1},enqueueSetState:function(p,m,S){p=p._reactInternals;var T=Ci(),R=Ra(p),B=Si(T,R);B.payload=m,S!=null&&(B.callback=S),ko(p,B),m=ao(p,R,T),m!==null&&Kc(m,p,R)},enqueueReplaceState:function(p,m,S){p=p._reactInternals;var T=Ci(),R=Ra(p),B=Si(T,R);B.tag=1,B.payload=m,S!=null&&(B.callback=S),ko(p,B),m=ao(p,R,T),m!==null&&Kc(m,p,R)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var S=Ci(),T=Ra(p),R=Si(S,T);R.tag=2,m!=null&&(R.callback=m),ko(p,R),m=ao(p,T,S),m!==null&&Kc(m,p,T)}};function Hw(p,m,S,T,R,B,re){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(T,B,re):m.prototype&&m.prototype.isPureReactComponent?!Rr(S,T)||!Rr(R,B):!0}function Gw(p,m,S){var T=!1,R=Nl,B=m.contextType;return typeof B=="object"&&B!==null?B=er(B):(R=hs(m)?Ul:ci.current,T=m.contextTypes,B=(T=T!=null)?Hl(p,R):Nl),m=new m(S,B),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Em,p.stateNode=m,m._reactInternals=p,T&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=R,p.__reactInternalMemoizedMaskedChildContext=B),m}function bv(p,m,S,T){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,T),m.state!==p&&Em.enqueueReplaceState(m,m.state,null)}function Qc(p,m,S,T){var R=p.stateNode;R.props=S,R.state=p.memoizedState,R.refs=Uw,xv(p);var B=m.contextType;typeof B=="object"&&B!==null?R.context=er(B):(B=hs(m)?Ul:ci.current,R.context=Hl(p,B)),R.state=p.memoizedState,B=m.getDerivedStateFromProps,typeof B=="function"&&(ed(p,m,B,S),R.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(m=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),m!==R.state&&Em.enqueueReplaceState(R,R.state,null),Fo(p,S,R,T),R.state=p.memoizedState),typeof R.componentDidMount=="function"&&(p.flags|=4194308)}var No=[],Jc=0,td=null,nd=0,ds=[],ps=0,Gl=null,Qa=1,Uo="";function Ja(p,m){No[Jc++]=nd,No[Jc++]=td,td=p,nd=m}function zw(p,m,S){ds[ps++]=Qa,ds[ps++]=Uo,ds[ps++]=Gl,Gl=p;var T=Qa;p=Uo;var R=32-so(T)-1;T&=~(1<<R),S+=1;var B=32-so(m)+R;if(30<B){var re=R-R%5;B=(T&(1<<re)-1).toString(32),T>>=re,R-=re,Qa=1<<32-so(m)+R|S<<R|T,Uo=B+p}else Qa=1<<B|S<<R|T,Uo=p}function Tm(p){p.return!==null&&(Ja(p,1),zw(p,1,0))}function Vi(p){for(;p===td;)td=No[--Jc],No[Jc]=null,nd=No[--Jc],No[Jc]=null;for(;p===Gl;)Gl=ds[--ps],ds[ps]=null,Uo=ds[--ps],ds[ps]=null,Qa=ds[--ps],ds[ps]=null}var Wi=null,di=null,Xn=!1,Xc=!1,Ho=null;function $w(p,m){var S=lo(5,null,null,0);S.elementType="DELETED",S.stateNode=m,S.return=p,m=p.deletions,m===null?(p.deletions=[S],p.flags|=16):m.push(S)}function Vw(p,m){switch(p.tag){case 5:return m=cv(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,Wi=p,di=Fe(m),!0):!1;case 6:return m=Kh(m,p.pendingProps),m!==null?(p.stateNode=m,Wi=p,di=null,!0):!1;case 13:if(m=fv(m),m!==null){var S=Gl!==null?{id:Qa,overflow:Uo}:null;return p.memoizedState={dehydrated:m,treeContext:S,retryLane:1073741824},S=lo(18,null,null,0),S.stateNode=m,S.return=p,p.child=S,Wi=p,di=null,!0}return!1;default:return!1}}function Sv(p){return(p.mode&1)!==0&&(p.flags&128)===0}function Av(p){if(Xn){var m=di;if(m){var S=m;if(!Vw(p,m)){if(Sv(p))throw Error(o(418));m=be(S);var T=Wi;m&&Vw(p,m)?$w(T,S):(p.flags=p.flags&-4097|2,Xn=!1,Wi=p)}}else{if(Sv(p))throw Error(o(418));p.flags=p.flags&-4097|2,Xn=!1,Wi=p}}}function Gu(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Wi=p}function rd(p){if(!U||p!==Wi)return!1;if(!Xn)return Gu(p),Xn=!0,!1;if(p.tag!==3&&(p.tag!==5||Ol(p.type)&&!de(p.type,p.memoizedProps))){var m=di;if(m){if(Sv(p)){for(p=di;p;)p=be(p);throw Error(o(418))}for(;m;)$w(p,m),m=be(m)}}if(Gu(p),p.tag===13){if(!U)throw Error(o(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));di=gn(p)}else di=Wi?be(p.stateNode):null;return!0}function Yc(){U&&(di=Wi=null,Xc=Xn=!1)}function id(p){Ho===null?Ho=[p]:Ho.push(p)}function Zc(p,m,S){if(p=S.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var T=S.stateNode}if(!T)throw Error(o(147,p));var R=T,B=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===B?m.ref:(m=function(re){var pe=R.refs;pe===Uw&&(pe=R.refs={}),re===null?delete pe[B]:pe[B]=re},m._stringRef=B,m)}if(typeof p!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,p))}return p}function Go(p,m){throw p=Object.prototype.toString.call(m),Error(o(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function sd(p){var m=p._init;return m(p._payload)}function Ww(p){function m(_e,me){if(p){var Ee=_e.deletions;Ee===null?(_e.deletions=[me],_e.flags|=16):Ee.push(me)}}function S(_e,me){if(!p)return null;for(;me!==null;)m(_e,me),me=me.sibling;return null}function T(_e,me){for(_e=new Map;me!==null;)me.key!==null?_e.set(me.key,me):_e.set(me.index,me),me=me.sibling;return _e}function R(_e,me){return _e=tl(_e,me),_e.index=0,_e.sibling=null,_e}function B(_e,me,Ee){return _e.index=Ee,p?(Ee=_e.alternate,Ee!==null?(Ee=Ee.index,Ee<me?(_e.flags|=2,me):Ee):(_e.flags|=2,me)):(_e.flags|=1048576,me)}function re(_e){return p&&_e.alternate===null&&(_e.flags|=2),_e}function pe(_e,me,Ee,st){return me===null||me.tag!==6?(me=Ii(Ee,_e.mode,st),me.return=_e,me):(me=R(me,Ee),me.return=_e,me)}function Te(_e,me,Ee,st){var bt=Ee.type;return bt===f?ft(_e,me,Ee.props.children,st,Ee.key):me!==null&&(me.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===E&&sd(bt)===me.type)?(st=R(me,Ee.props),st.ref=Zc(_e,me,Ee),st.return=_e,st):(st=jm(Ee.type,Ee.key,Ee.props,null,_e.mode,st),st.ref=Zc(_e,me,Ee),st.return=_e,st)}function $e(_e,me,Ee,st){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ee.containerInfo||me.stateNode.implementation!==Ee.implementation?(me=uo(Ee,_e.mode,st),me.return=_e,me):(me=R(me,Ee.children||[]),me.return=_e,me)}function ft(_e,me,Ee,st,bt){return me===null||me.tag!==7?(me=tu(Ee,_e.mode,st,bt),me.return=_e,me):(me=R(me,Ee),me.return=_e,me)}function Wt(_e,me,Ee){if(typeof me=="string"&&me!==""||typeof me=="number")return me=Ii(""+me,_e.mode,Ee),me.return=_e,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return Ee=jm(me.type,me.key,me.props,null,_e.mode,Ee),Ee.ref=Zc(_e,null,me),Ee.return=_e,Ee;case u:return me=uo(me,_e.mode,Ee),me.return=_e,me;case E:var st=me._init;return Wt(_e,st(me._payload),Ee)}if(Y(me)||P(me))return me=tu(me,_e.mode,Ee,null),me.return=_e,me;Go(_e,me)}return null}function Tt(_e,me,Ee,st){var bt=me!==null?me.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return bt!==null?null:pe(_e,me,""+Ee,st);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:return Ee.key===bt?Te(_e,me,Ee,st):null;case u:return Ee.key===bt?$e(_e,me,Ee,st):null;case E:return bt=Ee._init,Tt(_e,me,bt(Ee._payload),st)}if(Y(Ee)||P(Ee))return bt!==null?null:ft(_e,me,Ee,st,null);Go(_e,Ee)}return null}function Un(_e,me,Ee,st,bt){if(typeof st=="string"&&st!==""||typeof st=="number")return _e=_e.get(Ee)||null,pe(me,_e,""+st,bt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case l:return _e=_e.get(st.key===null?Ee:st.key)||null,Te(me,_e,st,bt);case u:return _e=_e.get(st.key===null?Ee:st.key)||null,$e(me,_e,st,bt);case E:var rn=st._init;return Un(_e,me,Ee,rn(st._payload),bt)}if(Y(st)||P(st))return _e=_e.get(Ee)||null,ft(me,_e,st,bt,null);Go(me,st)}return null}function wt(_e,me,Ee,st){for(var bt=null,rn=null,Kt=me,sn=me=0,Pr=null;Kt!==null&&sn<Ee.length;sn++){Kt.index>sn?(Pr=Kt,Kt=null):Pr=Kt.sibling;var wn=Tt(_e,Kt,Ee[sn],st);if(wn===null){Kt===null&&(Kt=Pr);break}p&&Kt&&wn.alternate===null&&m(_e,Kt),me=B(wn,me,sn),rn===null?bt=wn:rn.sibling=wn,rn=wn,Kt=Pr}if(sn===Ee.length)return S(_e,Kt),Xn&&Ja(_e,sn),bt;if(Kt===null){for(;sn<Ee.length;sn++)Kt=Wt(_e,Ee[sn],st),Kt!==null&&(me=B(Kt,me,sn),rn===null?bt=Kt:rn.sibling=Kt,rn=Kt);return Xn&&Ja(_e,sn),bt}for(Kt=T(_e,Kt);sn<Ee.length;sn++)Pr=Un(Kt,_e,sn,Ee[sn],st),Pr!==null&&(p&&Pr.alternate!==null&&Kt.delete(Pr.key===null?sn:Pr.key),me=B(Pr,me,sn),rn===null?bt=Pr:rn.sibling=Pr,rn=Pr);return p&&Kt.forEach(function(La){return m(_e,La)}),Xn&&Ja(_e,sn),bt}function Li(_e,me,Ee,st){var bt=P(Ee);if(typeof bt!="function")throw Error(o(150));if(Ee=bt.call(Ee),Ee==null)throw Error(o(151));for(var rn=bt=null,Kt=me,sn=me=0,Pr=null,wn=Ee.next();Kt!==null&&!wn.done;sn++,wn=Ee.next()){Kt.index>sn?(Pr=Kt,Kt=null):Pr=Kt.sibling;var La=Tt(_e,Kt,wn.value,st);if(La===null){Kt===null&&(Kt=Pr);break}p&&Kt&&La.alternate===null&&m(_e,Kt),me=B(La,me,sn),rn===null?bt=La:rn.sibling=La,rn=La,Kt=Pr}if(wn.done)return S(_e,Kt),Xn&&Ja(_e,sn),bt;if(Kt===null){for(;!wn.done;sn++,wn=Ee.next())wn=Wt(_e,wn.value,st),wn!==null&&(me=B(wn,me,sn),rn===null?bt=wn:rn.sibling=wn,rn=wn);return Xn&&Ja(_e,sn),bt}for(Kt=T(_e,Kt);!wn.done;sn++,wn=Ee.next())wn=Un(Kt,_e,sn,wn.value,st),wn!==null&&(p&&wn.alternate!==null&&Kt.delete(wn.key===null?sn:wn.key),me=B(wn,me,sn),rn===null?bt=wn:rn.sibling=wn,rn=wn);return p&&Kt.forEach(function(Km){return m(_e,Km)}),Xn&&Ja(_e,sn),bt}function Ns(_e,me,Ee,st){if(typeof Ee=="object"&&Ee!==null&&Ee.type===f&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case l:e:{for(var bt=Ee.key,rn=me;rn!==null;){if(rn.key===bt){if(bt=Ee.type,bt===f){if(rn.tag===7){S(_e,rn.sibling),me=R(rn,Ee.props.children),me.return=_e,_e=me;break e}}else if(rn.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===E&&sd(bt)===rn.type){S(_e,rn.sibling),me=R(rn,Ee.props),me.ref=Zc(_e,rn,Ee),me.return=_e,_e=me;break e}S(_e,rn);break}else m(_e,rn);rn=rn.sibling}Ee.type===f?(me=tu(Ee.props.children,_e.mode,st,Ee.key),me.return=_e,_e=me):(st=jm(Ee.type,Ee.key,Ee.props,null,_e.mode,st),st.ref=Zc(_e,me,Ee),st.return=_e,_e=st)}return re(_e);case u:e:{for(rn=Ee.key;me!==null;){if(me.key===rn)if(me.tag===4&&me.stateNode.containerInfo===Ee.containerInfo&&me.stateNode.implementation===Ee.implementation){S(_e,me.sibling),me=R(me,Ee.children||[]),me.return=_e,_e=me;break e}else{S(_e,me);break}else m(_e,me);me=me.sibling}me=uo(Ee,_e.mode,st),me.return=_e,_e=me}return re(_e);case E:return rn=Ee._init,Ns(_e,me,rn(Ee._payload),st)}if(Y(Ee))return wt(_e,me,Ee,st);if(P(Ee))return Li(_e,me,Ee,st);Go(_e,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,me!==null&&me.tag===6?(S(_e,me.sibling),me=R(me,Ee),me.return=_e,_e=me):(S(_e,me),me=Ii(Ee,_e.mode,st),me.return=_e,_e=me),re(_e)):S(_e,me)}return Ns}var ef=Ww(!0),jw=Ww(!1),Sa={},fr=fs(Sa),tf=fs(Sa),nf=fs(Sa);function Aa(p){if(p===Sa)throw Error(o(174));return p}function Ev(p,m){un(nf,m),un(tf,p),un(fr,Sa),p=ee(m),kn(fr),un(fr,p)}function rf(){kn(fr),kn(tf),kn(nf)}function qw(p){var m=Aa(nf.current),S=Aa(fr.current);m=k(S,p.type,m),S!==m&&(un(tf,p),un(fr,m))}function zl(p){tf.current===p&&(kn(fr),kn(tf))}var fe=fs(0);function Me(p){for(var m=p;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||ne(S)||we(S)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Se=[];function lt(){for(var p=0;p<Se.length;p++){var m=Se[p];Ue?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}Se.length=0}var Ut=a.ReactCurrentDispatcher,Yt=a.ReactCurrentBatchConfig,tr=0,Bt=null,Yr=null,Zr=null,ji=!1,$l=!1,od=0,sf=0;function Hr(){throw Error(o(321))}function of(p,m){if(m===null)return!1;for(var S=0;S<m.length&&S<p.length;S++)if(!wa(p[S],m[S]))return!1;return!0}function Dn(p,m,S,T,R,B){if(tr=B,Bt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Ut.current=p===null||p.memoizedState===null?pd:Pv,p=S(T,R),$l){B=0;do{if($l=!1,od=0,25<=B)throw Error(o(301));B+=1,Zr=Yr=null,m.updateQueue=null,Ut.current=uf,p=S(T,R)}while($l)}if(Ut.current=lf,m=Yr!==null&&Yr.next!==null,tr=0,Zr=Yr=Bt=null,ji=!1,m)throw Error(o(300));return p}function Tv(){var p=od!==0;return od=0,p}function Ea(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?Bt.memoizedState=Zr=p:Zr=Zr.next=p,Zr}function Ps(){if(Yr===null){var p=Bt.alternate;p=p!==null?p.memoizedState:null}else p=Yr.next;var m=Zr===null?Bt.memoizedState:Zr.next;if(m!==null)Zr=m,Yr=p;else{if(p===null)throw Error(o(310));Yr=p,p={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},Zr===null?Bt.memoizedState=Zr=p:Zr=Zr.next=p}return Zr}function zu(p,m){return typeof m=="function"?m(p):m}function Cm(p){var m=Ps(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=p;var T=Yr,R=T.baseQueue,B=S.pending;if(B!==null){if(R!==null){var re=R.next;R.next=B.next,B.next=re}T.baseQueue=R=B,S.pending=null}if(R!==null){B=R.next,T=T.baseState;var pe=re=null,Te=null,$e=B;do{var ft=$e.lane;if((tr&ft)===ft)Te!==null&&(Te=Te.next={lane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),T=$e.hasEagerState?$e.eagerState:p(T,$e.action);else{var Wt={lane:ft,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null};Te===null?(pe=Te=Wt,re=T):Te=Te.next=Wt,Bt.lanes|=ft,gf|=ft}$e=$e.next}while($e!==null&&$e!==B);Te===null?re=T:Te.next=pe,wa(T,m.memoizedState)||(Ds=!0),m.memoizedState=T,m.baseState=re,m.baseQueue=Te,S.lastRenderedState=T}if(p=S.interleaved,p!==null){R=p;do B=R.lane,Bt.lanes|=B,gf|=B,R=R.next;while(R!==p)}else R===null&&(S.lanes=0);return[m.memoizedState,S.dispatch]}function Mm(p){var m=Ps(),S=m.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=p;var T=S.dispatch,R=S.pending,B=m.memoizedState;if(R!==null){S.pending=null;var re=R=R.next;do B=p(B,re.action),re=re.next;while(re!==R);wa(B,m.memoizedState)||(Ds=!0),m.memoizedState=B,m.baseQueue===null&&(m.baseState=B),S.lastRenderedState=B}return[B,T]}function ad(){}function Xa(p,m){var S=Bt,T=Ps(),R=m(),B=!wa(T.memoizedState,R);if(B&&(T.memoizedState=R,Ds=!0),T=T.queue,cd(ud.bind(null,S,T,p),[p]),T.getSnapshot!==m||B||Zr!==null&&Zr.memoizedState.tag&1){if(S.flags|=2048,Vl(9,Cv.bind(null,S,T,R,m),void 0,null),Ir===null)throw Error(o(349));(tr&30)!==0||ld(S,m,R)}return R}function ld(p,m,S){p.flags|=16384,p={getSnapshot:m,value:S},m=Bt.updateQueue,m===null?(m={lastEffect:null,stores:null},Bt.updateQueue=m,m.stores=[p]):(S=m.stores,S===null?m.stores=[p]:S.push(p))}function Cv(p,m,S,T){m.value=S,m.getSnapshot=T,Mv(m)&&ao(p,1,-1)}function ud(p,m,S){return S(function(){Mv(m)&&ao(p,1,-1)})}function Mv(p){var m=p.getSnapshot;p=p.value;try{var S=m();return!wa(p,S)}catch{return!0}}function Rm(p){var m=Ea();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:p},m.queue=p,p=p.dispatch=Ai.bind(null,Bt,p),[m.memoizedState,p]}function Vl(p,m,S,T){return p={tag:p,create:m,destroy:S,deps:T,next:null},m=Bt.updateQueue,m===null?(m={lastEffect:null,stores:null},Bt.updateQueue=m,m.lastEffect=p.next=p):(S=m.lastEffect,S===null?m.lastEffect=p.next=p:(T=S.next,S.next=p,p.next=T,m.lastEffect=p)),p}function Rv(){return Ps().memoizedState}function Wl(p,m,S,T){var R=Ea();Bt.flags|=p,R.memoizedState=Vl(1|m,S,void 0,T===void 0?null:T)}function Ta(p,m,S,T){var R=Ps();T=T===void 0?null:T;var B=void 0;if(Yr!==null){var re=Yr.memoizedState;if(B=re.destroy,T!==null&&of(T,re.deps)){R.memoizedState=Vl(m,S,B,T);return}}Bt.flags|=p,R.memoizedState=Vl(1|m,S,B,T)}function af(p,m){return Wl(8390656,8,p,m)}function cd(p,m){return Ta(2048,8,p,m)}function Kw(p,m){return Ta(4,2,p,m)}function Qw(p,m){return Ta(4,4,p,m)}function fd(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function hd(p,m,S){return S=S!=null?S.concat([p]):null,Ta(4,4,fd.bind(null,m,p),S)}function dd(){}function Jw(p,m){var S=Ps();m=m===void 0?null:m;var T=S.memoizedState;return T!==null&&m!==null&&of(m,T[1])?T[0]:(S.memoizedState=[p,m],p)}function Iv(p,m){var S=Ps();m=m===void 0?null:m;var T=S.memoizedState;return T!==null&&m!==null&&of(m,T[1])?T[0]:(p=p(),S.memoizedState=[p,m],p)}function t2(p,m){var S=Rn;Rn=S!==0&&4>S?S:4,p(!0);var T=Yt.transition;Yt.transition={};try{p(!1),m()}finally{Rn=S,Yt.transition=T}}function Xw(){return Ps().memoizedState}function Gr(p,m,S){var T=Ra(p);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},Yw(p)?Zw(m,S):(Lv(p,m,S),S=Ci(),p=ao(p,T,S),p!==null&&eb(p,m,T))}function Ai(p,m,S){var T=Ra(p),R={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(Yw(p))Zw(m,R);else{Lv(p,m,R);var B=p.alternate;if(p.lanes===0&&(B===null||B.lanes===0)&&(B=m.lastRenderedReducer,B!==null))try{var re=m.lastRenderedState,pe=B(re,S);if(R.hasEagerState=!0,R.eagerState=pe,wa(pe,re))return}catch{}finally{}S=Ci(),p=ao(p,T,S),p!==null&&eb(p,m,T)}}function Yw(p){var m=p.alternate;return p===Bt||m!==null&&m===Bt}function Zw(p,m){$l=ji=!0;var S=p.pending;S===null?m.next=m:(m.next=S.next,S.next=m),p.pending=m}function Lv(p,m,S){Ir!==null&&(p.mode&1)!==0&&(nn&2)===0?(p=m.interleaved,p===null?(S.next=S,ba===null?ba=[m]:ba.push(m)):(S.next=p.next,p.next=S),m.interleaved=S):(p=m.pending,p===null?S.next=S:(S.next=p.next,p.next=S),m.pending=S)}function eb(p,m,S){if((S&4194240)!==0){var T=m.lanes;T&=p.pendingLanes,S|=T,m.lanes=S,mv(p,S)}}var lf={readContext:er,useCallback:Hr,useContext:Hr,useEffect:Hr,useImperativeHandle:Hr,useInsertionEffect:Hr,useLayoutEffect:Hr,useMemo:Hr,useReducer:Hr,useRef:Hr,useState:Hr,useDebugValue:Hr,useDeferredValue:Hr,useTransition:Hr,useMutableSource:Hr,useSyncExternalStore:Hr,useId:Hr,unstable_isNewReconciler:!1},pd={readContext:er,useCallback:function(p,m){return Ea().memoizedState=[p,m===void 0?null:m],p},useContext:er,useEffect:af,useImperativeHandle:function(p,m,S){return S=S!=null?S.concat([p]):null,Wl(4194308,4,fd.bind(null,m,p),S)},useLayoutEffect:function(p,m){return Wl(4194308,4,p,m)},useInsertionEffect:function(p,m){return Wl(4,2,p,m)},useMemo:function(p,m){var S=Ea();return m=m===void 0?null:m,p=p(),S.memoizedState=[p,m],p},useReducer:function(p,m,S){var T=Ea();return m=S!==void 0?S(m):m,T.memoizedState=T.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},T.queue=p,p=p.dispatch=Gr.bind(null,Bt,p),[T.memoizedState,p]},useRef:function(p){var m=Ea();return p={current:p},m.memoizedState=p},useState:Rm,useDebugValue:dd,useDeferredValue:function(p){var m=Rm(p),S=m[0],T=m[1];return af(function(){var R=Yt.transition;Yt.transition={};try{T(p)}finally{Yt.transition=R}},[p]),S},useTransition:function(){var p=Rm(!1),m=p[0];return p=t2.bind(null,p[1]),Ea().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,S){var T=Bt,R=Ea();if(Xn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=m(),Ir===null)throw Error(o(349));(tr&30)!==0||ld(T,m,S)}R.memoizedState=S;var B={value:S,getSnapshot:m};return R.queue=B,af(ud.bind(null,T,B,p),[p]),T.flags|=2048,Vl(9,Cv.bind(null,T,B,S,m),void 0,null),S},useId:function(){var p=Ea(),m=Ir.identifierPrefix;if(Xn){var S=Uo,T=Qa;S=(T&~(1<<32-so(T)-1)).toString(32)+S,m=":"+m+"R"+S,S=od++,0<S&&(m+="H"+S.toString(32)),m+=":"}else S=sf++,m=":"+m+"r"+S.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},Pv={readContext:er,useCallback:Jw,useContext:er,useEffect:cd,useImperativeHandle:hd,useInsertionEffect:Kw,useLayoutEffect:Qw,useMemo:Iv,useReducer:Cm,useRef:Rv,useState:function(){return Cm(zu)},useDebugValue:dd,useDeferredValue:function(p){var m=Cm(zu),S=m[0],T=m[1];return cd(function(){var R=Yt.transition;Yt.transition={};try{T(p)}finally{Yt.transition=R}},[p]),S},useTransition:function(){var p=Cm(zu)[0],m=Ps().memoizedState;return[p,m]},useMutableSource:ad,useSyncExternalStore:Xa,useId:Xw,unstable_isNewReconciler:!1},uf={readContext:er,useCallback:Jw,useContext:er,useEffect:cd,useImperativeHandle:hd,useInsertionEffect:Kw,useLayoutEffect:Qw,useMemo:Iv,useReducer:Mm,useRef:Rv,useState:function(){return Mm(zu)},useDebugValue:dd,useDeferredValue:function(p){var m=Mm(zu),S=m[0],T=m[1];return cd(function(){var R=Yt.transition;Yt.transition={};try{T(p)}finally{Yt.transition=R}},[p]),S},useTransition:function(){var p=Mm(zu)[0],m=Ps().memoizedState;return[p,m]},useMutableSource:ad,useSyncExternalStore:Xa,useId:Xw,unstable_isNewReconciler:!1};function $u(p,m){try{var S="",T=m;do S+=vv(T),T=T.return;while(T);var R=S}catch(B){R=`
Error generating stack: `+B.message+`
`+B.stack}return{value:p,source:m,stack:R}}function Vu(p,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var Im=typeof WeakMap=="function"?WeakMap:Map;function Wu(p,m,S){S=Si(-1,S),S.tag=3,S.payload={element:null};var T=m.value;return S.callback=function(){bd||(bd=!0,Nm=T),Vu(p,m)},S}function tb(p,m,S){S=Si(-1,S),S.tag=3;var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var R=m.value;S.payload=function(){return T(R)},S.callback=function(){Vu(p,m)}}var B=p.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(S.callback=function(){Vu(p,m),typeof T!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var re=m.stack;this.componentDidCatch(m.value,{componentStack:re!==null?re:""})}),S}function nb(p,m,S){var T=p.pingCache;if(T===null){T=p.pingCache=new Im;var R=new Set;T.set(m,R)}else R=T.get(m),R===void 0&&(R=new Set,T.set(m,R));R.has(S)||(R.add(S),p=Zl.bind(null,p,m,S),m.then(p,p))}function rb(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function ib(p,m,S,T,R){return(p.mode&1)===0?(p===m?p.flags|=65536:(p.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(m=Si(-1,1),m.tag=2,ko(S,m))),S.lanes|=1),p):(p.flags|=65536,p.lanes=R,p)}function Ca(p){p.flags|=4}function md(p,m){if(p!==null&&p.child===m.child)return!0;if((m.flags&16)!==0)return!1;for(p=m.child;p!==null;){if((p.flags&12854)!==0||(p.subtreeFlags&12854)!==0)return!1;p=p.sibling}return!0}var Ya,cf,V,Za;if(mt)Ya=function(p,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)ue(p,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},cf=function(){},V=function(p,m,S,T,R){if(p=p.memoizedProps,p!==T){var B=m.stateNode,re=Aa(fr.current);S=Oe(B,S,p,T,R,re),(m.updateQueue=S)&&Ca(m)}},Za=function(p,m,S,T){S!==T&&Ca(m)};else if(Re){Ya=function(p,m,S,T){for(var R=m.child;R!==null;){if(R.tag===5){var B=R.stateNode;S&&T&&(B=$c(B,R.type,R.memoizedProps,R)),ue(p,B)}else if(R.tag===6)B=R.stateNode,S&&T&&(B=qh(B,R.memoizedProps,R)),ue(p,B);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)B=R.child,B!==null&&(B.return=R),Ya(p,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var gd=function(p,m,S,T){for(var R=m.child;R!==null;){if(R.tag===5){var B=R.stateNode;S&&T&&(B=$c(B,R.type,R.memoizedProps,R)),dm(p,B)}else if(R.tag===6)B=R.stateNode,S&&T&&(B=qh(B,R.memoizedProps,R)),dm(p,B);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)B=R.child,B!==null&&(B.return=R),gd(p,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};cf=function(p,m){var S=m.stateNode;if(!md(p,m)){p=S.containerInfo;var T=Is(p);gd(T,m,!1,!1),S.pendingChildren=T,Ca(m),zc(p,T)}},V=function(p,m,S,T,R){var B=p.stateNode,re=p.memoizedProps;if((p=md(p,m))&&re===T)m.stateNode=B;else{var pe=m.stateNode,Te=Aa(fr.current),$e=null;re!==T&&($e=Oe(pe,S,re,T,R,Te)),p&&$e===null?m.stateNode=B:(B=ro(B,$e,S,re,T,m,p,pe),xe(B,S,T,R,Te)&&Ca(m),m.stateNode=B,p?Ca(m):Ya(B,m,!1,!1))}},Za=function(p,m,S,T){S!==T?(p=Aa(nf.current),S=Aa(fr.current),m.stateNode=ge(T,p,S,m),Ca(m)):m.stateNode=p.stateNode}}else cf=function(){},V=function(){},Za=function(){};function Ei(p,m){if(!Xn)switch(p.tailMode){case"hidden":m=p.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?p.tail=null:S.sibling=null;break;case"collapsed":S=p.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:T.sibling=null}}function Rt(p){var m=p.alternate!==null&&p.alternate.child===p.child,S=0,T=0;if(m)for(var R=p.child;R!==null;)S|=R.lanes|R.childLanes,T|=R.subtreeFlags&14680064,T|=R.flags&14680064,R.return=p,R=R.sibling;else for(R=p.child;R!==null;)S|=R.lanes|R.childLanes,T|=R.subtreeFlags,T|=R.flags,R.return=p,R=R.sibling;return p.subtreeFlags|=T,p.childLanes=S,m}function n2(p,m,S){var T=m.pendingProps;switch(Vi(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(m),null;case 1:return hs(m.type)&&Qh(),Rt(m),null;case 3:return T=m.stateNode,rf(),kn($i),kn(ci),lt(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(p===null||p.child===null)&&(rd(m)?Ca(m):p===null||p.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ho!==null&&(Ju(Ho),Ho=null))),cf(p,m),Rt(m),null;case 5:zl(m),S=Aa(nf.current);var R=m.type;if(p!==null&&m.stateNode!=null)V(p,m,R,T,S),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(o(166));return Rt(m),null}if(p=Aa(fr.current),rd(m)){if(!U)throw Error(o(175));p=tn(m.stateNode,m.type,m.memoizedProps,S,p,m,!Xc),m.updateQueue=p,p!==null&&Ca(m)}else{var B=ie(R,T,S,p,m);Ya(B,m,!1,!1),m.stateNode=B,xe(B,R,T,S,p)&&Ca(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Rt(m),null;case 6:if(p&&m.stateNode!=null)Za(p,m,p.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(o(166));if(p=Aa(nf.current),S=Aa(fr.current),rd(m)){if(!U)throw Error(o(176));if(p=m.stateNode,T=m.memoizedProps,(S=Zt(p,T,m,!Xc))&&(R=Wi,R!==null))switch(B=(R.mode&1)!==0,R.tag){case 3:zi(R.stateNode.containerInfo,p,T,B);break;case 5:Mn(R.type,R.memoizedProps,R.stateNode,p,T,B)}S&&Ca(m)}else m.stateNode=ge(T,p,S,m)}return Rt(m),null;case 13:if(kn(fe),T=m.memoizedState,Xn&&di!==null&&(m.mode&1)!==0&&(m.flags&128)===0){for(p=di;p;)p=be(p);return Yc(),m.flags|=98560,m}if(T!==null&&T.dehydrated!==null){if(T=rd(m),p===null){if(!T)throw Error(o(318));if(!U)throw Error(o(344));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));Cn(p,m)}else Yc(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;return Rt(m),null}return Ho!==null&&(Ju(Ho),Ho=null),(m.flags&128)!==0?(m.lanes=S,m):(T=T!==null,S=!1,p===null?rd(m):S=p.memoizedState!==null,T&&!S&&(m.child.flags|=8192,(m.mode&1)!==0&&(p===null||(fe.current&1)!==0?wr===0&&(wr=3):$m())),m.updateQueue!==null&&(m.flags|=4),Rt(m),null);case 4:return rf(),cf(p,m),p===null&&J(m.stateNode.containerInfo),Rt(m),null;case 10:return bm(m.type._context),Rt(m),null;case 17:return hs(m.type)&&Qh(),Rt(m),null;case 19:if(kn(fe),R=m.memoizedState,R===null)return Rt(m),null;if(T=(m.flags&128)!==0,B=R.rendering,B===null)if(T)Ei(R,!1);else{if(wr!==0||p!==null&&(p.flags&128)!==0)for(p=m.child;p!==null;){if(B=Me(p),B!==null){for(m.flags|=128,Ei(R,!1),p=B.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),m.subtreeFlags=0,p=S,T=m.child;T!==null;)S=T,R=p,S.flags&=14680066,B=S.alternate,B===null?(S.childLanes=0,S.lanes=R,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=B.childLanes,S.lanes=B.lanes,S.child=B.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=B.memoizedProps,S.memoizedState=B.memoizedState,S.updateQueue=B.updateQueue,S.type=B.type,R=B.dependencies,S.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),T=T.sibling;return un(fe,fe.current&1|2),m.child}p=p.sibling}R.tail!==null&&Xr()>wd&&(m.flags|=128,T=!0,Ei(R,!1),m.lanes=4194304)}else{if(!T)if(p=Me(B),p!==null){if(m.flags|=128,T=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),Ei(R,!0),R.tail===null&&R.tailMode==="hidden"&&!B.alternate&&!Xn)return Rt(m),null}else 2*Xr()-R.renderingStartTime>wd&&S!==1073741824&&(m.flags|=128,T=!0,Ei(R,!1),m.lanes=4194304);R.isBackwards?(B.sibling=m.child,m.child=B):(p=R.last,p!==null?p.sibling=B:m.child=B,R.last=B)}return R.tail!==null?(m=R.tail,R.rendering=m,R.tail=m.sibling,R.renderingStartTime=Xr(),m.sibling=null,p=fe.current,un(fe,T?p&1|2:p&1),m):(Rt(m),null);case 22:case 23:return Kv(),T=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==T&&(m.flags|=8192),T&&(m.mode&1)!==0?(ks&1073741824)!==0&&(Rt(m),mt&&m.subtreeFlags&6&&(m.flags|=8192)):Rt(m),null;case 24:return null;case 25:return null}throw Error(o(156,m.tag))}var r2=a.ReactCurrentOwner,Ds=!1;function _r(p,m,S,T){m.child=p===null?jw(m,null,S,T):ef(m,p.child,S,T)}function sb(p,m,S,T,R){S=S.render;var B=m.ref;return Hu(m,R),T=Dn(p,m,S,T,B,R),S=Tv(),p!==null&&!Ds?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~R,zr(p,m,R)):(Xn&&S&&Tm(m),m.flags|=1,_r(p,m,T,R),m.child)}function ob(p,m,S,T,R){if(p===null){var B=S.type;return typeof B=="function"&&!e1(B)&&B.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(m.tag=15,m.type=B,ab(p,m,B,T,R)):(p=jm(S.type,null,T,m,m.mode,R),p.ref=m.ref,p.return=m,m.child=p)}if(B=p.child,(p.lanes&R)===0){var re=B.memoizedProps;if(S=S.compare,S=S!==null?S:Rr,S(re,T)&&p.ref===m.ref)return zr(p,m,R)}return m.flags|=1,p=tl(B,T),p.ref=m.ref,p.return=m,m.child=p}function ab(p,m,S,T,R){if(p!==null&&Rr(p.memoizedProps,T)&&p.ref===m.ref)if(Ds=!1,(p.lanes&R)!==0)(p.flags&131072)!==0&&(Ds=!0);else return m.lanes=p.lanes,zr(p,m,R);return zo(p,m,S,T,R)}function lb(p,m,S){var T=m.pendingProps,R=T.children,B=p!==null?p.memoizedState:null;if(T.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null},un(pf,ks),ks|=S;else if((S&1073741824)!==0)m.memoizedState={baseLanes:0,cachePool:null},T=B!==null?B.baseLanes:S,un(pf,ks),ks|=T;else return p=B!==null?B.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null},m.updateQueue=null,un(pf,ks),ks|=p,null;else B!==null?(T=B.baseLanes|S,m.memoizedState=null):T=S,un(pf,ks),ks|=T;return _r(p,m,R,S),m.child}function ub(p,m){var S=m.ref;(p===null&&S!==null||p!==null&&p.ref!==S)&&(m.flags|=512,m.flags|=2097152)}function zo(p,m,S,T,R){var B=hs(S)?Ul:ci.current;return B=Hl(m,B),Hu(m,R),S=Dn(p,m,S,T,B,R),T=Tv(),p!==null&&!Ds?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~R,zr(p,m,R)):(Xn&&T&&Tm(m),m.flags|=1,_r(p,m,S,R),m.child)}function cb(p,m,S,T,R){if(hs(S)){var B=!0;pm(m)}else B=!1;if(Hu(m,R),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),Gw(m,S,T),Qc(m,S,T,R),T=!0;else if(p===null){var re=m.stateNode,pe=m.memoizedProps;re.props=pe;var Te=re.context,$e=S.contextType;typeof $e=="object"&&$e!==null?$e=er($e):($e=hs(S)?Ul:ci.current,$e=Hl(m,$e));var ft=S.getDerivedStateFromProps,Wt=typeof ft=="function"||typeof re.getSnapshotBeforeUpdate=="function";Wt||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(pe!==T||Te!==$e)&&bv(m,re,T,$e),Ur=!1;var Tt=m.memoizedState;re.state=Tt,Fo(m,T,re,R),Te=m.memoizedState,pe!==T||Tt!==Te||$i.current||Ur?(typeof ft=="function"&&(ed(m,S,ft,T),Te=m.memoizedState),(pe=Ur||Hw(m,S,pe,T,Tt,Te,$e))?(Wt||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(m.flags|=4194308)):(typeof re.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=Te),re.props=T,re.state=Te,re.context=$e,T=pe):(typeof re.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{re=m.stateNode,wv(p,m),pe=m.memoizedProps,$e=m.type===m.elementType?pe:fi(m.type,pe),re.props=$e,Wt=m.pendingProps,Tt=re.context,Te=S.contextType,typeof Te=="object"&&Te!==null?Te=er(Te):(Te=hs(S)?Ul:ci.current,Te=Hl(m,Te));var Un=S.getDerivedStateFromProps;(ft=typeof Un=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(pe!==Wt||Tt!==Te)&&bv(m,re,T,Te),Ur=!1,Tt=m.memoizedState,re.state=Tt,Fo(m,T,re,R);var wt=m.memoizedState;pe!==Wt||Tt!==wt||$i.current||Ur?(typeof Un=="function"&&(ed(m,S,Un,T),wt=m.memoizedState),($e=Ur||Hw(m,S,$e,T,Tt,wt,Te)||!1)?(ft||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(T,wt,Te),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(T,wt,Te)),typeof re.componentDidUpdate=="function"&&(m.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof re.componentDidUpdate!="function"||pe===p.memoizedProps&&Tt===p.memoizedState||(m.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||pe===p.memoizedProps&&Tt===p.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=wt),re.props=T,re.state=wt,re.context=Te,T=$e):(typeof re.componentDidUpdate!="function"||pe===p.memoizedProps&&Tt===p.memoizedState||(m.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||pe===p.memoizedProps&&Tt===p.memoizedState||(m.flags|=1024),T=!1)}return Dv(p,m,S,T,B,R)}function Dv(p,m,S,T,R,B){ub(p,m);var re=(m.flags&128)!==0;if(!T&&!re)return R&&dv(m,S,!1),zr(p,m,B);T=m.stateNode,r2.current=m;var pe=re&&typeof S.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,p!==null&&re?(m.child=ef(m,p.child,null,B),m.child=ef(m,null,pe,B)):_r(p,m,pe,B),m.memoizedState=T.state,R&&dv(m,S,!0),m.child}function fb(p){var m=p.stateNode;m.pendingContext?Jh(p,m.pendingContext,m.pendingContext!==m.context):m.context&&Jh(p,m.context,!1),Ev(p,m.containerInfo)}function hb(p,m,S,T,R){return Yc(),id(R),m.flags|=256,_r(p,m,S,T),m.child}var Lm={dehydrated:null,treeContext:null,retryLane:0};function oo(p){return{baseLanes:p,cachePool:null}}function db(p,m,S){var T=m.pendingProps,R=fe.current,B=!1,re=(m.flags&128)!==0,pe;if((pe=re)||(pe=p!==null&&p.memoizedState===null?!1:(R&2)!==0),pe?(B=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(R|=1),un(fe,R&1),p===null)return Av(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?((m.mode&1)===0?m.lanes=1:we(p)?m.lanes=8:m.lanes=1073741824,null):(R=T.children,p=T.fallback,B?(T=m.mode,B=m.child,R={mode:"hidden",children:R},(T&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=R):B=Td(R,T,0,null),p=tu(p,T,S,null),B.return=m,p.return=m,B.sibling=p,m.child=B,m.child.memoizedState=oo(S),m.memoizedState=Lm,p):Bv(m,R));if(R=p.memoizedState,R!==null){if(pe=R.dehydrated,pe!==null){if(re)return m.flags&256?(m.flags&=-257,Pm(p,m,S,Error(o(422)))):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):(B=T.fallback,R=m.mode,T=Td({mode:"visible",children:T.children},R,0,null),B=tu(B,R,S,null),B.flags|=2,T.return=m,B.return=m,T.sibling=B,m.child=T,(m.mode&1)!==0&&ef(m,p.child,null,S),m.child.memoizedState=oo(S),m.memoizedState=Lm,B);if((m.mode&1)===0)m=Pm(p,m,S,null);else if(we(pe))m=Pm(p,m,S,Error(o(419)));else if(T=(S&p.childLanes)!==0,Ds||T){if(T=Ir,T!==null){switch(S&-S){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}T=(B&(T.suspendedLanes|S))!==0?0:B,T!==0&&T!==R.retryLane&&(R.retryLane=T,ao(p,T,-1))}$m(),m=Pm(p,m,S,Error(o(421)))}else ne(pe)?(m.flags|=128,m.child=p.child,m=eu.bind(null,p),Ce(pe,m),m=null):(S=R.treeContext,U&&(di=qt(pe),Wi=m,Xn=!0,Ho=null,Xc=!1,S!==null&&(ds[ps++]=Qa,ds[ps++]=Uo,ds[ps++]=Gl,Qa=S.id,Uo=S.overflow,Gl=m)),m=Bv(m,m.pendingProps.children),m.flags|=4096);return m}return B?(T=mb(p,m,T.children,T.fallback,S),B=m.child,R=p.child.memoizedState,B.memoizedState=R===null?oo(S):{baseLanes:R.baseLanes|S,cachePool:null},B.childLanes=p.childLanes&~S,m.memoizedState=Lm,T):(S=pb(p,m,T.children,S),m.memoizedState=null,S)}return B?(T=mb(p,m,T.children,T.fallback,S),B=m.child,R=p.child.memoizedState,B.memoizedState=R===null?oo(S):{baseLanes:R.baseLanes|S,cachePool:null},B.childLanes=p.childLanes&~S,m.memoizedState=Lm,T):(S=pb(p,m,T.children,S),m.memoizedState=null,S)}function Bv(p,m){return m=Td({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function pb(p,m,S,T){var R=p.child;return p=R.sibling,S=tl(R,{mode:"visible",children:S}),(m.mode&1)===0&&(S.lanes=T),S.return=m,S.sibling=null,p!==null&&(T=m.deletions,T===null?(m.deletions=[p],m.flags|=16):T.push(p)),m.child=S}function mb(p,m,S,T,R){var B=m.mode;p=p.child;var re=p.sibling,pe={mode:"hidden",children:S};return(B&1)===0&&m.child!==p?(S=m.child,S.childLanes=0,S.pendingProps=pe,m.deletions=null):(S=tl(p,pe),S.subtreeFlags=p.subtreeFlags&14680064),re!==null?T=tl(re,T):(T=tu(T,B,R,null),T.flags|=2),T.return=m,S.return=m,S.sibling=T,m.child=S,T}function Pm(p,m,S,T){return T!==null&&id(T),ef(m,p.child,null,S),p=Bv(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function jl(p,m,S){p.lanes|=m;var T=p.alternate;T!==null&&(T.lanes|=m),Sm(p.return,m,S)}function Ov(p,m,S,T,R){var B=p.memoizedState;B===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:R}:(B.isBackwards=m,B.rendering=null,B.renderingStartTime=0,B.last=T,B.tail=S,B.tailMode=R)}function gb(p,m,S){var T=m.pendingProps,R=T.revealOrder,B=T.tail;if(_r(p,m,T.children,S),T=fe.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(p!==null&&(p.flags&128)!==0)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&jl(p,S,m);else if(p.tag===19)jl(p,S,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}T&=1}if(un(fe,T),(m.mode&1)===0)m.memoizedState=null;else switch(R){case"forwards":for(S=m.child,R=null;S!==null;)p=S.alternate,p!==null&&Me(p)===null&&(R=S),S=S.sibling;S=R,S===null?(R=m.child,m.child=null):(R=S.sibling,S.sibling=null),Ov(m,!1,R,S,B);break;case"backwards":for(S=null,R=m.child,m.child=null;R!==null;){if(p=R.alternate,p!==null&&Me(p)===null){m.child=R;break}p=R.sibling,R.sibling=S,S=R,R=p}Ov(m,!0,S,null,B);break;case"together":Ov(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function zr(p,m,S){if(p!==null&&(m.dependencies=p.dependencies),gf|=m.lanes,(S&m.childLanes)===0)return null;if(p!==null&&m.child!==p.child)throw Error(o(153));if(m.child!==null){for(p=m.child,S=tl(p,p.pendingProps),m.child=S,S.return=m;p.sibling!==null;)p=p.sibling,S=S.sibling=tl(p,p.pendingProps),S.return=m;S.sibling=null}return m.child}function i2(p,m,S){switch(m.tag){case 3:fb(m),Yc();break;case 5:qw(m);break;case 1:hs(m.type)&&pm(m);break;case 4:Ev(m,m.stateNode.containerInfo);break;case 10:_v(m,m.type._context,m.memoizedProps.value);break;case 13:var T=m.memoizedState;if(T!==null)return T.dehydrated!==null?(un(fe,fe.current&1),m.flags|=128,null):(S&m.child.childLanes)!==0?db(p,m,S):(un(fe,fe.current&1),p=zr(p,m,S),p!==null?p.sibling:null);un(fe,fe.current&1);break;case 19:if(T=(S&m.childLanes)!==0,(p.flags&128)!==0){if(T)return gb(p,m,S);m.flags|=128}var R=m.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),un(fe,fe.current),T)break;return null;case 22:case 23:return m.lanes=0,lb(p,m,S)}return zr(p,m,S)}function s2(p,m){switch(Vi(m),m.tag){case 1:return hs(m.type)&&Qh(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return rf(),kn($i),kn(ci),lt(),p=m.flags,(p&65536)!==0&&(p&128)===0?(m.flags=p&-65537|128,m):null;case 5:return zl(m),null;case 13:if(kn(fe),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(o(340));Yc()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return kn(fe),null;case 4:return rf(),null;case 10:return bm(m.type._context),null;case 22:case 23:return Kv(),null;case 24:return null;default:return null}}var Dm=!1,ju=!1,o2=typeof WeakSet=="function"?WeakSet:Set,tt=null;function yd(p,m){var S=p.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){Ri(p,m,T)}else S.current=null}function kv(p,m,S){try{S()}catch(T){Ri(p,m,T)}}var yb=!1;function Fv(p,m){for(G(p.containerInfo),tt=m;tt!==null;)if(p=tt,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,tt=m;else for(;tt!==null;){p=tt;try{var S=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var T=S.memoizedProps,R=S.memoizedState,B=p.stateNode,re=B.getSnapshotBeforeUpdate(p.elementType===p.type?T:fi(p.type,T),R);B.__reactInternalSnapshotBeforeUpdate=re}break;case 3:mt&&ln(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(pe){Ri(p,p.return,pe)}if(m=p.sibling,m!==null){m.return=p.return,tt=m;break}tt=p.return}return S=yb,yb=!1,S}function $o(p,m,S){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var R=T=T.next;do{if((R.tag&p)===p){var B=R.destroy;R.destroy=void 0,B!==void 0&&kv(m,S,B)}R=R.next}while(R!==T)}}function ql(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&p)===p){var T=S.create;S.destroy=T()}S=S.next}while(S!==m)}}function Nv(p){var m=p.ref;if(m!==null){var S=p.stateNode;switch(p.tag){case 5:p=H(S);break;default:p=S}typeof m=="function"?m(p):m.current=p}}function Uv(p,m,S){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(vm,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var T=p=p.next;do{var R=T,B=R.destroy;R=R.tag,B!==void 0&&((R&2)!==0||(R&4)!==0)&&kv(m,S,B),T=T.next}while(T!==p)}break;case 1:if(yd(m,S),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(re){Ri(m,S,re)}break;case 5:yd(m,S);break;case 4:mt?Gv(p,m,S):Re&&Re&&(m=m.stateNode.containerInfo,S=Is(m),jh(m,S))}}function vb(p,m,S){for(var T=m;;)if(Uv(p,T,S),T.child===null||mt&&T.tag===4){if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function Ma(p){var m=p.alternate;m!==null&&(p.alternate=null,Ma(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&Pe(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Bm(p){return p.tag===5||p.tag===3||p.tag===4}function Kl(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||Bm(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Bs(p){if(mt){e:{for(var m=p.return;m!==null;){if(Bm(m))break e;m=m.return}throw Error(o(160))}var S=m;switch(S.tag){case 5:m=S.stateNode,S.flags&32&&(ct(m),S.flags&=-33),S=Kl(p),Om(p,S,m);break;case 3:case 4:m=S.stateNode.containerInfo,S=Kl(p),Hv(p,S,m);break;default:throw Error(o(161))}}}function Hv(p,m,S){var T=p.tag;if(T===5||T===6)p=p.stateNode,m?et(S,p,m):Ie(S,p);else if(T!==4&&(p=p.child,p!==null))for(Hv(p,m,S),p=p.sibling;p!==null;)Hv(p,m,S),p=p.sibling}function Om(p,m,S){var T=p.tag;if(T===5||T===6)p=p.stateNode,m?he(S,p,m):Et(S,p);else if(T!==4&&(p=p.child,p!==null))for(Om(p,m,S),p=p.sibling;p!==null;)Om(p,m,S),p=p.sibling}function Gv(p,m,S){for(var T=m,R=!1,B,re;;){if(!R){R=T.return;e:for(;;){if(R===null)throw Error(o(160));switch(B=R.stateNode,R.tag){case 5:re=!1;break e;case 3:B=B.containerInfo,re=!0;break e;case 4:B=B.containerInfo,re=!0;break e}R=R.return}R=!0}if(T.tag===5||T.tag===6)vb(p,T,S),re?Lt(B,T.stateNode):Xe(B,T.stateNode);else if(T.tag===18)re?Bl(B,T.stateNode):qa(B,T.stateNode);else if(T.tag===4){if(T.child!==null){B=T.stateNode.containerInfo,re=!0,T.child.return=T,T=T.child;continue}}else if(Uv(p,T,S),T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return,T.tag===4&&(R=!1)}T.sibling.return=T.return,T=T.sibling}}function qu(p,m){if(mt){switch(m.tag){case 0:case 11:case 14:case 15:$o(3,m,m.return),ql(3,m),$o(5,m,m.return);return;case 1:return;case 5:var S=m.stateNode;if(S!=null){var T=m.memoizedProps;p=p!==null?p.memoizedProps:T;var R=m.type,B=m.updateQueue;m.updateQueue=null,B!==null&&pt(S,B,R,p,T,m)}return;case 6:if(m.stateNode===null)throw Error(o(162));S=m.memoizedProps,Vt(m.stateNode,p!==null?p.memoizedProps:S,S);return;case 3:U&&p!==null&&p.memoizedState.isDehydrated&&yn(m.stateNode.containerInfo);return;case 12:return;case 13:Vo(m);return;case 19:Vo(m);return;case 17:return}throw Error(o(163))}switch(m.tag){case 0:case 11:case 14:case 15:$o(3,m,m.return),ql(3,m),$o(5,m,m.return);return;case 12:return;case 13:Vo(m);return;case 19:Vo(m);return;case 3:U&&p!==null&&p.memoizedState.isDehydrated&&yn(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(Re){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,jh(m.containerInfo,m.pendingChildren);break e}throw Error(o(163))}}function Vo(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var S=p.stateNode;S===null&&(S=p.stateNode=new o2),m.forEach(function(T){var R=Tb.bind(null,p,T);S.has(T)||(S.add(T),T.then(R,R))})}}function _b(p,m){for(tt=m;tt!==null;){m=tt;var S=m.deletions;if(S!==null)for(var T=0;T<S.length;T++){var R=S[T];try{var B=p;mt?Gv(B,R,m):vb(B,R,m);var re=R.alternate;re!==null&&(re.return=null),R.return=null}catch(bt){Ri(R,m,bt)}}if(S=m.child,(m.subtreeFlags&12854)!==0&&S!==null)S.return=m,tt=S;else for(;tt!==null;){m=tt;try{var pe=m.flags;if(pe&32&&mt&&ct(m.stateNode),pe&512){var Te=m.alternate;if(Te!==null){var $e=Te.ref;$e!==null&&(typeof $e=="function"?$e(null):$e.current=null)}}if(pe&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var ft=m.alternate;(ft===null||ft.memoizedState===null)&&(jv=Xr())}break;case 22:var Wt=m.memoizedState!==null,Tt=m.alternate,Un=Tt!==null&&Tt.memoizedState!==null;if(S=m,mt){e:if(T=S,R=Wt,B=null,mt)for(var wt=T;;){if(wt.tag===5){if(B===null){B=wt;var Li=wt.stateNode;R?Dt(Li):Ft(wt.stateNode,wt.memoizedProps)}}else if(wt.tag===6){if(B===null){var Ns=wt.stateNode;R?Je(Ns):Tn(Ns,wt.memoizedProps)}}else if((wt.tag!==22&&wt.tag!==23||wt.memoizedState===null||wt===T)&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===T)break;for(;wt.sibling===null;){if(wt.return===null||wt.return===T)break e;B===wt&&(B=null),wt=wt.return}B===wt&&(B=null),wt.sibling.return=wt.return,wt=wt.sibling}}if(Wt&&!Un&&(S.mode&1)!==0){tt=S;for(var _e=S.child;_e!==null;){for(S=tt=_e;tt!==null;){T=tt;var me=T.child;switch(T.tag){case 0:case 11:case 14:case 15:$o(4,T,T.return);break;case 1:yd(T,T.return);var Ee=T.stateNode;if(typeof Ee.componentWillUnmount=="function"){var st=T.return;try{Ee.props=T.memoizedProps,Ee.state=T.memoizedState,Ee.componentWillUnmount()}catch(bt){Ri(T,st,bt)}}break;case 5:yd(T,T.return);break;case 22:if(T.memoizedState!==null){zv(S);continue}}me!==null?(me.return=T,tt=me):zv(S)}_e=_e.sibling}}}switch(pe&4102){case 2:Bs(m),m.flags&=-3;break;case 6:Bs(m),m.flags&=-3,qu(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,qu(m.alternate,m);break;case 4:qu(m.alternate,m)}}catch(bt){Ri(m,m.return,bt)}if(S=m.sibling,S!==null){S.return=m.return,tt=S;break}tt=m.return}}}function a2(p,m,S){tt=p,vd(p)}function vd(p,m,S){for(var T=(p.mode&1)!==0;tt!==null;){var R=tt,B=R.child;if(R.tag===22&&T){var re=R.memoizedState!==null||Dm;if(!re){var pe=R.alternate,Te=pe!==null&&pe.memoizedState!==null||ju;pe=Dm;var $e=ju;if(Dm=re,(ju=Te)&&!$e)for(tt=R;tt!==null;)re=tt,Te=re.child,re.tag===22&&re.memoizedState!==null?ei(R):Te!==null?(Te.return=re,tt=Te):ei(R);for(;B!==null;)tt=B,vd(B),B=B.sibling;tt=R,Dm=pe,ju=$e}xb(p)}else(R.subtreeFlags&8772)!==0&&B!==null?(B.return=R,tt=B):xb(p)}}function xb(p){for(;tt!==null;){var m=tt;if((m.flags&8772)!==0){var S=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:ju||ql(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!ju)if(S===null)T.componentDidMount();else{var R=m.elementType===m.type?S.memoizedProps:fi(m.type,S.memoizedProps);T.componentDidUpdate(R,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var B=m.updateQueue;B!==null&&Am(m,B,T);break;case 3:var re=m.updateQueue;if(re!==null){if(S=null,m.child!==null)switch(m.child.tag){case 5:S=H(m.child.stateNode);break;case 1:S=m.child.stateNode}Am(m,re,S)}break;case 5:var pe=m.stateNode;S===null&&m.flags&4&&Xt(pe,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(U&&m.memoizedState===null){var Te=m.alternate;if(Te!==null){var $e=Te.memoizedState;if($e!==null){var ft=$e.dehydrated;ft!==null&&Zn(ft)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ju||m.flags&512&&Nv(m)}catch(Wt){Ri(m,m.return,Wt)}}if(m===p){tt=null;break}if(S=m.sibling,S!==null){S.return=m.return,tt=S;break}tt=m.return}}function zv(p){for(;tt!==null;){var m=tt;if(m===p){tt=null;break}var S=m.sibling;if(S!==null){S.return=m.return,tt=S;break}tt=m.return}}function ei(p){for(;tt!==null;){var m=tt;try{switch(m.tag){case 0:case 11:case 15:var S=m.return;try{ql(4,m)}catch(Te){Ri(m,S,Te)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var R=m.return;try{T.componentDidMount()}catch(Te){Ri(m,R,Te)}}var B=m.return;try{Nv(m)}catch(Te){Ri(m,B,Te)}break;case 5:var re=m.return;try{Nv(m)}catch(Te){Ri(m,re,Te)}}}catch(Te){Ri(m,m.return,Te)}if(m===p){tt=null;break}var pe=m.sibling;if(pe!==null){pe.return=m.return,tt=pe;break}tt=m.return}}var ff=0,_d=1,Os=2,hf=3,Ku=4;if(typeof Symbol=="function"&&Symbol.for){var Wo=Symbol.for;ff=Wo("selector.component"),_d=Wo("selector.has_pseudo_class"),Os=Wo("selector.role"),hf=Wo("selector.test_id"),Ku=Wo("selector.text")}function km(p){var m=te(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(o(364));return m}if(p=gt(p),p===null)throw Error(o(362));return p.stateNode.current}function pi(p,m){switch(m.$$typeof){case ff:if(p.type===m.value)return!0;break;case _d:e:{m=m.value,p=[p,0];for(var S=0;S<p.length;){var T=p[S++],R=p[S++],B=m[R];if(T.tag!==5||!Ae(T)){for(;B!=null&&pi(T,B);)R++,B=m[R];if(R===m.length){m=!0;break e}else for(T=T.child;T!==null;)p.push(T,R),T=T.sibling}}m=!1}return m;case Os:if(p.tag===5&&Ge(p.stateNode,m.value))return!0;break;case Ku:if((p.tag===5||p.tag===6)&&(p=X(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case hf:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function xd(p){switch(p.$$typeof){case ff:return"<"+(D(p.value)||"Unknown")+">";case _d:return":has("+(xd(p)||"")+")";case Os:return'[role="'+p.value+'"]';case Ku:return'"'+p.value+'"';case hf:return'[data-testname="'+p.value+'"]';default:throw Error(o(365))}}function wb(p,m){var S=[];p=[p,0];for(var T=0;T<p.length;){var R=p[T++],B=p[T++],re=m[B];if(R.tag!==5||!Ae(R)){for(;re!=null&&pi(R,re);)B++,re=m[B];if(B===m.length)S.push(R);else for(R=R.child;R!==null;)p.push(R,B),R=R.sibling}}return S}function $v(p,m){if(!xt)throw Error(o(363));p=km(p),p=wb(p,m),m=[],p=Array.from(p);for(var S=0;S<p.length;){var T=p[S++];if(T.tag===5)Ae(T)||m.push(T.stateNode);else for(T=T.child;T!==null;)p.push(T),T=T.sibling}return m}var l2=Math.ceil,df=a.ReactCurrentDispatcher,Vv=a.ReactCurrentOwner,Yn=a.ReactCurrentBatchConfig,nn=0,Ir=null,Lr=null,xr=0,ks=0,pf=fs(0),wr=0,mf=null,gf=0,Fm=0,Wv=0,yf=null,Ti=null,jv=0,wd=1/0;function Qu(){wd=Xr()+500}var bd=!1,Nm=null,jo=null,Um=!1,el=null,Sd=0,Ad=0,Hm=null,Gm=-1,vf=0;function Ci(){return(nn&6)!==0?Xr():Gm!==-1?Gm:Gm=Xr()}function Ra(p){return(p.mode&1)===0?1:(nn&2)!==0&&xr!==0?xr&-xr:e2.transition!==null?(vf===0&&(p=Vc,Vc<<=1,(Vc&4194240)===0&&(Vc=64),vf=p),vf):(p=Rn,p!==0?p:ve())}function ao(p,m,S){if(50<Ad)throw Ad=0,Hm=null,Error(o(185));var T=_f(p,m);return T===null?null:(jc(T,m,S),((nn&2)===0||T!==Ir)&&(T===Ir&&((nn&2)===0&&(Fm|=m),wr===4&&Ql(T,xr)),Mt(T,S),m===1&&nn===0&&(p.mode&1)===0&&(Qu(),_m&&Oo())),T)}function _f(p,m){p.lanes|=m;var S=p.alternate;for(S!==null&&(S.lanes|=m),S=p,p=p.return;p!==null;)p.childLanes|=m,S=p.alternate,S!==null&&(S.childLanes|=m),S=p,p=p.return;return S.tag===3?S.stateNode:null}function Mt(p,m){var S=p.callbackNode;KM(p,m);var T=Xh(p,p===Ir?xr:0);if(T===0)S!==null&&Fw(S),p.callbackNode=null,p.callbackPriority=0;else if(m=T&-T,p.callbackPriority!==m){if(S!=null&&Fw(S),m===1)p.tag===0?ZM(Ab.bind(null,p)):Nw(Ab.bind(null,p)),Le?je(function(){nn===0&&Oo()}):ym(Yh,Oo),S=null;else{switch(kw(T)){case 1:S=Yh;break;case 4:S=XM;break;case 16:S=gv;break;case 536870912:S=YM;break;default:S=gv}S=Wm(S,bb.bind(null,p))}p.callbackPriority=m,p.callbackNode=S}}function bb(p,m){if(Gm=-1,vf=0,(nn&6)!==0)throw Error(o(327));var S=p.callbackNode;if(Yl()&&p.callbackNode!==S)return null;var T=Xh(p,p===Ir?xr:0);if(T===0)return null;if((T&30)!==0||(T&p.expiredLanes)!==0||m)m=Mi(p,T);else{m=T;var R=nn;nn|=2;var B=Qv();(Ir!==p||xr!==m)&&(Qu(),Ia(p,m));do try{Jv();break}catch(pe){zm(p,pe)}while(1);wm(),df.current=B,nn=R,Lr!==null?m=0:(Ir=null,xr=0,m=wr)}if(m!==0){if(m===2&&(R=mm(p),R!==0&&(T=R,m=qv(p,R))),m===1)throw S=mf,Ia(p,0),Ql(p,T),Mt(p,Xr()),S;if(m===6)Ql(p,T);else{if(R=p.current.alternate,(T&30)===0&&!Sb(R)&&(m=Mi(p,T),m===2&&(B=mm(p),B!==0&&(T=B,m=qv(p,B))),m===1))throw S=mf,Ia(p,0),Ql(p,T),Mt(p,Xr()),S;switch(p.finishedWork=R,p.finishedLanes=T,m){case 0:case 1:throw Error(o(345));case 2:Xl(p,Ti);break;case 3:if(Ql(p,T),(T&130023424)===T&&(m=jv+500-Xr(),10<m)){if(Xh(p,0)!==0)break;if(R=p.suspendedLanes,(R&T)!==T){Ci(),p.pingedLanes|=p.suspendedLanes&R;break}p.timeoutHandle=Ze(Xl.bind(null,p,Ti),m);break}Xl(p,Ti);break;case 4:if(Ql(p,T),(T&4194240)===T)break;for(m=p.eventTimes,R=-1;0<T;){var re=31-so(T);B=1<<re,re=m[re],re>R&&(R=re),T&=~B}if(T=R,T=Xr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*l2(T/1960))-T,10<T){p.timeoutHandle=Ze(Xl.bind(null,p,Ti),T);break}Xl(p,Ti);break;case 5:Xl(p,Ti);break;default:throw Error(o(329))}}}return Mt(p,Xr()),p.callbackNode===S?bb.bind(null,p):null}function qv(p,m){var S=yf;return p.current.memoizedState.isDehydrated&&(Ia(p,m).flags|=256),p=Mi(p,m),p!==2&&(m=Ti,Ti=S,m!==null&&Ju(m)),p}function Ju(p){Ti===null?Ti=p:Ti.push.apply(Ti,p)}function Sb(p){for(var m=p;;){if(m.flags&16384){var S=m.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var T=0;T<S.length;T++){var R=S[T],B=R.getSnapshot;R=R.value;try{if(!wa(B(),R))return!1}catch{return!1}}}if(S=m.child,m.subtreeFlags&16384&&S!==null)S.return=m,m=S;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ql(p,m){for(m&=~Wv,m&=~Fm,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var S=31-so(m),T=1<<S;p[S]=-1,m&=~T}}function Ab(p){if((nn&6)!==0)throw Error(o(327));Yl();var m=Xh(p,0);if((m&1)===0)return Mt(p,Xr()),null;var S=Mi(p,m);if(p.tag!==0&&S===2){var T=mm(p);T!==0&&(m=T,S=qv(p,T))}if(S===1)throw S=mf,Ia(p,0),Ql(p,m),Mt(p,Xr()),S;if(S===6)throw Error(o(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,Xl(p,Ti),Mt(p,Xr()),null}function Fs(p){el!==null&&el.tag===0&&(nn&6)===0&&Yl();var m=nn;nn|=1;var S=Yn.transition,T=Rn;try{if(Yn.transition=null,Rn=1,p)return p()}finally{Rn=T,Yn.transition=S,nn=m,(nn&6)===0&&Oo()}}function Kv(){ks=pf.current,kn(pf)}function Ia(p,m){p.finishedWork=null,p.finishedLanes=0;var S=p.timeoutHandle;if(S!==We&&(p.timeoutHandle=We,Qe(S)),Lr!==null)for(S=Lr.return;S!==null;){var T=S;switch(Vi(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Qh();break;case 3:rf(),kn($i),kn(ci),lt();break;case 5:zl(T);break;case 4:rf();break;case 13:kn(fe);break;case 19:kn(fe);break;case 10:bm(T.type._context);break;case 22:case 23:Kv()}S=S.return}if(Ir=p,Lr=p=tl(p.current,null),xr=ks=m,wr=0,mf=null,Wv=Fm=gf=0,Ti=yf=null,ba!==null){for(m=0;m<ba.length;m++)if(S=ba[m],T=S.interleaved,T!==null){S.interleaved=null;var R=T.next,B=S.pending;if(B!==null){var re=B.next;B.next=R,T.next=re}S.pending=T}ba=null}return p}function zm(p,m){do{var S=Lr;try{if(wm(),Ut.current=lf,ji){for(var T=Bt.memoizedState;T!==null;){var R=T.queue;R!==null&&(R.pending=null),T=T.next}ji=!1}if(tr=0,Zr=Yr=Bt=null,$l=!1,od=0,Vv.current=null,S===null||S.return===null){wr=1,mf=m,Lr=null;break}e:{var B=p,re=S.return,pe=S,Te=m;if(m=xr,pe.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var $e=Te,ft=pe,Wt=ft.tag;if((ft.mode&1)===0&&(Wt===0||Wt===11||Wt===15)){var Tt=ft.alternate;Tt?(ft.updateQueue=Tt.updateQueue,ft.memoizedState=Tt.memoizedState,ft.lanes=Tt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Un=rb(re);if(Un!==null){Un.flags&=-257,ib(Un,re,pe,B,m),Un.mode&1&&nb(B,$e,m),m=Un,Te=$e;var wt=m.updateQueue;if(wt===null){var Li=new Set;Li.add(Te),m.updateQueue=Li}else wt.add(Te);break e}else{if((m&1)===0){nb(B,$e,m),$m();break e}Te=Error(o(426))}}else if(Xn&&pe.mode&1){var Ns=rb(re);if(Ns!==null){(Ns.flags&65536)===0&&(Ns.flags|=256),ib(Ns,re,pe,B,m),id(Te);break e}}B=Te,wr!==4&&(wr=2),yf===null?yf=[B]:yf.push(B),Te=$u(Te,pe),pe=re;do{switch(pe.tag){case 3:pe.flags|=65536,m&=-m,pe.lanes|=m;var _e=Wu(pe,Te,m);Jn(pe,_e);break e;case 1:B=Te;var me=pe.type,Ee=pe.stateNode;if((pe.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(jo===null||!jo.has(Ee)))){pe.flags|=65536,m&=-m,pe.lanes|=m;var st=tb(pe,B,m);Jn(pe,st);break e}}pe=pe.return}while(pe!==null)}Ed(S)}catch(bt){m=bt,Lr===S&&S!==null&&(Lr=S=S.return);continue}break}while(1)}function Qv(){var p=df.current;return df.current=lf,p===null?lf:p}function $m(){(wr===0||wr===3||wr===2)&&(wr=4),Ir===null||(gf&268435455)===0&&(Fm&268435455)===0||Ql(Ir,xr)}function Mi(p,m){var S=nn;nn|=2;var T=Qv();Ir===p&&xr===m||Ia(p,m);do try{Jl();break}catch(R){zm(p,R)}while(1);if(wm(),nn=S,df.current=T,Lr!==null)throw Error(o(261));return Ir=null,xr=0,wr}function Jl(){for(;Lr!==null;)Xv(Lr)}function Jv(){for(;Lr!==null&&!QM();)Xv(Lr)}function Xv(p){var m=Zv(p.alternate,p,ks);p.memoizedProps=p.pendingProps,m===null?Ed(p):Lr=m,Vv.current=null}function Ed(p){var m=p;do{var S=m.alternate;if(p=m.return,(m.flags&32768)===0){if(S=n2(S,m,ks),S!==null){Lr=S;return}}else{if(S=s2(S,m),S!==null){S.flags&=32767,Lr=S;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{wr=6,Lr=null;return}}if(m=m.sibling,m!==null){Lr=m;return}Lr=m=p}while(m!==null);wr===0&&(wr=5)}function Xl(p,m){var S=Rn,T=Yn.transition;try{Yn.transition=null,Rn=1,Yv(p,m,S)}finally{Yn.transition=T,Rn=S}return null}function Yv(p,m,S){do Yl();while(el!==null);if((nn&6)!==0)throw Error(o(327));var T=p.finishedWork,R=p.finishedLanes;if(T===null)return null;if(p.finishedWork=null,p.finishedLanes=0,T===p.current)throw Error(o(177));p.callbackNode=null,p.callbackPriority=0;var B=T.lanes|T.childLanes;if(Ow(p,B),p===Ir&&(Lr=Ir=null,xr=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||Um||(Um=!0,Wm(gv,function(){return Yl(),null})),B=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||B){B=Yn.transition,Yn.transition=null;var re=Rn;Rn=1;var pe=nn;nn|=4,Vv.current=null,Fv(p,T),_b(p,T),$(p.containerInfo),p.current=T,a2(T),JM(),nn=pe,Rn=re,Yn.transition=B}else p.current=T;if(Um&&(Um=!1,el=p,Sd=R),B=p.pendingLanes,B===0&&(jo=null),Qn(T.stateNode),Mt(p,Xr()),m!==null)for(S=p.onRecoverableError,T=0;T<m.length;T++)S(m[T]);if(bd)throw bd=!1,p=Nm,Nm=null,p;return(Sd&1)!==0&&p.tag!==0&&Yl(),B=p.pendingLanes,(B&1)!==0?p===Hm?Ad++:(Ad=0,Hm=p):Ad=0,Oo(),null}function Yl(){if(el!==null){var p=kw(Sd),m=Yn.transition,S=Rn;try{if(Yn.transition=null,Rn=16>p?16:p,el===null)var T=!1;else{if(p=el,el=null,Sd=0,(nn&6)!==0)throw Error(o(331));var R=nn;for(nn|=4,tt=p.current;tt!==null;){var B=tt,re=B.child;if((tt.flags&16)!==0){var pe=B.deletions;if(pe!==null){for(var Te=0;Te<pe.length;Te++){var $e=pe[Te];for(tt=$e;tt!==null;){var ft=tt;switch(ft.tag){case 0:case 11:case 15:$o(8,ft,B)}var Wt=ft.child;if(Wt!==null)Wt.return=ft,tt=Wt;else for(;tt!==null;){ft=tt;var Tt=ft.sibling,Un=ft.return;if(Ma(ft),ft===$e){tt=null;break}if(Tt!==null){Tt.return=Un,tt=Tt;break}tt=Un}}}var wt=B.alternate;if(wt!==null){var Li=wt.child;if(Li!==null){wt.child=null;do{var Ns=Li.sibling;Li.sibling=null,Li=Ns}while(Li!==null)}}tt=B}}if((B.subtreeFlags&2064)!==0&&re!==null)re.return=B,tt=re;else e:for(;tt!==null;){if(B=tt,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:$o(9,B,B.return)}var _e=B.sibling;if(_e!==null){_e.return=B.return,tt=_e;break e}tt=B.return}}var me=p.current;for(tt=me;tt!==null;){re=tt;var Ee=re.child;if((re.subtreeFlags&2064)!==0&&Ee!==null)Ee.return=re,tt=Ee;else e:for(re=me;tt!==null;){if(pe=tt,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:ql(9,pe)}}catch(bt){Ri(pe,pe.return,bt)}if(pe===re){tt=null;break e}var st=pe.sibling;if(st!==null){st.return=pe.return,tt=st;break e}tt=pe.return}}if(nn=R,Oo(),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(vm,p)}catch{}T=!0}return T}finally{Rn=S,Yn.transition=m}}return!1}function Vm(p,m,S){m=$u(S,m),m=Wu(p,m,1),ko(p,m),m=Ci(),p=_f(p,1),p!==null&&(jc(p,1,m),Mt(p,m))}function Ri(p,m,S){if(p.tag===3)Vm(p,p,S);else for(;m!==null;){if(m.tag===3){Vm(m,p,S);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(jo===null||!jo.has(T))){p=$u(S,p),p=tb(m,p,1),ko(m,p),p=Ci(),m=_f(m,1),m!==null&&(jc(m,1,p),Mt(m,p));break}}m=m.return}}function Zl(p,m,S){var T=p.pingCache;T!==null&&T.delete(m),m=Ci(),p.pingedLanes|=p.suspendedLanes&S,Ir===p&&(xr&S)===S&&(wr===4||wr===3&&(xr&130023424)===xr&&500>Xr()-jv?Ia(p,0):Wv|=S),Mt(p,m)}function Eb(p,m){m===0&&((p.mode&1)===0?m=1:(m=Wc,Wc<<=1,(Wc&130023424)===0&&(Wc=4194304)));var S=Ci();p=_f(p,m),p!==null&&(jc(p,m,S),Mt(p,S))}function eu(p){var m=p.memoizedState,S=0;m!==null&&(S=m.retryLane),Eb(p,S)}function Tb(p,m){var S=0;switch(p.tag){case 13:var T=p.stateNode,R=p.memoizedState;R!==null&&(S=R.retryLane);break;case 19:T=p.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(m),Eb(p,S)}var Zv;Zv=function(p,m,S){if(p!==null)if(p.memoizedProps!==m.pendingProps||$i.current)Ds=!0;else{if((p.lanes&S)===0&&(m.flags&128)===0)return Ds=!1,i2(p,m,S);Ds=(p.flags&131072)!==0}else Ds=!1,Xn&&(m.flags&1048576)!==0&&zw(m,nd,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps;var R=Hl(m,ci.current);Hu(m,S),R=Dn(null,m,T,p,R,S);var B=Tv();return m.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,hs(T)?(B=!0,pm(m)):B=!1,m.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,xv(m),R.updater=Em,m.stateNode=R,R._reactInternals=m,Qc(m,T,p,S),m=Dv(null,m,T,!0,B,S)):(m.tag=0,Xn&&B&&Tm(m),_r(null,m,R,S),m=m.child),m;case 16:T=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,R=T._init,T=R(T._payload),m.type=T,R=m.tag=Cb(T),p=fi(T,p),R){case 0:m=zo(null,m,T,p,S);break e;case 1:m=cb(null,m,T,p,S);break e;case 11:m=sb(null,m,T,p,S);break e;case 14:m=ob(null,m,T,fi(T.type,p),S);break e}throw Error(o(306,T,""))}return m;case 0:return T=m.type,R=m.pendingProps,R=m.elementType===T?R:fi(T,R),zo(p,m,T,R,S);case 1:return T=m.type,R=m.pendingProps,R=m.elementType===T?R:fi(T,R),cb(p,m,T,R,S);case 3:e:{if(fb(m),p===null)throw Error(o(387));T=m.pendingProps,B=m.memoizedState,R=B.element,wv(p,m),Fo(m,T,null,S);var re=m.memoizedState;if(T=re.element,U&&B.isDehydrated)if(B={element:T,isDehydrated:!1,cache:re.cache,transitions:re.transitions},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){R=Error(o(423)),m=hb(p,m,T,S,R);break e}else if(T!==R){R=Error(o(424)),m=hb(p,m,T,S,R);break e}else for(U&&(di=Nt(m.stateNode.containerInfo),Wi=m,Xn=!0,Ho=null,Xc=!1),S=jw(m,null,T,S),m.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Yc(),T===R){m=zr(p,m,S);break e}_r(p,m,T,S)}m=m.child}return m;case 5:return qw(m),p===null&&Av(m),T=m.type,R=m.pendingProps,B=p!==null?p.memoizedProps:null,re=R.children,de(T,R)?re=null:B!==null&&de(T,B)&&(m.flags|=32),ub(p,m),_r(p,m,re,S),m.child;case 6:return p===null&&Av(m),null;case 13:return db(p,m,S);case 4:return Ev(m,m.stateNode.containerInfo),T=m.pendingProps,p===null?m.child=ef(m,null,T,S):_r(p,m,T,S),m.child;case 11:return T=m.type,R=m.pendingProps,R=m.elementType===T?R:fi(T,R),sb(p,m,T,R,S);case 7:return _r(p,m,m.pendingProps,S),m.child;case 8:return _r(p,m,m.pendingProps.children,S),m.child;case 12:return _r(p,m,m.pendingProps.children,S),m.child;case 10:e:{if(T=m.type._context,R=m.pendingProps,B=m.memoizedProps,re=R.value,_v(m,T,re),B!==null)if(wa(B.value,re)){if(B.children===R.children&&!$i.current){m=zr(p,m,S);break e}}else for(B=m.child,B!==null&&(B.return=m);B!==null;){var pe=B.dependencies;if(pe!==null){re=B.child;for(var Te=pe.firstContext;Te!==null;){if(Te.context===T){if(B.tag===1){Te=Si(-1,S&-S),Te.tag=2;var $e=B.updateQueue;if($e!==null){$e=$e.shared;var ft=$e.pending;ft===null?Te.next=Te:(Te.next=ft.next,ft.next=Te),$e.pending=Te}}B.lanes|=S,Te=B.alternate,Te!==null&&(Te.lanes|=S),Sm(B.return,S,m),pe.lanes|=S;break}Te=Te.next}}else if(B.tag===10)re=B.type===m.type?null:B.child;else if(B.tag===18){if(re=B.return,re===null)throw Error(o(341));re.lanes|=S,pe=re.alternate,pe!==null&&(pe.lanes|=S),Sm(re,S,m),re=B.sibling}else re=B.child;if(re!==null)re.return=B;else for(re=B;re!==null;){if(re===m){re=null;break}if(B=re.sibling,B!==null){B.return=re.return,re=B;break}re=re.return}B=re}_r(p,m,R.children,S),m=m.child}return m;case 9:return R=m.type,T=m.pendingProps.children,Hu(m,S),R=er(R),T=T(R),m.flags|=1,_r(p,m,T,S),m.child;case 14:return T=m.type,R=fi(T,m.pendingProps),R=fi(T.type,R),ob(p,m,T,R,S);case 15:return ab(p,m,m.type,m.pendingProps,S);case 17:return T=m.type,R=m.pendingProps,R=m.elementType===T?R:fi(T,R),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,hs(T)?(p=!0,pm(m)):p=!1,Hu(m,S),Gw(m,T,R),Qc(m,T,R,S),Dv(null,m,T,!0,p,S);case 19:return gb(p,m,S);case 22:return lb(p,m,S)}throw Error(o(156,m.tag))};function Wm(p,m){return ym(p,m)}function u2(p,m,S,T){this.tag=p,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lo(p,m,S,T){return new u2(p,m,S,T)}function e1(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Cb(p){if(typeof p=="function")return e1(p)?1:0;if(p!=null){if(p=p.$$typeof,p===_)return 11;if(p===b)return 14}return 2}function tl(p,m){var S=p.alternate;return S===null?(S=lo(p.tag,m,p.key,p.mode),S.elementType=p.elementType,S.type=p.type,S.stateNode=p.stateNode,S.alternate=p,p.alternate=S):(S.pendingProps=m,S.type=p.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=p.flags&14680064,S.childLanes=p.childLanes,S.lanes=p.lanes,S.child=p.child,S.memoizedProps=p.memoizedProps,S.memoizedState=p.memoizedState,S.updateQueue=p.updateQueue,m=p.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=p.sibling,S.index=p.index,S.ref=p.ref,S}function jm(p,m,S,T,R,B){var re=2;if(T=p,typeof p=="function")e1(p)&&(re=1);else if(typeof p=="string")re=5;else e:switch(p){case f:return tu(S.children,R,B,m);case c:re=8,R|=8;break;case h:return p=lo(12,S,m,R|2),p.elementType=h,p.lanes=B,p;case x:return p=lo(13,S,m,R),p.elementType=x,p.lanes=B,p;case w:return p=lo(19,S,m,R),p.elementType=w,p.lanes=B,p;case C:return Td(S,R,B,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case g:re=10;break e;case y:re=9;break e;case _:re=11;break e;case b:re=14;break e;case E:re=16,T=null;break e}throw Error(o(130,p==null?p:typeof p,""))}return m=lo(re,S,m,R),m.elementType=p,m.type=T,m.lanes=B,m}function tu(p,m,S,T){return p=lo(7,p,T,m),p.lanes=S,p}function Td(p,m,S,T){return p=lo(22,p,T,m),p.elementType=C,p.lanes=S,p.stateNode={},p}function Ii(p,m,S){return p=lo(6,p,null,m),p.lanes=S,p}function uo(p,m,S){return m=lo(4,p.children!==null?p.children:[],p.key,m),m.lanes=S,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function c2(p,m,S,T,R){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=We,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gm(0),this.expirationTimes=gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gm(0),this.identifierPrefix=T,this.onRecoverableError=R,U&&(this.mutableSourceEagerHydrationData=null)}function Mb(p,m,S,T,R,B,re,pe,Te){return p=new c2(p,m,S,pe,Te),m===1?(m=1,B===!0&&(m|=8)):m=0,B=lo(3,null,null,m),p.current=B,B.stateNode=p,B.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null},xv(B),p}function Cd(p){if(!p)return Nl;p=p._reactInternals;e:{if(O(p)!==p||p.tag!==1)throw Error(o(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(hs(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(o(171))}if(p.tag===1){var S=p.type;if(hs(S))return hv(p,S,m)}return m}function Xu(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(o(188)):(p=Object.keys(p).join(","),Error(o(268,p)));return p=oe(m),p===null?null:p.stateNode}function t1(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var S=p.retryLane;p.retryLane=S!==0&&S<m?S:m}}function qm(p,m){t1(p,m),(p=p.alternate)&&t1(p,m)}function f2(p){return p=oe(p),p===null?null:p.stateNode}function Rb(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var m=Ci();ao(p,134217728,m),qm(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=Ci(),S=Ra(p);ao(p,S,m),qm(p,S)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var S=_a(m.pendingLanes);S!==0&&(mv(m,S|1),Mt(m,Xr()),(nn&6)===0&&(Qu(),Oo()))}break;case 13:var T=Ci();Fs(function(){return ao(p,1,T)}),qm(p,1)}},n.batchedUpdates=function(p,m){var S=nn;nn|=1;try{return p(m)}finally{nn=S,nn===0&&(Qu(),_m&&Oo())}},n.createComponentSelector=function(p){return{$$typeof:ff,value:p}},n.createContainer=function(p,m,S,T,R,B,re){return Mb(p,m,!1,null,S,T,R,B,re)},n.createHasPseudoClassSelector=function(p){return{$$typeof:_d,value:p}},n.createHydrationContainer=function(p,m,S,T,R,B,re,pe,Te){return p=Mb(S,T,!0,p,R,B,re,pe,Te),p.context=Cd(null),S=p.current,T=Ci(),R=Ra(S),B=Si(T,R),B.callback=m!=null?m:null,ko(S,B),p.current.lanes=R,jc(p,R,T),Mt(p,T),p},n.createPortal=function(p,m,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:p,containerInfo:m,implementation:S}},n.createRoleSelector=function(p){return{$$typeof:Os,value:p}},n.createTestNameSelector=function(p){return{$$typeof:hf,value:p}},n.createTextSelector=function(p){return{$$typeof:Ku,value:p}},n.deferredUpdates=function(p){var m=Rn,S=Yn.transition;try{return Yn.transition=null,Rn=16,p()}finally{Rn=m,Yn.transition=S}},n.discreteUpdates=function(p,m,S,T,R){var B=Rn,re=Yn.transition;try{return Yn.transition=null,Rn=1,p(m,S,T,R)}finally{Rn=B,Yn.transition=re,nn===0&&Qu()}},n.findAllNodes=$v,n.findBoundingRects=function(p,m){if(!xt)throw Error(o(363));m=$v(p,m),p=[];for(var S=0;S<m.length;S++)p.push(se(m[S]));for(m=p.length-1;0<m;m--){S=p[m];for(var T=S.x,R=T+S.width,B=S.y,re=B+S.height,pe=m-1;0<=pe;pe--)if(m!==pe){var Te=p[pe],$e=Te.x,ft=$e+Te.width,Wt=Te.y,Tt=Wt+Te.height;if(T>=$e&&B>=Wt&&R<=ft&&re<=Tt){p.splice(m,1);break}else if(T!==$e||S.width!==Te.width||Tt<B||Wt>re){if(!(B!==Wt||S.height!==Te.height||ft<T||$e>R)){$e>T&&(Te.width+=$e-T,Te.x=T),ft<R&&(Te.width=R-$e),p.splice(m,1);break}}else{Wt>B&&(Te.height+=Wt-B,Te.y=B),Tt<re&&(Te.height=re-Wt),p.splice(m,1);break}}}return p},n.findHostInstance=Xu,n.findHostInstanceWithNoPortals=function(p){return p=j(p),p=p!==null?F(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return Xu(p)},n.flushControlled=function(p){var m=nn;nn|=1;var S=Yn.transition,T=Rn;try{Yn.transition=null,Rn=1,p()}finally{Rn=T,Yn.transition=S,nn=m,nn===0&&(Qu(),Oo())}},n.flushPassiveEffects=Yl,n.flushSync=Fs,n.focusWithin=function(p,m){if(!xt)throw Error(o(363));for(p=km(p),m=wb(p,m),m=Array.from(m),p=0;p<m.length;){var S=m[p++];if(!Ae(S)){if(S.tag===5&&nt(S.stateNode))return!0;for(S=S.child;S!==null;)m.push(S),S=S.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Rn},n.getFindAllNodesFailureDescription=function(p,m){if(!xt)throw Error(o(363));var S=0,T=[];p=[km(p),0];for(var R=0;R<p.length;){var B=p[R++],re=p[R++],pe=m[re];if((B.tag!==5||!Ae(B))&&(pi(B,pe)&&(T.push(xd(pe)),re++,re>S&&(S=re)),re<m.length))for(B=B.child;B!==null;)p.push(B,re),B=B.sibling}if(S<m.length){for(p=[];S<m.length;S++)p.push(xd(m[S]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return H(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:f2,findFiberByHostInstance:p.findFiberByHostInstance||Rb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{vm=m.inject(p),xa=m}catch{}p=!!m.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,m,S,T){if(!xt)throw Error(o(363));p=$v(p,m);var R=ot(p,S,T).disconnect;return{disconnect:function(){R()}}},n.registerMutableSourceForHydration=function(p,m){var S=m._getVersion;S=S(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,S]:p.mutableSourceEagerHydrationData.push(m,S)},n.runWithPriority=function(p,m){var S=Rn;try{return Rn=p,m()}finally{Rn=S}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,m,S,T){var R=m.current,B=Ci(),re=Ra(R);return S=Cd(S),m.context===null?m.context=S:m.pendingContext=S,m=Si(B,re),m.payload={element:p},T=T===void 0?null:T,T!==null&&(m.callback=T),ko(R,m),p=ao(R,re,B),p!==null&&Kc(p,R,re),re},n};(function(t){t.exports=K6e})(DX);const Q6e=by(DX.exports);function OX(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}const pc=[];function kX(t,e,n=!1,r={}){for(const s of pc)if(OX(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,promise:t(...e).then(s=>i.response=s).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{const s=pc.indexOf(i);s!==-1&&pc.splice(s,1)},r.lifespan)}).catch(s=>i.error=s)};if(pc.push(i),!n)throw i.promise}const J6e=(t,e,n)=>kX(t,e,!1,n),X6e=(t,e,n)=>void kX(t,e,!0,n),Y6e=t=>{if(t===void 0||t.length===0)pc.splice(0,pc.length);else{const e=pc.find(n=>OX(t,n.keys,n.equal));if(e){const n=pc.indexOf(e);n!==-1&&pc.splice(n,1)}}},FX=t=>t&&t.isOrthographicCamera,Z6e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Cw=Z6e?z.exports.useEffect:z.exports.useLayoutEffect;function NX(t){const e=z.exports.useRef(t);return Cw(()=>void(e.current=t),[t]),e}function e8e({set:t}){return Cw(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class UX extends z.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}UX.getDerivedStateFromError=()=>({error:!0});const HX="__default",t8e=t=>t&&!!t.memoized&&!!t.changes;function GX(t){return Array.isArray(t)?Math.min(Math.max(t[0],window.devicePixelRatio),t[1]):t}const iA=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},hr={obj:t=>t===Object(t)&&!hr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(hr.str(t)||hr.num(t))return t===e;const s=hr.obj(t);if(s&&r==="reference")return t===e;const o=hr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;for(a in i?e:t)if(t[a]!==e[a])return!1;if(hr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function n8e(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function r8e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Hg(t,e){const n=t;return(e!=null&&e.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e}),t}function U3(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const S9=/-\d+$/;function wI(t,e,n){if(hr.str(n)){if(S9.test(n)){const s=n.replace(S9,""),{target:o,key:a}=U3(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=U3(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function A9(t,e,n){var r,i;if(hr.str(n)){const{target:s,key:o}=U3(t,n);s[o]=e.__r3f.previousAttach}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function zX(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var f;const c=(f=t==null?void 0:t.__r3f)!=null?f:{},h=Object.entries(i),g=[];if(u){const _=Object.keys(l);for(let x=0;x<_.length;x++)i.hasOwnProperty(_[x])||h.unshift([_[x],HX+"remove"])}h.forEach(([_,x])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&_==="object"||hr.equ(x,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return g.push([_,x,!0,[]]);let b=[];_.includes("-")&&(b=_.split("-")),g.push([_,x,!1,b])});const y={...i};return c.memoizedProps&&c.memoizedProps.args&&(y.args=c.memoizedProps.args),c.memoizedProps&&c.memoizedProps.attach&&(y.attach=c.memoizedProps.attach),{memoized:y,changes:g}}function bI(t,e){var n,r;const i=(n=t==null?void 0:t.__r3f)!=null?n:{},s=i.root,o=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:a,changes:l}=t8e(e)?e:zX(t,e),u=i.eventCount;if(t.__r3f&&(t.__r3f.memoizedProps=a),l.forEach(([f,c,h,g])=>{let y=t,_=y[f];if(g.length&&(_=g.reduce((b,E)=>b[E],t),!(_&&_.set))){const[b,...E]=g.reverse();y=E.reverse().reduce((C,M)=>C[M],t),f=b}if(c===HX+"remove")if(_&&_.constructor){var x;c=new _.constructor(...(x=a.args)!=null?x:[])}else if(y.constructor){var w;const b=new y.constructor(...(w=y.__r3f.memoizedProps.args)!=null?w:[]);c=b[_],b.dispose&&b.dispose()}else c=0;if(h)c?i.handlers[f]=c:delete i.handlers[f],i.eventCount=Object.keys(i.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof xp)){if(Array.isArray(c))_.fromArray?_.fromArray(c):_.set(...c);else if(_.copy&&c&&c.constructor&&_.constructor.name===c.constructor.name)_.copy(c);else if(c!==void 0){const b=_ instanceof qe;!b&&_.setScalar?_.setScalar(c):_ instanceof xp&&c instanceof xp?_.mask=c.mask:_.set(c),!$s&&!o.linear&&b&&_.convertSRGBToLinear()}}else y[f]=c,!o.linear&&y[f]instanceof Mr&&(y[f].encoding=Ln);Gg(t)}),i.parent&&o.internal&&t.raycast&&u!==i.eventCount){const f=o.internal.interaction.indexOf(t);f>-1&&o.internal.interaction.splice(f,1),i.eventCount&&o.internal.interaction.push(t)}return l.length&&t.parent&&H3(t),t}function Gg(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function H3(t){t.onUpdate==null||t.onUpdate(t)}function i8e(t,e){t.manual||(FX(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function SI(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function s8e(){var t,e;switch((t=window)==null||(e=t.event)==null?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return I0.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return I0.exports.ContinuousEventPriority;default:return I0.exports.DefaultEventPriority}}function $X(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function o8e(t,e){const{events:n,internal:r}=t.getState();r.interaction=r.interaction.filter(i=>i!==e),r.initialHits=r.initialHits.filter(i=>i!==e),r.hovered.forEach((i,s)=>{(i.eventObject===e||i.object===e)&&r.hovered.delete(s)}),r.capturedMap.forEach((i,s)=>{$X(r.capturedMap,e,i,s)})}function a8e(t){const e=new Q;function n(u){const{internal:f}=t.getState(),c=u.offsetX-f.initialClick[0],h=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(c*c+h*h))}function r(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(c=>{var h;return(h=f.__r3f)==null?void 0:h.handlers["onPointer"+c]}))}function i(u,f){const c=t.getState(),h=new Set,g=[],y=f?f(c.internal.interaction):c.internal.interaction;y.forEach(w=>{const b=iA(w);b&&(b.raycaster.camera=void 0)}),c.previousRoot||c.events.compute==null||c.events.compute(u,c);let _=y.flatMap(w=>{const b=iA(w);if(!b||!b.events.enabled||b.raycaster.camera===null)return[];if(b.raycaster.camera===void 0){var E;b.events.compute==null||b.events.compute(u,b,(E=b.previousRoot)==null?void 0:E.getState()),b.raycaster.camera===void 0&&(b.raycaster.camera=null)}return b.raycaster.camera?b.raycaster.intersectObject(w,!0):[]}).sort((w,b)=>{const E=iA(w.object),C=iA(b.object);return!E||!C?0:C.events.priority-E.events.priority||w.distance-b.distance}).filter(w=>{const b=SI(w);return h.has(b)?!1:(h.add(b),!0)});c.events.filter&&(_=c.events.filter(_,c));for(const w of _){let b=w.object;for(;b;){var x;(x=b.__r3f)!=null&&x.eventCount&&g.push({...w,eventObject:b}),b=b.parent}}if("pointerId"in u&&c.internal.capturedMap.has(u.pointerId))for(let w of c.internal.capturedMap.get(u.pointerId).values())g.push(w.intersection);return g}function s(u,f,c,h){const{raycaster:g,pointer:y,camera:_,internal:x}=t.getState();if(u.length){const w=e.set(y.x,y.y,0).unproject(_),b={stopped:!1};for(const E of u){const C=O=>{var q,j;return(q=(j=x.capturedMap.get(O))==null?void 0:j.has(E.eventObject))!=null?q:!1},M=O=>{const q={intersection:E,target:f.target};x.capturedMap.has(O)?x.capturedMap.get(O).set(E.eventObject,q):x.capturedMap.set(O,new Map([[E.eventObject,q]])),f.target.setPointerCapture(O)},P=O=>{const q=x.capturedMap.get(O);q&&$X(x.capturedMap,E.eventObject,q,O)};let D={};for(let O in f){let q=f[O];typeof q!="function"&&(D[O]=q)}let L={...E,...D,pointer:y,intersections:u,stopped:b.stopped,delta:c,unprojectedPoint:w,ray:g.ray,camera:_,stopPropagation:()=>{const O="pointerId"in f&&x.capturedMap.get(f.pointerId);if((!O||O.has(E.eventObject))&&(L.stopped=b.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(q=>q.eventObject===E.eventObject))){const q=u.slice(0,u.indexOf(E));o([...q,E])}},target:{hasPointerCapture:C,setPointerCapture:M,releasePointerCapture:P},currentTarget:{hasPointerCapture:C,setPointerCapture:M,releasePointerCapture:P},nativeEvent:f};if(h(L),b.stopped===!0)break}}return u}function o(u){const{internal:f}=t.getState();Array.from(f.hovered.values()).forEach(c=>{if(!u.length||!u.find(h=>h.object===c.object&&h.index===c.index&&h.instanceId===c.instanceId)){const g=c.eventObject.__r3f,y=g==null?void 0:g.handlers;if(f.hovered.delete(SI(c)),g!=null&&g.eventCount){const _={...c,intersections:u||[]};y.onPointerOut==null||y.onPointerOut(_),y.onPointerLeave==null||y.onPointerLeave(_)}}})}const a=u=>{switch(u){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return f=>{const{internal:c}=t.getState();"pointerId"in f&&!c.capturedMap.has(f.pointerId)&&(c.capturedMap.delete(f.pointerId),o([]))}}return f=>{const{onPointerMissed:c,internal:h}=t.getState();h.lastEvent.current=f;const g=u==="onPointerMove",y=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",x=i(f,g?r:void 0),w=y?n(f):0;u==="onPointerDown"&&(h.initialClick=[f.offsetX,f.offsetY],h.initialHits=x.map(b=>b.eventObject)),y&&!x.length&&w<=2&&(l(f,h.interaction),c&&c(f)),g&&o(x),s(x,f,w,b=>{const E=b.eventObject,C=E.__r3f,M=C==null?void 0:C.handlers;if(!!(C!=null&&C.eventCount))if(g){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const P=SI(b),D=h.hovered.get(P);D?D.stopped&&b.stopPropagation():(h.hovered.set(P,b),M.onPointerOver==null||M.onPointerOver(b),M.onPointerEnter==null||M.onPointerEnter(b))}M.onPointerMove==null||M.onPointerMove(b)}else{const P=M[u];P?(!y||h.initialHits.includes(E))&&(l(f,h.interaction.filter(D=>!h.initialHits.includes(D))),P(b)):y&&h.initialHits.includes(E)&&l(f,h.interaction.filter(D=>!h.initialHits.includes(D)))}})}};function l(u,f){f.forEach(c=>{var h;return(h=c.__r3f)==null||h.handlers.onPointerMissed==null?void 0:h.handlers.onPointerMissed(u)})}return{handlePointer:a}}let G3={},l8e=t=>void(G3={...G3,...t});function u8e(t,e){function n(u,{args:f=[],attach:c,...h},g){let y=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(c===void 0&&(y.endsWith("Geometry")?c="geometry":y.endsWith("Material")&&(c="material")),u==="primitive"){if(h.object===void 0)throw"Primitives without 'object' are invalid!";const x=h.object;_=Hg(x,{type:u,root:g,attach:c,primitive:!0})}else{const x=G3[y];if(!x)throw`${y} is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively`;if(!Array.isArray(f))throw"The args prop must be an array!";_=Hg(new x(...f),{type:u,root:g,attach:c,memoizedProps:{args:f}})}return y!=="inject"&&bI(_,h),_}function r(u,f){let c=!1;if(f){var h,g;(h=f.__r3f)!=null&&h.attach?wI(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),c=!0),c||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||Hg(f,{}),f.__r3f.parent=u,H3(f),Gg(f)}}function i(u,f,c){let h=!1;if(f){var g,y;if((g=f.__r3f)!=null&&g.attach)wI(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const _=u.children.filter(w=>w!==f),x=_.indexOf(c);u.children=[..._.slice(0,x),f,..._.slice(x)],h=!0}h||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||Hg(f,{}),f.__r3f.parent=u,H3(f),Gg(f)}}function s(u,f,c=!1){u&&[...u].forEach(h=>o(f,h,c))}function o(u,f,c){if(f){var h,g,y;if(f.__r3f&&(f.__r3f.parent=null),(h=u.__r3f)!=null&&h.objects&&(u.__r3f.objects=u.__r3f.objects.filter(E=>E!==f)),(g=f.__r3f)!=null&&g.attach)A9(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var _;u.remove(f),(_=f.__r3f)!=null&&_.root&&o8e(f.__r3f.root,f)}const w=(y=f.__r3f)==null?void 0:y.primitive,b=c===void 0?f.dispose!==null&&!w:c;if(!w){var x;s((x=f.__r3f)==null?void 0:x.objects,f,b),s(f.children,f,b)}f.__r3f&&(delete f.__r3f.root,delete f.__r3f.objects,delete f.__r3f.handlers,delete f.__r3f.memoizedProps,w||delete f.__r3f),b&&f.dispose&&f.type!=="Scene"&&bT.exports.unstable_scheduleCallback(bT.exports.unstable_IdlePriority,()=>{try{f.dispose()}catch{}}),Gg(u)}}function a(u,f,c,h){var g,y;const _=(g=u.__r3f)==null?void 0:g.parent;if(!_)return;const x=n(f,c,(y=u.__r3f)==null?void 0:y.root);f!=="primitive"&&u.children&&(u.children.forEach(w=>r(x,w)),u.children=[]),u.__r3f.objects.forEach(w=>r(x,w)),u.__r3f.objects=[],o(_,u),r(_,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[h,h.alternate].forEach(w=>{w!==null&&(w.stateNode=x,w.ref&&(typeof w.ref=="function"?w.ref(x):w.ref.current=x))})}return{reconciler:Q6e({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMicrotask:!0,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{const c=u.getState().scene;c.__r3f.root=u,r(c,f)},removeChildFromContainer:(u,f)=>o(u.getState().scene,f),insertInContainerBefore:(u,f,c)=>i(u.getState().scene,f,c),getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,c,h){if(u.__r3f.primitive&&h.object&&h.object!==u)return[!0];{const{args:g=[],children:y,..._}=h,{args:x=[],children:w,...b}=c;if(!Array.isArray(g))throw"The args prop must be an array!";if(g.some((C,M)=>C!==x[M]))return[!0];const E=zX(u,_,b,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[f,c],h,g,y,_){f?a(u,h,y,_):bI(u,c)},commitMount(u,f,c,h){var g;const y=(g=u==null?void 0:u.__r3f)!=null?g:{};u.raycast&&y.handlers&&y.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,shouldDeprioritizeSubtree:()=>!1,prepareForCommit:()=>null,preparePortalMount:u=>Hg(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,detachDeletedInstance:()=>{},createTextInstance:()=>{},hideInstance(u){var f;const{attach:c,parent:h}=(f=u==null?void 0:u.__r3f)!=null?f:{};c&&h&&A9(h,u,c),u.isObject3D&&(u.visible=!1),Gg(u)},unhideInstance(u,f){var c;const{attach:h,parent:g}=(c=u==null?void 0:u.__r3f)!=null?c:{};h&&g&&wI(g,u,h),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Gg(u)},hideTextInstance:()=>{throw new Error("Text is not allowed in the R3F tree.")},getCurrentEventPriority:()=>e?e():I0.exports.DefaultEventPriority,now:typeof performance<"u"&&hr.fun(performance.now)?performance.now:hr.fun(Date.now)?Date.now:void 0,scheduleTimeout:hr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:hr.fun(clearTimeout)?clearTimeout:void 0,setTimeout:hr.fun(setTimeout)?setTimeout:void 0,clearTimeout:hr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:bI}}const VX=t=>!!(t!=null&&t.render),WX=z.exports.createContext(null),c8e=(t,e)=>{const n=q6e((o,a)=>{const l=new Q,u=new Q,f=new Q;function c(_=a().camera,x=u,w=a().size){const{width:b,height:E}=w,C=b/E;x instanceof Q?f.copy(x):f.set(...x);const M=_.getWorldPosition(l).distanceTo(f);if(FX(_))return{width:b/_.zoom,height:E/_.zoom,factor:1,distance:M,aspect:C};{const P=_.fov*Math.PI/180,D=2*Math.tan(P/2)*M,L=D*(b/E);return{width:L,height:D,factor:b/L,distance:M,aspect:C}}}let h;const g=_=>o(x=>({performance:{...x.performance,current:_}})),y=new Ne;return{set:o,get:a,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:()=>t(a()),advance:(_,x)=>e(_,x,a()),legacy:!1,linear:!1,flat:!1,scene:Hg(new xw),controls:null,clock:new pF,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=a();h&&clearTimeout(h),_.performance.current!==_.performance.min&&g(_.performance.min),h=setTimeout(()=>g(a().performance.max),_.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:c},setEvents:_=>o(x=>({...x,events:{...x.events,..._}})),setSize:(_,x)=>{const w=a().camera,b={width:_,height:x};o(E=>({size:b,viewport:{...E.viewport,...c(w,u,b)}}))},setDpr:_=>o(x=>{const w=GX(_);return{viewport:{...x.viewport,dpr:w,initialDpr:x.viewport.initialDpr||w}}}),setFrameloop:(_="always")=>{const x=a().clock;x.stop(),x.elapsedTime=0,_!=="never"&&(x.start(),x.elapsedTime=0),o(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:z.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,x,w)=>(o(({internal:b})=>({internal:{...b,priority:b.priority+(x>0?1:0),subscribers:[...b.subscribers,{ref:_,priority:x,store:w}].sort((E,C)=>E.priority-C.priority)}})),()=>{o(({internal:b})=>({internal:{...b,priority:b.priority-(x>0?1:0),subscribers:b.subscribers.filter(E=>E.ref!==_)}}))})}}}),r=n.getState();let i=r.size,s=r.viewport.dpr;return n.subscribe(()=>{const{camera:o,size:a,viewport:l,gl:u}=n.getState();(a!==i||l.dpr!==s)&&(i8e(o,a),u.setPixelRatio(l.dpr),u.setSize(a.width,a.height),i=a,s=l.dpr)}),n.subscribe(o=>t(o)),n};function jX(t,e){const n=e.length;return e.push(t),()=>void e.splice(n,1)}let Jf,ZA=[],eE=[],E9=[];const f8e=t=>jX(t,ZA),h8e=t=>jX(t,eE);function R1(t,e){for(Jf=0;Jf<t.length;Jf++)t[Jf](e)}let AI,EI;function TI(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),AI=e.internal.subscribers,Jf=0;Jf<AI.length;Jf++)EI=AI[Jf],EI.ref.current(EI.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function d8e(t){let e=!1,n,r,i;function s(l){if(r=requestAnimationFrame(s),e=!0,n=0,ZA.length&&R1(ZA,l),t.forEach(u=>{var f;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((f=i.gl.xr)!=null&&f.isPresenting)&&(n+=TI(l,i))}),eE.length&&R1(eE,l),n===0)return E9.length&&R1(E9,l),e=!1,cancelAnimationFrame(r)}function o(l){var u;if(!l)return t.forEach(f=>o(f.store.getState()));(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+1),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,f,c){u&&R1(ZA,l),f?TI(l,f,c):t.forEach(h=>TI(l,h.store.getState())),u&&R1(eE,l)}return{loop:s,invalidate:o,advance:a}}function qX(){const t=z.exports.useContext(WX);if(!t)throw"R3F hooks can only be used within the Canvas component!";return t}function p8e(t=n=>n,e){return qX()(t,e)}function $h(t,e=0){const n=qX(),r=n.getState().internal.subscribe,i=NX(t);return Cw(()=>r(i,e,n),[e,r,n]),null}function KX(t,e){return function(n,...r){const i=new n;return t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,n8e(l.scene)),o(l)},e,l=>a(`Could not load ${s}: ${l.message}`)))))}}function sv(t,e,n,r){const i=Array.isArray(e)?e:[e],s=J6e(KX(n,r),[t,...i],{equal:hr.equ});return Array.isArray(e)?s:s[0]}sv.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return X6e(KX(n),[t,...r])};sv.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Y6e([t,...n])};const my=new Map,{invalidate:m8e,advance:T9}=d8e(my),{reconciler:ST,applyProps:sA}=u8e(my,s8e),_g={objects:"shallow",strict:!1},g8e=(t,e)=>{const n=typeof t=="function"?t(e):t;return VX(n)?n:new $n({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function y8e(t){let e=my.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=r||c8e(m8e,T9),s=n||ST.createContainer(i,I0.exports.ConcurrentRoot,!1,null);e||my.set(t,{fiber:s,store:i});let o,a=!1;return{configure(l={}){var u,f,c,h;let{gl:g,size:y,events:_,onCreated:x,shadows:w=!1,linear:b=!1,flat:E=!1,legacy:C=!1,orthographic:M=!1,frameloop:P="always",dpr:D=[1,2],performance:L,raycaster:O,camera:q,onPointerMissed:j}=l,oe=i.getState(),le=oe.gl;oe.gl||oe.set({gl:le=g8e(g,t)});let F=oe.raycaster;F||oe.set({raycaster:F=new AX});const{params:Y,...H}=O||{};if(hr.equ(H,F,_g)||sA(F,{...H}),hr.equ(Y,F.params,_g)||sA(F,{params:{...F.params,...Y}}),!oe.camera){const G=q instanceof Zy,$=G?q:M?new om(0,0,0,0,.1,1e3):new oi(75,0,.1,1e3);G||($.position.z=5,q&&sA($,q),q!=null&&q.rotation||$.lookAt(0,0,0)),oe.set({camera:$})}if(!oe.xr){const G=(ue,xe)=>{const Oe=i.getState();Oe.frameloop!=="never"&&T9(ue,!0,Oe,xe)},$=()=>{const ue=i.getState().gl;ue.xr.enabled=ue.xr.isPresenting,ue.xr.setAnimationLoop(ue.xr.isPresenting?G:null)},ie={connect(){const ue=i.getState().gl;ue.xr.addEventListener("sessionstart",$),ue.xr.addEventListener("sessionend",$)},disconnect(){const ue=i.getState().gl;ue.xr.removeEventListener("sessionstart",$),ue.xr.removeEventListener("sessionend",$)}};le.xr&&ie.connect(),oe.set({xr:ie})}if(le.shadowMap){const G=hr.boo(w);if(G&&le.shadowMap.enabled!==w||!hr.equ(w,le.shadowMap,_g)){const $=le.shadowMap.enabled;le.shadowMap.enabled=!!w,G?le.shadowMap.type=Rk:Object.assign(le.shadowMap,w),$!==le.shadowMap.enabled&&(le.shadowMap.needsUpdate=!0)}}$s&&($s.legacyMode=C);const ee=b?Mu:Ln,k=E?El:Dk;return le.outputEncoding!==ee&&(le.outputEncoding=ee),le.toneMapping!==k&&(le.toneMapping=k),oe.legacy!==C&&oe.set(()=>({legacy:C})),oe.linear!==b&&oe.set(()=>({linear:b})),oe.flat!==E&&oe.set(()=>({flat:E})),g&&!hr.fun(g)&&!VX(g)&&!hr.equ(g,le,_g)&&sA(le,g),_&&!oe.events.handlers&&oe.set({events:_(i)}),D&&oe.viewport.dpr!==GX(D)&&oe.setDpr(D),y=y||{width:(u=(f=t.parentElement)==null?void 0:f.clientWidth)!=null?u:0,height:(c=(h=t.parentElement)==null?void 0:h.clientHeight)!=null?c:0},hr.equ(y,oe.size,_g)||oe.setSize(y.width,y.height),oe.frameloop!==P&&oe.setFrameloop(P),oe.onPointerMissed||oe.set({onPointerMissed:j}),L&&!hr.equ(L,oe.performance,_g)&&oe.set(G=>({performance:{...G.performance,...L}})),o=x,a=!0,this},render(l){return a||this.configure(),ST.updateContainer(W(v8e,{store:i,children:l,onCreated:o,rootElement:t}),s,null,()=>{}),i},unmount(){QX(t)}}}function v8e({store:t,children:e,onCreated:n,rootElement:r}){return Cw(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),z.exports.createElement(WX.Provider,{value:t},e)}function QX(t,e){const n=my.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),ST.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),r8e(i),my.delete(t),e&&e(t)}catch{}},500)})}}ST.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"18.0.0"});function C9(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function z3(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var f=Date.now()-o;f<e&&f>=0?r=setTimeout(l,e-f):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var f=n&&!r;return r||(r=setTimeout(l,e)),f&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}z3.debounce=z3;var M9=z3;function _8e(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=z.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=z.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,f=e?typeof e=="number"?e:e.resize:null,c=z.exports.useRef(!1);z.exports.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[h,g,y]=z.exports.useMemo(()=>{const b=()=>{if(!l.current.element)return;const{left:E,top:C,width:M,height:P,bottom:D,right:L,x:O,y:q}=l.current.element.getBoundingClientRect(),j={left:E,top:C,width:M,height:P,bottom:D,right:L,x:O,y:q};l.current.element instanceof HTMLElement&&i&&(j.height=l.current.element.offsetHeight,j.width=l.current.element.offsetWidth),Object.freeze(j),c.current&&!S8e(l.current.lastBounds,j)&&a(l.current.lastBounds=j)};return[b,f?M9(b,f):b,u?M9(b,u):b]},[a,i,u,f]);function _(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){!l.current.element||(l.current.resizeObserver=new s(y),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(b=>b.addEventListener("scroll",y,{capture:!0,passive:!0})))}const w=b=>{!b||b===l.current.element||(_(),l.current.element=b,l.current.scrollContainers=JX(b),x())};return w8e(y,Boolean(n)),x8e(g),z.exports.useEffect(()=>{_(),x()},[n,y,g]),z.exports.useEffect(()=>_,[]),[w,o,h]}function x8e(t){z.exports.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function w8e(t,e){z.exports.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function JX(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...JX(t.parentElement)]}const b8e=["x","y","top","bottom","left","right","width","height"],S8e=(t,e)=>b8e.every(n=>t[n]===e[n]),CI={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function A8e(t){const{handlePointer:e}=a8e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(CI).reduce((n,r)=>({...n,[r]:e(r)}),{}),connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s==null?void 0:s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=CI[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=CI[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const E8e=z.exports.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=A8e,shadows:a,linear:l,flat:u,legacy:f,orthographic:c,frameloop:h,dpr:g,performance:y,raycaster:_,camera:x,onPointerMissed:w,onCreated:b,...E},C){z.exports.useMemo(()=>l8e(V6e),[]);const[M,{width:P,height:D}]=_8e({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=z.exports.useRef(null),O=z.exports.useRef(null),[q,j]=z.exports.useState(null),oe=NX(w),[le,F]=z.exports.useState(!1),[Y,H]=z.exports.useState(!1);if(le)throw le;if(Y)throw Y;const ee=z.exports.useRef(null);return P>0&&D>0&&q&&(ee.current||(ee.current=y8e(q)),ee.current.configure({gl:s,events:o,shadows:a,linear:l,flat:u,legacy:f,orthographic:c,frameloop:h,dpr:g,performance:y,raycaster:_,camera:x,size:{width:P,height:D},onPointerMissed:(...k)=>oe.current==null?void 0:oe.current(...k),onCreated:k=>{k.events.connect==null||k.events.connect(O.current),b==null||b(k)}}),ee.current.render(W(UX,{set:H,children:W(z.exports.Suspense,{fallback:W(e8e,{set:F}),children:e})}))),Cw(()=>{j(L.current)},[]),z.exports.useEffect(()=>{if(q)return()=>QX(q)},[q]),W("div",{ref:C9([O,M]),style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",...i},...E,children:W("canvas",{ref:C9([L,C]),style:{display:"block"},children:n})})});class _F extends ls{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new I8e(n)}),this.register(function(n){return new F8e(n)}),this.register(function(n){return new N8e(n)}),this.register(function(n){return new P8e(n)}),this.register(function(n){return new D8e(n)}),this.register(function(n){return new B8e(n)}),this.register(function(n){return new O8e(n)}),this.register(function(n){return new R8e(n)}),this.register(function(n){return new k8e(n)}),this.register(function(n){return new L8e(n)}),this.register(function(n){return new C8e(n)}),this.register(function(n){return new U8e(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Tl.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Ro(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(f){n(f),s.manager.itemEnd(e)},a)}catch(f){a(f)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=e;else if(Tl.decodeText(new Uint8Array(e,0,4))===XX){try{o[xn.KHR_BINARY_GLTF]=new H8e(e)}catch(c){i&&i(c);return}s=o[xn.KHR_BINARY_GLTF].content}else s=Tl.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Z8e(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const c=this.pluginCallbacks[f](u);a[c.name]=c,o[c.name]=!0}if(l.extensionsUsed)for(let f=0;f<l.extensionsUsed.length;++f){const c=l.extensionsUsed[f],h=l.extensionsRequired||[];switch(c){case xn.KHR_MATERIALS_UNLIT:o[c]=new M8e;break;case xn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[c]=new $8e;break;case xn.KHR_DRACO_MESH_COMPRESSION:o[c]=new G8e(l,this.dracoLoader);break;case xn.KHR_TEXTURE_TRANSFORM:o[c]=new z8e;break;case xn.KHR_MESH_QUANTIZATION:o[c]=new V8e;break;default:h.indexOf(c)>=0&&a[c]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+c+'".')}}u.setExtensions(o),u.setPlugins(a),u.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function T8e(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const xn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class C8e{constructor(e){this.parser=e,this.name=xn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const f=new qe(16777215);l.color!==void 0&&f.fromArray(l.color);const c=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new TM(f),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new EM(f),u.distance=c;break;case"spot":u=new AM(f),u.distance=c,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class M8e{constructor(){this.name=xn.KHR_MATERIALS_UNLIT}getMaterialType(){return Ao}extendParams(e,n,r){const i=[];e.color=new qe(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Ln))}return Promise.all(i)}}class R8e{constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class I8e{constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ne(a,a)}return Promise.all(s)}}class L8e{constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class P8e{constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new qe(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,Ln)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class D8e{constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class B8e{constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new qe(a[0],a[1],a[2]),Promise.all(s)}}class O8e{constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uu}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class k8e{constructor(e){this.parser=e,this.name=xn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Uu}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new qe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,Ln)),Promise.all(s)}}class F8e{constructor(e){this.parser=e,this.name=xn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class N8e{constructor(e){this.parser=e,this.name=xn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class U8e{constructor(e){this.name=xn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,f=i.count,c=i.byteStride,h=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(f,c,h,i.mode,i.filter).then(function(g){return g.buffer}):o.ready.then(function(){const g=new ArrayBuffer(f*c);return o.decodeGltfBuffer(new Uint8Array(g),f,c,h,i.mode,i.filter),g})})}else return null}}const XX="glTF",I1=12,R9={JSON:1313821514,BIN:5130562};class H8e{constructor(e){this.name=xn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,I1);if(this.header={magic:Tl.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==XX)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-I1,i=new DataView(e,I1);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===R9.JSON){const l=new Uint8Array(e,I1+s,o);this.content=Tl.decodeText(l)}else if(a===R9.BIN){const l=I1+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class G8e{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=xn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const f in o){const c=V3[f]||f.toLowerCase();a[c]=o[f]}for(const f in e.attributes){const c=V3[f]||f.toLowerCase();if(o[f]!==void 0){const h=r.accessors[e.attributes[f]],g=bx[h.componentType];u[c]=g.name,l[c]=h.normalized===!0}}return n.getDependency("bufferView",s).then(function(f){return new Promise(function(c){i.decodeDracoFile(f,function(h){for(const g in h.attributes){const y=h.attributes[g],_=l[g];_!==void 0&&(y.normalized=_)}c(h)},a,u)})})}}class z8e{constructor(){this.name=xn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return n.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class $3 extends zh{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const n=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new qe().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const u in a)l.uniforms[u]=a[u];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",n).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class $8e{constructor(){this.name=xn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return $3}extendParams(e,n,r){const i=n.extensions[this.name];e.color=new qe(1,1,1),e.opacity=1;const s=[];if(Array.isArray(i.diffuseFactor)){const o=i.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(i.diffuseTexture!==void 0&&s.push(r.assignTexture(e,"map",i.diffuseTexture,Ln)),e.emissive=new qe(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new qe(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const o=i.specularGlossinessTexture;s.push(r.assignTexture(e,"glossinessMap",o)),s.push(r.assignTexture(e,"specularMap",o,Ln))}return Promise.all(s)}createMaterial(e){const n=new $3(e);return n.fog=!0,n.color=e.color,n.map=e.map===void 0?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=e.aoMap===void 0?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,n.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,n.bumpMap=e.bumpMap===void 0?null:e.bumpMap,n.bumpScale=1,n.normalMap=e.normalMap===void 0?null:e.normalMap,n.normalMapType=kh,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=e.specularMap===void 0?null:e.specularMap,n.specular=e.specular,n.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=e.envMap===void 0?null:e.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n}}class V8e{constructor(){this.name=xn.KHR_MESH_QUANTIZATION}}class YX extends Pu{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,f=i-n,c=(r-n)/f,h=c*c,g=h*c,y=e*u,_=y-u,x=-2*g+3*h,w=g-h,b=1-x,E=w-h+c;for(let C=0;C!==a;C++){const M=o[_+C+a],P=o[_+C+l]*f,D=o[y+C+a],L=o[y+C]*f;s[C]=b*M+E*P+x*D+w*L}return s}}const W8e=new yr;class j8e extends YX{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return W8e.fromArray(s).normalize().toArray(s),s}}const lc={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},bx={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},I9={9728:qr,9729:Ar,9984:dx,9985:oM,9986:px,9987:Hc},L9={33071:bs,33648:K0,10497:Pc},P9={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},V3={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Lf={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},q8e={CUBICSPLINE:void 0,LINEAR:Up,STEP:X0},MI={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function K8e(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new zh({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:vh})),t.DefaultMaterial}function L1(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Jd(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Q8e(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,f=e.length;u<f;u++){const c=e[u];if(c.POSITION!==void 0&&(r=!0),c.NORMAL!==void 0&&(i=!0),c.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,f=e.length;u<f;u++){const c=e[u];if(r){const h=c.POSITION!==void 0?n.getDependency("accessor",c.POSITION):t.attributes.position;o.push(h)}if(i){const h=c.NORMAL!==void 0?n.getDependency("accessor",c.NORMAL):t.attributes.normal;a.push(h)}if(s){const h=c.COLOR_0!==void 0?n.getDependency("accessor",c.COLOR_0):t.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const f=u[0],c=u[1],h=u[2];return r&&(t.morphAttributes.position=f),i&&(t.morphAttributes.normal=c),s&&(t.morphAttributes.color=h),t.morphTargetsRelative=!0,t})}function J8e(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function X8e(t){const e=t.extensions&&t.extensions[xn.KHR_DRACO_MESH_COMPRESSION];let n;return e?n="draco:"+e.bufferView+":"+e.indices+":"+D9(e.attributes):n=t.indices+":"+D9(t.attributes)+":"+t.mode,n}function D9(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function W3(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Y8e(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class Z8e{constructor(e={},n={}){var r,i;this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new T8e,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=typeof navigator<"u"&&((r=navigator.userAgent)===null||r===void 0?void 0:r.indexOf("Firefox"))>-1,a=typeof navigator<"u"&&o?(i=navigator.userAgent)===null||i===void 0?void 0:i.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||s||o&&a<98?this.textureLoader=new SM(this.options.manager):this.textureLoader=new hF(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ro(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};L1(s,a,i),Jd(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,f]of o.children.entries())s(f,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this.loadNode(n);break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[xn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Tl.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=P9[i.type],u=bx[i.componentType],f=u.BYTES_PER_ELEMENT,c=f*l,h=i.byteOffset||0,g=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let _,x;if(g&&g!==c){const w=Math.floor(h/g),b="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+w+":"+i.count;let E=n.cache.get(b);E||(_=new u(a,w*g,i.count*g/f),E=new Hh(_,g/f),n.cache.add(b,E)),x=new Bc(E,l,h%g/f,y)}else a===null?_=new u(i.count*l):_=new u(a,h,i.count*l),x=new pn(_,l,y);if(i.sparse!==void 0){const w=P9.SCALAR,b=bx[i.sparse.indices.componentType],E=i.sparse.indices.byteOffset||0,C=i.sparse.values.byteOffset||0,M=new b(o[1],E,i.sparse.count*w),P=new u(o[2],C,i.sparse.count*l);a!==null&&(x=new pn(x.array.slice(),x.itemSize,x.normalized));for(let D=0,L=M.length;D<L;D++){const O=M[D];if(x.setX(O,P[D*l]),l>=2&&x.setY(O,P[D*l+1]),l>=3&&x.setZ(O,P[D*l+2]),l>=4&&x.setW(O,P[D*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(f){f.flipY=!1,o.name&&(f.name=o.name);const h=(s.samplers||{})[o.sampler]||{};return f.magFilter=I9[h.magFilter]||Ar,f.minFilter=I9[h.minFilter]||Hc,f.wrapS=L9[h.wrapS]||Pc,f.wrapT=L9[h.wrapT]||Pc,i.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(c=>c.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(c){u=!0;const h=new Blob([c],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(l).then(function(c){return new Promise(function(h,g){let y=h;n.isImageBitmapLoader===!0&&(y=function(_){const x=new Mr(_);x.needsUpdate=!0,h(x)}),n.load(Tl.resolveURL(c,s.path),y,void 0,g)})}).then(function(c){return u===!0&&a.revokeObjectURL(l),c.userData.mimeType=o.mimeType||Y8e(o.uri),c}).catch(function(c){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),c});return this.sourceCache[e]=f,f}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(r.texCoord!==void 0&&r.texCoord!=0&&!(n==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+n+" not yet supported."),s.extensions[xn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[xn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[xn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Gh,vr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new bi,vr.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&n.attributes.uv2===void 0&&n.attributes.uv!==void 0&&n.setAttribute("uv2",n.attributes.uv),e.material=r}getMaterialType(){return zh}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[xn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const c=i[xn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=c.getMaterialType(),u.push(c.extendParams(a,s,n))}else if(l[xn.KHR_MATERIALS_UNLIT]){const c=i[xn.KHR_MATERIALS_UNLIT];o=c.getMaterialType(),u.push(c.extendParams(a,s,n))}else{const c=s.pbrMetallicRoughness||{};if(a.color=new qe(1,1,1),a.opacity=1,Array.isArray(c.baseColorFactor)){const h=c.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}c.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",c.baseColorTexture,Ln)),a.metalness=c.metallicFactor!==void 0?c.metallicFactor:1,a.roughness=c.roughnessFactor!==void 0?c.roughnessFactor:1,c.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",c.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",c.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=_h);const f=s.alphaMode||MI.OPAQUE;if(f===MI.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===MI.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Ao&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ne(1,1),s.normalTexture.scale!==void 0)){const c=s.normalTexture.scale;a.normalScale.set(c,c)}return s.occlusionTexture!==void 0&&o!==Ao&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Ao&&(a.emissive=new qe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==Ao&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,Ln)),Promise.all(u).then(function(){let c;return o===$3?c=i[xn.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):c=new o(a),s.name&&(c.name=s.name),Jd(c,s),n.associations.set(c,{materials:e}),s.extensions&&L1(i,c,s),c})}createUniqueName(e){const n=Pn.sanitizeNodeName(e||"");let r=n;for(let i=1;this.nodeNamesUsed[r];++i)r=n+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[xn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return B9(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],f=X8e(u),c=i[f];if(c)o.push(c.promise);else{let h;u.extensions&&u.extensions[xn.KHR_DRACO_MESH_COMPRESSION]?h=s(u):h=B9(new It,u,n),i[f]={primitive:u,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const f=o[l].material===void 0?K8e(this.cache):this.getDependency("material",o[l].material);a.push(f)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),f=l[l.length-1],c=[];for(let g=0,y=f.length;g<y;g++){const _=f[g],x=o[g];let w;const b=u[g];if(x.mode===lc.TRIANGLES||x.mode===lc.TRIANGLE_STRIP||x.mode===lc.TRIANGLE_FAN||x.mode===void 0)w=s.isSkinnedMesh===!0?new ww(_,b):new Jr(_,b),w.isSkinnedMesh===!0&&!w.geometry.attributes.skinWeight.normalized&&w.normalizeSkinWeights(),x.mode===lc.TRIANGLE_STRIP?w.geometry=O9(w.geometry,_J):x.mode===lc.TRIANGLE_FAN&&(w.geometry=O9(w.geometry,Ok));else if(x.mode===lc.LINES)w=new eo(_,b);else if(x.mode===lc.LINE_STRIP)w=new Ru(_,b);else if(x.mode===lc.LINE_LOOP)w=new yM(_,b);else if(x.mode===lc.POINTS)w=new nv(_,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(w.geometry.morphAttributes).length>0&&J8e(w,s),w.name=n.createUniqueName(s.name||"mesh_"+e),Jd(w,s),x.extensions&&L1(i,w,x),n.assignFinalMaterial(w),c.push(w)}for(let g=0,y=c.length;g<y;g++)n.associations.set(c[g],{meshes:e,primitives:g});if(c.length===1)return c[0];const h=new mu;n.associations.set(h,{meshes:e});for(let g=0,y=c.length;g<y;g++)h.add(c[g]);return h})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new oi(P3.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new om(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Jd(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",n.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],s=[],o=[],a=[],l=[];for(let u=0,f=r.channels.length;u<f;u++){const c=r.channels[u],h=r.samplers[c.sampler],g=c.target,y=g.node,_=r.parameters!==void 0?r.parameters[h.input]:h.input,x=r.parameters!==void 0?r.parameters[h.output]:h.output;i.push(this.getDependency("node",y)),s.push(this.getDependency("accessor",_)),o.push(this.getDependency("accessor",x)),a.push(h),l.push(g)}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const f=u[0],c=u[1],h=u[2],g=u[3],y=u[4],_=[];for(let w=0,b=f.length;w<b;w++){const E=f[w],C=c[w],M=h[w],P=g[w],D=y[w];if(E===void 0)continue;E.updateMatrix();let L;switch(Lf[D.path]){case Lf.weights:L=hy;break;case Lf.rotation:L=Eh;break;case Lf.position:case Lf.scale:default:L=dy;break}const O=E.name?E.name:E.uuid,q=P.interpolation!==void 0?q8e[P.interpolation]:Up,j=[];Lf[D.path]===Lf.weights?E.traverse(function(le){le.morphTargetInfluences&&j.push(le.name?le.name:le.uuid)}):j.push(O);let oe=M.array;if(M.normalized){const le=W3(oe.constructor),F=new Float32Array(oe.length);for(let Y=0,H=oe.length;Y<H;Y++)F[Y]=oe[Y]*le;oe=F}for(let le=0,F=j.length;le<F;le++){const Y=new L(j[le]+"."+Lf[D.path],C.array,oe,q);P.interpolation==="CUBICSPLINE"&&(Y.createInterpolant=function(ee){const k=this instanceof Eh?j8e:YX;return new k(this.times,this.values,this.getValueSize()/3,ee)},Y.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(Y)}}const x=r.name?r.name:"animation_"+e;return new py(x,void 0,_)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(!!a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this.extensions,i=this,s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"";return function(){const a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new bw:a.length>1?l=new mu:a.length===1?l=a[0]:l=new mn,l!==a[0])for(let u=0,f=a.length;u<f;u++)l.add(a[u]);if(s.name&&(l.userData.name=s.name,l.name=o),Jd(l,s),s.extensions&&L1(r,l,s),s.matrix!==void 0){const u=new vt;u.fromArray(s.matrix),l.applyMatrix4(u)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const n=this.json,r=this.extensions,i=this.json.scenes[e],s=this,o=new mu;i.name&&(o.name=s.createUniqueName(i.name)),Jd(o,i),i.extensions&&L1(r,o,i);const a=i.nodes||[],l=[];for(let u=0,f=a.length;u<f;u++)l.push(ZX(a[u],o,n,s));return Promise.all(l).then(function(){const u=f=>{const c=new Map;for(const[h,g]of s.associations)(h instanceof vr||h instanceof Mr)&&c.set(h,g);return f.traverse(h=>{const g=s.associations.get(h);g!=null&&c.set(h,g)}),c};return s.associations=u(o),o})}}function ZX(t,e,n,r){const i=n.nodes[t];return r.getDependency("node",t).then(function(s){if(i.skin===void 0)return s;let o;return r.getDependency("skin",i.skin).then(function(a){o=a;const l=[];for(let u=0,f=o.joints.length;u<f;u++)l.push(r.getDependency("node",o.joints[u]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const u=[],f=[];for(let c=0,h=a.length;c<h;c++){const g=a[c];if(g){u.push(g);const y=new vt;o.inverseBindMatrices!==void 0&&y.fromArray(o.inverseBindMatrices.array,c*16),f.push(y)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[c])}l.bind(new Sw(u,f),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(i.children){const a=i.children;for(let l=0,u=a.length;l<u;l++){const f=a[l];o.push(ZX(f,s,n,r))}}return Promise.all(o)})}function eHe(t,e,n){const r=e.attributes,i=new Do;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new Q(l[0],l[1],l[2]),new Q(u[0],u[1],u[2])),a.normalized){const f=W3(bx[a.componentType]);i.min.multiplyScalar(f),i.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Q,l=new Q;for(let u=0,f=s.length;u<f;u++){const c=s[u];if(c.POSITION!==void 0){const h=n.json.accessors[c.POSITION],g=h.min,y=h.max;if(g!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(g[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(g[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(g[2]),Math.abs(y[2]))),h.normalized){const _=W3(bx[h.componentType]);l.multiplyScalar(_)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Gc;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function B9(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=V3[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Jd(t,e),eHe(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?Q8e(t,e.targets,n):t})}function O9(t,e){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(e===Ok)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s}const RI=new WeakMap;class tHe extends ls{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Ro(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(RI.has(e)){const l=RI.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,f)=>{i._callbacks[s]={resolve:u,reject:f},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),RI.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new It;e.index&&n.setIndex(new pn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new pn(o,a))}return n}_loadLibrary(e,n){const r=new Ro(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=nHe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function nHe(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(f){t.onModuleLoaded=function(c){f({draco:c})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(f=>{const c=f.draco,h=new c.Decoder,g=new c.DecoderBuffer;g.Init(new Int8Array(l),l.byteLength);try{const y=n(c,h,g,u),_=y.attributes.map(x=>x.array.buffer);y.index&&_.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},_)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{c.destroy(g),c.destroy(h)}});break}};function n(o,a,l,u){const f=u.attributeIDs,c=u.attributeTypes;let h,g;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)h=new o.Mesh,g=a.DecodeBufferToMesh(l,h);else if(y===o.POINT_CLOUD)h=new o.PointCloud,g=a.DecodeBufferToPointCloud(l,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!g.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const _={index:null,attributes:[]};for(const x in f){const w=self[c[x]];let b,E;if(u.useUniqueIDs)E=f[x],b=a.GetAttributeByUniqueId(h,E);else{if(E=a.GetAttributeId(h,o[f[x]]),E===-1)continue;b=a.GetAttribute(h,E)}_.attributes.push(i(o,a,h,x,w,b))}return y===o.TRIANGULAR_MESH&&(_.index=r(o,a,h)),o.destroy(h),_}function r(o,a,l){const f=l.num_faces()*3,c=f*4,h=o._malloc(c);a.GetTrianglesUInt32Array(l,c,h);const g=new Uint32Array(o.HEAPF32.buffer,h,f).slice();return o._free(h),{array:g,itemSize:1}}function i(o,a,l,u,f,c){const h=c.num_components(),y=l.num_points()*h,_=y*f.BYTES_PER_ELEMENT,x=s(o,f),w=o._malloc(_);a.GetAttributeDataArrayForAllPoints(l,c,x,_,w);const b=new f(o.HEAPF32.buffer,w,y).slice();return o._free(w),{name:u,array:b,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let oA;const II=()=>{if(oA)return oA;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(c=>{s=c.instance,s.exports.__wasm_call_ctors()});function a(c){const h=new Uint8Array(c.length);for(let y=0;y<c.length;++y){const _=c.charCodeAt(y);h[y]=_>96?_-71:_>64?_-65:_>47?_+4:_>46?63:62}let g=0;for(let y=0;y<c.length;++y)h[g++]=h[y]<60?r[h[y]]:(h[y]-60)*64+h[++y];return h.buffer.slice(0,g)}function l(c,h,g,y,_,x){const w=s.exports.sbrk,b=g+3&-4,E=w(b*y),C=w(_.length),M=new Uint8Array(s.exports.memory.buffer);M.set(_,C);const P=c(E,g,y,C,_.length);if(P===0&&x&&x(E,b,y),h.set(M.subarray(E,E+g*y)),w(E-w(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},f={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return oA={ready:o,supported:!0,decodeVertexBuffer(c,h,g,y,_){l(s.exports.meshopt_decodeVertexBuffer,c,h,g,y,s.exports[u[_]])},decodeIndexBuffer(c,h,g,y){l(s.exports.meshopt_decodeIndexBuffer,c,h,g,y)},decodeIndexSequence(c,h,g,y){l(s.exports.meshopt_decodeIndexSequence,c,h,g,y)},decodeGltfBuffer(c,h,g,y,_,x){l(s.exports[f[_]],c,h,g,y,s.exports[u[x]])}},oA};let aA=null;function eY(t,e,n){return r=>{n&&n(r),t&&(aA||(aA=new tHe),aA.setDecoderPath(typeof t=="string"?t:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),r.setDRACOLoader(aA)),e&&r.setMeshoptDecoder(typeof II=="function"?II():II)}}function Bo(t,e=!0,n=!0,r){return sv(_F,t,eY(e,n,r))}Bo.preload=(t,e=!0,n=!0,r)=>sv.preload(_F,t,eY(e,n,r));Bo.clear=t=>sv.clear(_F,t);var tY={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(_n,function(){var n=function(){function r(g){return o.appendChild(g.dom),g}function i(g){for(var y=0;y<o.children.length;y++)o.children[y].style.display=y===g?"block":"none";s=g}var s=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(g){g.preventDefault(),i(++s%o.children.length)},!1);var a=(performance||Date).now(),l=a,u=0,f=r(new n.Panel("FPS","#0ff","#002")),c=r(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var h=r(new n.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:o,addPanel:r,showPanel:i,begin:function(){a=(performance||Date).now()},end:function(){u++;var g=(performance||Date).now();if(c.update(g-a,200),g>l+1e3&&(f.update(1e3*u/(g-l),100),l=g,u=0,h)){var y=performance.memory;h.update(y.usedJSHeapSize/1048576,y.jsHeapSizeLimit/1048576)}return g},update:function(){a=this.end()},domElement:o,setMode:i}};return n.Panel=function(r,i,s){var o=1/0,a=0,l=Math.round,u=l(window.devicePixelRatio||1),f=80*u,c=48*u,h=3*u,g=2*u,y=3*u,_=15*u,x=74*u,w=30*u,b=document.createElement("canvas");b.width=f,b.height=c,b.style.cssText="width:80px;height:48px";var E=b.getContext("2d");return E.font="bold "+9*u+"px Helvetica,Arial,sans-serif",E.textBaseline="top",E.fillStyle=s,E.fillRect(0,0,f,c),E.fillStyle=i,E.fillText(r,h,g),E.fillRect(y,_,x,w),E.fillStyle=s,E.globalAlpha=.9,E.fillRect(y,_,x,w),{dom:b,update:function(C,M){o=Math.min(o,C),a=Math.max(a,C),E.fillStyle=s,E.globalAlpha=1,E.fillRect(0,0,f,_),E.fillStyle=i,E.fillText(l(C)+" "+r+" ("+l(o)+"-"+l(a)+")",h,g),E.drawImage(b,y+u,_,x-u,w,y,_,x-u,w),E.fillRect(y+x-u,_,u,w),E.fillStyle=s,E.globalAlpha=.9,E.fillRect(y+x-u,_,u,l((1-C/M)*w))}}},n})})(tY);const rHe=tY.exports;function k9(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function iHe(t,e=[],n){const[r,i]=z.exports.useState();return z.exports.useLayoutEffect(()=>{const s=t();return i(s),k9(n,s),()=>k9(n,null)},e),r}function sHe({showPanel:t=0,className:e,parent:n}){const r=iHe(()=>new rHe,[]);return z.exports.useEffect(()=>{if(r){const i=n&&n.current||document.body;r.showPanel(t),i==null||i.appendChild(r.dom),e&&r.dom.classList.add(...e.split(" ").filter(a=>a));const s=f8e(()=>r.begin()),o=h8e(()=>r.end());return()=>{i==null||i.removeChild(r.dom),s(),o()}}},[n,r,e,t]),null}const oHe=z.exports.createContext(null);function aHe({iterations:t=10,ms:e=250,threshold:n=.75,step:r=.1,factor:i=.5,flipflops:s=1/0,bounds:o=h=>h>100?[60,100]:[40,60],onIncline:a,onDecline:l,onChange:u,onFallback:f,children:c}){const h=Math.pow(10,0),[g,y]=z.exports.useState(()=>({fps:0,index:0,factor:i,flipped:0,refreshrate:0,fallback:!1,frames:[],averages:[],subscriptions:new Map,subscribe:x=>{const w=Symbol();return g.subscriptions.set(w,x.current),()=>void g.subscriptions.delete(w)}}));let _=0;return $h(()=>{const{frames:x,averages:w}=g;if(!g.fallback&&w.length<t){x.push(performance.now());const b=x[x.length-1]-x[0];if(b>=e){if(g.fps=Math.round(x.length/b*1e3*h)/h,g.refreshrate=Math.max(g.refreshrate,g.fps),w[g.index++%t]=g.fps,w.length===t){const[E,C]=o(g.refreshrate),M=w.filter(D=>D>=C),P=w.filter(D=>D<E);M.length>t*n&&(g.factor=Math.min(1,g.factor+r),g.flipped++,a&&a(g),g.subscriptions.forEach(D=>D.onIncline&&D.onIncline(g))),P.length>t*n&&(g.factor=Math.max(0,g.factor-r),g.flipped++,l&&l(g),g.subscriptions.forEach(D=>D.onDecline&&D.onDecline(g))),_!==g.factor&&(_=g.factor,u&&u(g),g.subscriptions.forEach(D=>D.onChange&&D.onChange(g))),g.flipped>s&&!g.fallback&&(g.fallback=!0,f&&f(g),g.subscriptions.forEach(D=>D.onFallback&&D.onFallback(g))),g.averages=[]}g.frames=[]}}}),z.exports.createElement(oHe.Provider,{value:g},c)}function nY(){return(nY=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const lA=Symbol(),lHe=(t,e)=>{const n=Object.keys(e);let r=e,i=null;const s={};n.forEach(u=>{s[u]=new Set});const o=(u,f)=>f.type===lA?f.r?f.r(u):f.e:t(u,f),a=(u,f)=>{const c=h=>{return nY({},h,{[u]:(g=h[u],y=f,typeof y=="function"?y(g):y)});var g,y};if(i)i({type:lA,r:c});else{r=c(r);const h=r[u];s[u].forEach(g=>g(h))}},l=(u,f)=>{n.forEach(c=>{const h=f[c];u[c]!==h&&s[c].forEach(g=>g(h))})};return{useGlobalStateProvider:()=>{const[u,f]=z.exports.useReducer(o,r);z.exports.useEffect(()=>{if(i)throw new Error("Only one global state provider is allowed");return i=f,f({type:lA,e:r}),()=>{i=null}},[]);const c=z.exports.useRef(u);l(c.current,u),c.current=u,z.exports.useEffect(()=>{r=u},[u])},useGlobalState:u=>{const[f,c]=z.exports.useState(r[u]);return z.exports.useEffect(()=>(s[u].add(c),c(r[u]),()=>{s[u].delete(c)}),[u]),[f,z.exports.useCallback(h=>a(u,h),[u])]},getGlobalState:u=>r[u],setGlobalState:a,getState:()=>r,setState:u=>{if(i)i({type:lA,e:u});else{const f=r;r=u,l(f,r)}},dispatch:u=>{if(i)i(u);else{const f=r;r=t(r,u),l(f,r)}return u}}},uHe=t=>lHe((e,n)=>e,t),{setGlobalState:XQe,useGlobalState:cHe}=uHe({userState:"idle"}),F9={chat:{id:"chat",cameraState:"sky",canPlayIcons:!1,paths:["idle","icons-tickets"],entryMessage:"Hidden Layer: Access Granted"},shellplayer:{id:"shellplayer",cameraState:"dolly",canPlayIcons:!1,paths:["idle","icons-tickets"],isShellVisible:!1},portal:{id:"portal",cameraState:"portal",canPlayIcons:!1,paths:["idle","icons-jewlerry"],entryMessage:"Hidden Layer: Access Granted"},"icons-tickets":{id:"icons-tickets",cameraState:"icons-tickets",canPlayIcons:!0,paths:["idle","chat","icons-digital"],entryMessage:"Access Granted",isShellVisible:!1},"icons-digital":{id:"icons-digital",cameraState:"icons-digital",canPlayIcons:!0,paths:["idle","icons-tickets","icons-jewlerry"],entryMessage:"Access Granted"},"icons-jewlerry":{id:"icons-jewlerry",cameraState:"icons-jewlerry",canPlayIcons:!0,paths:["idle","icons-digital","portal"],entryMessage:"Access Granted"},idle:{id:"idle",cameraState:"dolly",canPlayIcons:!1,paths:["icons-tickets","upload","chat","shellplayer"],isShellVisible:!0},upload:{cameraState:"dolly",id:"upload",canPlayIcons:!1,paths:["idle"]}},Vh=()=>{const[t,e]=cHe("userState"),n=F9[t];return[n,i=>{var s,o;return i===n.id?{message:"Already in state",isSuccess:!1}:n.paths.includes(i)?((s=n.onLeave)==null||s.call(n),e(i),{message:(o=F9[i].entryMessage)!=null?o:"Access Granted",isSuccess:!0}):{message:"State unreachable",isSuccess:!1}}]},fHe=({camera:t,clock:e})=>{const n=e.getElapsedTime();t.position.x=Math.sin(n*.2)*40,t.position.y=-80-Math.cos(n*.2)*20,t.position.z=10,t.lookAt(new Q(0,0,5)),t.rotation.z=0},P1=({camera:t,waypoint:e,onComplete:n,delta:r=1})=>{t.position.lerp(e.position,1-Math.pow(.15,r));const i=new yr().setFromEuler(t.rotation),s=new yr().setFromEuler(new Nu().setFromVector3(e.rotationTarget)),o=new yr().slerpQuaternions(i,s,1-Math.pow(.4,r));t.rotation.setFromQuaternion(o),t.position.distanceTo(e.position)<1&&Math.abs(t.rotation.x-s.x)<.01&&Math.abs(t.rotation.y-s.y)<.01&&Math.abs(t.rotation.z-s.z)<.01&&(n==null||n())},wo={"icons-tickets":{position:new Q(0,0,5),rotationTarget:new Q(0,0,0)},"icons-digital":{position:new Q(0,0,-5),rotationTarget:new Q(0,0,0)},"icons-jewlerry":{position:new Q(0,0,-15),rotationTarget:new Q(0,0,0)},portal:{position:new Q(0,0,-50),rotationTarget:new Q(0,0,0)},sky:{position:new Q(0,0,25),rotationTarget:new Q(180,0,0)},start:{position:new Q(-100,0,0),rotationTarget:new Q(0,0,0)}},hHe=()=>{const[t]=Vh(),[e,n]=z.exports.useState(!1);return $h(({clock:r,camera:i},s)=>{!e||dHe[t.cameraState]({camera:i,clock:r,delta:s,onComplete:()=>{n(!1)}})}),z.exports.useEffect(()=>{n(!0)},[t]),null},dHe={dolly:fHe,"icons-tickets":t=>P1({camera:t.camera,waypoint:wo["icons-tickets"],onComplete:t.onComplete,delta:t.delta}),"icons-digital":t=>P1({camera:t.camera,waypoint:wo["icons-digital"],onComplete:t.onComplete,delta:t.delta}),"icons-jewlerry":t=>P1({camera:t.camera,waypoint:wo["icons-jewlerry"],onComplete:t.onComplete,delta:t.delta}),portal:t=>P1({camera:t.camera,waypoint:wo.portal,onComplete:t.onComplete,delta:t.delta}),sky:t=>P1({camera:t.camera,waypoint:wo.sky,onComplete:t.onComplete,delta:t.delta})};var AT={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",c=1,h=2,g=4,y=1,_=2,x=1,w=2,b=4,E=8,C=16,M=32,P=64,D=128,L=256,O=512,q=30,j="...",oe=800,le=16,F=1,Y=2,H=3,ee=1/0,k=9007199254740991,G=17976931348623157e292,$=0/0,ie=4294967295,ue=ie-1,xe=ie>>>1,Oe=[["ary",D],["bind",x],["bindKey",w],["curry",E],["curryRight",C],["flip",O],["partial",M],["partialRight",P],["rearg",L]],de="[object Arguments]",ge="[object Array]",Ze="[object AsyncFunction]",Qe="[object Boolean]",We="[object Date]",Ue="[object DOMException]",mt="[object Error]",Re="[object Function]",U="[object GeneratorFunction]",te="[object Map]",J="[object Number]",ve="[object Null]",Pe="[object Object]",Le="[object Promise]",je="[object Proxy]",xt="[object RegExp]",gt="[object Set]",se="[object String]",X="[object Symbol]",Ae="[object Undefined]",Ge="[object WeakMap]",nt="[object WeakSet]",ot="[object ArrayBuffer]",Et="[object DataView]",Ie="[object Float32Array]",Vt="[object Float64Array]",Xt="[object Int8Array]",pt="[object Int16Array]",he="[object Int32Array]",et="[object Uint8Array]",Xe="[object Uint8ClampedArray]",Lt="[object Uint16Array]",ct="[object Uint32Array]",Dt=/\b__p \+= '';/g,Je=/\b(__p \+=) '' \+/g,Ft=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tn=/&(?:amp|lt|gt|quot|#39);/g,ln=/[&<>"']/g,ro=RegExp(Tn.source),Is=RegExp(ln.source),dm=/<%-([\s\S]+?)%>/g,zc=/<%([\s\S]+?)%>/g,jh=/<%=([\s\S]+?)%>/g,$c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qh=/^\w*$/,cv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kh=/[\\^$.*+?()[\]{}|]/g,fv=RegExp(Kh.source),ne=/^\s+/,we=/\s/,Ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,be=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,Nt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qt=/[()=,{}\[\]\/\s]/,tn=/\\(\\)?/g,Zt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,gn=/^[-+]0x[0-9a-f]+$/i,yn=/^0b[01]+$/i,Zn=/^\[object .+?Constructor\]$/,qa=/^0o[0-7]+$/i,Bl=/^(?:0|[1-9]\d*)$/,Ol=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zi=/($^)/,Mn=/['\n\r\u2028\u2029\\]/g,Ls="\\ud800-\\udfff",qn="\\u0300-\\u036f",cs="\\ufe20-\\ufe2f",io="\\u20d0-\\u20ff",kl=qn+cs+io,Fl="\\u2700-\\u27bf",sr="a-z\\xdf-\\xf6\\xf8-\\xff",fs="\\xac\\xb1\\xd7\\xf7",kn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",un="\\u2000-\\u206f",Nl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ci="A-Z\\xc0-\\xd6\\xd8-\\xde",$i="\\ufe0e\\ufe0f",Ul=fs+kn+un+Nl,Hl="['\u2019]",hs="["+Ls+"]",Qh="["+Ul+"]",Jh="["+kl+"]",hv="\\d+",pm="["+Fl+"]",dv="["+sr+"]",so="[^"+Ls+Ul+hv+Fl+sr+ci+"]",pv="\\ud83c[\\udffb-\\udfff]",qM="(?:"+Jh+"|"+pv+")",Dw="[^"+Ls+"]",Vc="(?:\\ud83c[\\udde6-\\uddff]){2}",Wc="[\\ud800-\\udbff][\\udc00-\\udfff]",_a="["+ci+"]",Xh="\\u200d",Bw="(?:"+dv+"|"+so+")",KM="(?:"+_a+"|"+so+")",mm="(?:"+Hl+"(?:d|ll|m|re|s|t|ve))?",gm="(?:"+Hl+"(?:D|LL|M|RE|S|T|VE))?",jc=qM+"?",Ow="["+$i+"]?",mv="(?:"+Xh+"(?:"+[Dw,Vc,Wc].join("|")+")"+Ow+jc+")*",Rn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kw="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ym=Ow+jc+mv,Fw="(?:"+[pm,Vc,Wc].join("|")+")"+ym,QM="(?:"+[Dw+Jh+"?",Jh,Vc,Wc,hs].join("|")+")",JM=RegExp(Hl,"g"),Xr=RegExp(Jh,"g"),Yh=RegExp(pv+"(?="+pv+")|"+QM+ym,"g"),XM=RegExp([_a+"?"+dv+"+"+mm+"(?="+[Qh,_a,"$"].join("|")+")",KM+"+"+gm+"(?="+[Qh,_a+Bw,"$"].join("|")+")",_a+"?"+Bw+"+"+mm,_a+"+"+gm,kw,Rn,hv,Fw].join("|"),"g"),gv=RegExp("["+Xh+Ls+kl+$i+"]"),YM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xa=-1,Qn={};Qn[Ie]=Qn[Vt]=Qn[Xt]=Qn[pt]=Qn[he]=Qn[et]=Qn[Xe]=Qn[Lt]=Qn[ct]=!0,Qn[de]=Qn[ge]=Qn[ot]=Qn[Qe]=Qn[Et]=Qn[We]=Qn[mt]=Qn[Re]=Qn[te]=Qn[J]=Qn[Pe]=Qn[xt]=Qn[gt]=Qn[se]=Qn[Ge]=!1;var Kn={};Kn[de]=Kn[ge]=Kn[ot]=Kn[Et]=Kn[Qe]=Kn[We]=Kn[Ie]=Kn[Vt]=Kn[Xt]=Kn[pt]=Kn[he]=Kn[te]=Kn[J]=Kn[Pe]=Kn[xt]=Kn[gt]=Kn[se]=Kn[X]=Kn[et]=Kn[Xe]=Kn[Lt]=Kn[ct]=!0,Kn[mt]=Kn[Re]=Kn[Ge]=!1;var wa={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ka={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_m={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nw=parseFloat,ZM=parseInt,Oo=typeof _n=="object"&&_n&&_n.Object===Object&&_n,e2=typeof self=="object"&&self&&self.Object===Object&&self,Rr=Oo||e2||Function("return this")(),vv=e&&!e.nodeType&&e,fi=vv&&!0&&t&&!t.nodeType&&t,Zh=fi&&fi.exports===vv,qc=Zh&&Oo.process,hi=function(){try{var fe=fi&&fi.require&&fi.require("util").types;return fe||qc&&qc.binding&&qc.binding("util")}catch{}}(),xm=hi&&hi.isArrayBuffer,wm=hi&&hi.isDate,_v=hi&&hi.isMap,bm=hi&&hi.isRegExp,Sm=hi&&hi.isSet,Hu=hi&&hi.isTypedArray;function er(fe,Me,Se){switch(Se.length){case 0:return fe.call(Me);case 1:return fe.call(Me,Se[0]);case 2:return fe.call(Me,Se[0],Se[1]);case 3:return fe.call(Me,Se[0],Se[1],Se[2])}return fe.apply(Me,Se)}function ba(fe,Me,Se,lt){for(var Ut=-1,Yt=fe==null?0:fe.length;++Ut<Yt;){var tr=fe[Ut];Me(lt,tr,Se(tr),fe)}return lt}function Ur(fe,Me){for(var Se=-1,lt=fe==null?0:fe.length;++Se<lt&&Me(fe[Se],Se,fe)!==!1;);return fe}function xv(fe,Me){for(var Se=fe==null?0:fe.length;Se--&&Me(fe[Se],Se,fe)!==!1;);return fe}function wv(fe,Me){for(var Se=-1,lt=fe==null?0:fe.length;++Se<lt;)if(!Me(fe[Se],Se,fe))return!1;return!0}function Si(fe,Me){for(var Se=-1,lt=fe==null?0:fe.length,Ut=0,Yt=[];++Se<lt;){var tr=fe[Se];Me(tr,Se,fe)&&(Yt[Ut++]=tr)}return Yt}function ko(fe,Me){var Se=fe==null?0:fe.length;return!!Se&&No(fe,Me,0)>-1}function Kc(fe,Me,Se){for(var lt=-1,Ut=fe==null?0:fe.length;++lt<Ut;)if(Se(Me,fe[lt]))return!0;return!1}function Jn(fe,Me){for(var Se=-1,lt=fe==null?0:fe.length,Ut=Array(lt);++Se<lt;)Ut[Se]=Me(fe[Se],Se,fe);return Ut}function Fo(fe,Me){for(var Se=-1,lt=Me.length,Ut=fe.length;++Se<lt;)fe[Ut+Se]=Me[Se];return fe}function Am(fe,Me,Se,lt){var Ut=-1,Yt=fe==null?0:fe.length;for(lt&&Yt&&(Se=fe[++Ut]);++Ut<Yt;)Se=Me(Se,fe[Ut],Ut,fe);return Se}function Uw(fe,Me,Se,lt){var Ut=fe==null?0:fe.length;for(lt&&Ut&&(Se=fe[--Ut]);Ut--;)Se=Me(Se,fe[Ut],Ut,fe);return Se}function ed(fe,Me){for(var Se=-1,lt=fe==null?0:fe.length;++Se<lt;)if(Me(fe[Se],Se,fe))return!0;return!1}var Em=ds("length");function Hw(fe){return fe.split("")}function Gw(fe){return fe.match(Nt)||[]}function bv(fe,Me,Se){var lt;return Se(fe,function(Ut,Yt,tr){if(Me(Ut,Yt,tr))return lt=Yt,!1}),lt}function Qc(fe,Me,Se,lt){for(var Ut=fe.length,Yt=Se+(lt?1:-1);lt?Yt--:++Yt<Ut;)if(Me(fe[Yt],Yt,fe))return Yt;return-1}function No(fe,Me,Se){return Me===Me?ef(fe,Me,Se):Qc(fe,td,Se)}function Jc(fe,Me,Se,lt){for(var Ut=Se-1,Yt=fe.length;++Ut<Yt;)if(lt(fe[Ut],Me))return Ut;return-1}function td(fe){return fe!==fe}function nd(fe,Me){var Se=fe==null?0:fe.length;return Se?Uo(fe,Me)/Se:$}function ds(fe){return function(Me){return Me==null?n:Me[fe]}}function ps(fe){return function(Me){return fe==null?n:fe[Me]}}function Gl(fe,Me,Se,lt,Ut){return Ut(fe,function(Yt,tr,Bt){Se=lt?(lt=!1,Yt):Me(Se,Yt,tr,Bt)}),Se}function Qa(fe,Me){var Se=fe.length;for(fe.sort(Me);Se--;)fe[Se]=fe[Se].value;return fe}function Uo(fe,Me){for(var Se,lt=-1,Ut=fe.length;++lt<Ut;){var Yt=Me(fe[lt]);Yt!==n&&(Se=Se===n?Yt:Se+Yt)}return Se}function Ja(fe,Me){for(var Se=-1,lt=Array(fe);++Se<fe;)lt[Se]=Me(Se);return lt}function zw(fe,Me){return Jn(Me,function(Se){return[Se,fe[Se]]})}function Tm(fe){return fe&&fe.slice(0,tf(fe)+1).replace(ne,"")}function Vi(fe){return function(Me){return fe(Me)}}function Wi(fe,Me){return Jn(Me,function(Se){return fe[Se]})}function di(fe,Me){return fe.has(Me)}function Xn(fe,Me){for(var Se=-1,lt=fe.length;++Se<lt&&No(Me,fe[Se],0)>-1;);return Se}function Xc(fe,Me){for(var Se=fe.length;Se--&&No(Me,fe[Se],0)>-1;);return Se}function Ho(fe,Me){for(var Se=fe.length,lt=0;Se--;)fe[Se]===Me&&++lt;return lt}var $w=ps(wa),Vw=ps(Ka);function Sv(fe){return"\\"+yv[fe]}function Av(fe,Me){return fe==null?n:fe[Me]}function Gu(fe){return gv.test(fe)}function rd(fe){return YM.test(fe)}function Yc(fe){for(var Me,Se=[];!(Me=fe.next()).done;)Se.push(Me.value);return Se}function id(fe){var Me=-1,Se=Array(fe.size);return fe.forEach(function(lt,Ut){Se[++Me]=[Ut,lt]}),Se}function Zc(fe,Me){return function(Se){return fe(Me(Se))}}function Go(fe,Me){for(var Se=-1,lt=fe.length,Ut=0,Yt=[];++Se<lt;){var tr=fe[Se];(tr===Me||tr===f)&&(fe[Se]=f,Yt[Ut++]=Se)}return Yt}function sd(fe){var Me=-1,Se=Array(fe.size);return fe.forEach(function(lt){Se[++Me]=lt}),Se}function Ww(fe){var Me=-1,Se=Array(fe.size);return fe.forEach(function(lt){Se[++Me]=[lt,lt]}),Se}function ef(fe,Me,Se){for(var lt=Se-1,Ut=fe.length;++lt<Ut;)if(fe[lt]===Me)return lt;return-1}function jw(fe,Me,Se){for(var lt=Se+1;lt--;)if(fe[lt]===Me)return lt;return lt}function Sa(fe){return Gu(fe)?Aa(fe):Em(fe)}function fr(fe){return Gu(fe)?Ev(fe):Hw(fe)}function tf(fe){for(var Me=fe.length;Me--&&we.test(fe.charAt(Me)););return Me}var nf=ps(_m);function Aa(fe){for(var Me=Yh.lastIndex=0;Yh.test(fe);)++Me;return Me}function Ev(fe){return fe.match(Yh)||[]}function rf(fe){return fe.match(XM)||[]}var qw=function fe(Me){Me=Me==null?Rr:zl.defaults(Rr.Object(),Me,zl.pick(Rr,vm));var Se=Me.Array,lt=Me.Date,Ut=Me.Error,Yt=Me.Function,tr=Me.Math,Bt=Me.Object,Yr=Me.RegExp,Zr=Me.String,ji=Me.TypeError,$l=Se.prototype,od=Yt.prototype,sf=Bt.prototype,Hr=Me["__core-js_shared__"],of=od.toString,Dn=sf.hasOwnProperty,Tv=0,Ea=function(){var d=/[^.]+$/.exec(Hr&&Hr.keys&&Hr.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Ps=sf.toString,zu=of.call(Bt),Cm=Rr._,Mm=Yr("^"+of.call(Dn).replace(Kh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ad=Zh?Me.Buffer:n,Xa=Me.Symbol,ld=Me.Uint8Array,Cv=ad?ad.allocUnsafe:n,ud=Zc(Bt.getPrototypeOf,Bt),Mv=Bt.create,Rm=sf.propertyIsEnumerable,Vl=$l.splice,Rv=Xa?Xa.isConcatSpreadable:n,Wl=Xa?Xa.iterator:n,Ta=Xa?Xa.toStringTag:n,af=function(){try{var d=Md(Bt,"defineProperty");return d({},"",{}),d}catch{}}(),cd=Me.clearTimeout!==Rr.clearTimeout&&Me.clearTimeout,Kw=lt&&lt.now!==Rr.Date.now&&lt.now,Qw=Me.setTimeout!==Rr.setTimeout&&Me.setTimeout,fd=tr.ceil,hd=tr.floor,dd=Bt.getOwnPropertySymbols,Jw=ad?ad.isBuffer:n,Iv=Me.isFinite,t2=$l.join,Xw=Zc(Bt.keys,Bt),Gr=tr.max,Ai=tr.min,Yw=lt.now,Zw=Me.parseInt,Lv=tr.random,eb=$l.reverse,lf=Md(Me,"DataView"),pd=Md(Me,"Map"),Pv=Md(Me,"Promise"),uf=Md(Me,"Set"),$u=Md(Me,"WeakMap"),Vu=Md(Bt,"create"),Im=$u&&new $u,Wu={},tb=Rd(lf),nb=Rd(pd),rb=Rd(Pv),ib=Rd(uf),Ca=Rd($u),md=Xa?Xa.prototype:n,Ya=md?md.valueOf:n,cf=md?md.toString:n;function V(d){if(Dr(d)&&!en(d)&&!(d instanceof Rt)){if(d instanceof Ei)return d;if(Dn.call(d,"__wrapped__"))return CN(d)}return new Ei(d)}var Za=function(){function d(){}return function(v){if(!br(v))return{};if(Mv)return Mv(v);d.prototype=v;var A=new d;return d.prototype=n,A}}();function gd(){}function Ei(d,v){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=n}V.templateSettings={escape:dm,evaluate:zc,interpolate:jh,variable:"",imports:{_:V}},V.prototype=gd.prototype,V.prototype.constructor=V,Ei.prototype=Za(gd.prototype),Ei.prototype.constructor=Ei;function Rt(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function n2(){var d=new Rt(this.__wrapped__);return d.__actions__=Ii(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Ii(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Ii(this.__views__),d}function r2(){if(this.__filtered__){var d=new Rt(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function Ds(){var d=this.__wrapped__.value(),v=this.__dir__,A=en(d),I=v<0,N=A?d.length:0,K=$ee(0,N,this.__views__),ae=K.start,ce=K.end,ye=ce-ae,Be=I?ce:ae-1,ke=this.__iteratees__,He=ke.length,it=0,At=Ai(ye,this.__takeCount__);if(!A||!I&&N==ye&&At==ye)return Xl(d,this.__actions__);var Ot=[];e:for(;ye--&&it<At;){Be+=v;for(var an=-1,kt=d[Be];++an<He;){var vn=ke[an],An=vn.iteratee,Ko=vn.type,Hs=An(kt);if(Ko==Y)kt=Hs;else if(!Hs){if(Ko==F)continue e;break e}}Ot[it++]=kt}return Ot}Rt.prototype=Za(gd.prototype),Rt.prototype.constructor=Rt;function _r(d){var v=-1,A=d==null?0:d.length;for(this.clear();++v<A;){var I=d[v];this.set(I[0],I[1])}}function sb(){this.__data__=Vu?Vu(null):{},this.size=0}function ob(d){var v=this.has(d)&&delete this.__data__[d];return this.size-=v?1:0,v}function ab(d){var v=this.__data__;if(Vu){var A=v[d];return A===l?n:A}return Dn.call(v,d)?v[d]:n}function lb(d){var v=this.__data__;return Vu?v[d]!==n:Dn.call(v,d)}function ub(d,v){var A=this.__data__;return this.size+=this.has(d)?0:1,A[d]=Vu&&v===n?l:v,this}_r.prototype.clear=sb,_r.prototype.delete=ob,_r.prototype.get=ab,_r.prototype.has=lb,_r.prototype.set=ub;function zo(d){var v=-1,A=d==null?0:d.length;for(this.clear();++v<A;){var I=d[v];this.set(I[0],I[1])}}function cb(){this.__data__=[],this.size=0}function Dv(d){var v=this.__data__,A=ql(v,d);if(A<0)return!1;var I=v.length-1;return A==I?v.pop():Vl.call(v,A,1),--this.size,!0}function fb(d){var v=this.__data__,A=ql(v,d);return A<0?n:v[A][1]}function hb(d){return ql(this.__data__,d)>-1}function Lm(d,v){var A=this.__data__,I=ql(A,d);return I<0?(++this.size,A.push([d,v])):A[I][1]=v,this}zo.prototype.clear=cb,zo.prototype.delete=Dv,zo.prototype.get=fb,zo.prototype.has=hb,zo.prototype.set=Lm;function oo(d){var v=-1,A=d==null?0:d.length;for(this.clear();++v<A;){var I=d[v];this.set(I[0],I[1])}}function db(){this.size=0,this.__data__={hash:new _r,map:new(pd||zo),string:new _r}}function Bv(d){var v=Ib(this,d).delete(d);return this.size-=v?1:0,v}function pb(d){return Ib(this,d).get(d)}function mb(d){return Ib(this,d).has(d)}function Pm(d,v){var A=Ib(this,d),I=A.size;return A.set(d,v),this.size+=A.size==I?0:1,this}oo.prototype.clear=db,oo.prototype.delete=Bv,oo.prototype.get=pb,oo.prototype.has=mb,oo.prototype.set=Pm;function jl(d){var v=-1,A=d==null?0:d.length;for(this.__data__=new oo;++v<A;)this.add(d[v])}function Ov(d){return this.__data__.set(d,l),this}function gb(d){return this.__data__.has(d)}jl.prototype.add=jl.prototype.push=Ov,jl.prototype.has=gb;function zr(d){var v=this.__data__=new zo(d);this.size=v.size}function i2(){this.__data__=new zo,this.size=0}function s2(d){var v=this.__data__,A=v.delete(d);return this.size=v.size,A}function Dm(d){return this.__data__.get(d)}function ju(d){return this.__data__.has(d)}function o2(d,v){var A=this.__data__;if(A instanceof zo){var I=A.__data__;if(!pd||I.length<i-1)return I.push([d,v]),this.size=++A.size,this;A=this.__data__=new oo(I)}return A.set(d,v),this.size=A.size,this}zr.prototype.clear=i2,zr.prototype.delete=s2,zr.prototype.get=Dm,zr.prototype.has=ju,zr.prototype.set=o2;function tt(d,v){var A=en(d),I=!A&&Id(d),N=!A&&!I&&xf(d),K=!A&&!I&&!N&&Jm(d),ae=A||I||N||K,ce=ae?Ja(d.length,Zr):[],ye=ce.length;for(var Be in d)(v||Dn.call(d,Be))&&!(ae&&(Be=="length"||N&&(Be=="offset"||Be=="parent")||K&&(Be=="buffer"||Be=="byteLength"||Be=="byteOffset")||Yu(Be,ye)))&&ce.push(Be);return ce}function yd(d){var v=d.length;return v?d[Ra(0,v-1)]:n}function kv(d,v){return Lb(Ii(d),Kl(v,0,d.length))}function yb(d){return Lb(Ii(d))}function Fv(d,v,A){(A!==n&&!nl(d[v],A)||A===n&&!(v in d))&&Ma(d,v,A)}function $o(d,v,A){var I=d[v];(!(Dn.call(d,v)&&nl(I,A))||A===n&&!(v in d))&&Ma(d,v,A)}function ql(d,v){for(var A=d.length;A--;)if(nl(d[A][0],v))return A;return-1}function Nv(d,v,A,I){return Vo(d,function(N,K,ae){v(I,N,A(N),ae)}),I}function Uv(d,v){return d&&uo(v,Pi(v),d)}function vb(d,v){return d&&uo(v,fo(v),d)}function Ma(d,v,A){v=="__proto__"&&af?af(d,v,{configurable:!0,enumerable:!0,value:A,writable:!0}):d[v]=A}function Bm(d,v){for(var A=-1,I=v.length,N=Se(I),K=d==null;++A<I;)N[A]=K?n:A2(d,v[A]);return N}function Kl(d,v,A){return d===d&&(A!==n&&(d=d<=A?d:A),v!==n&&(d=d>=v?d:v)),d}function Bs(d,v,A,I,N,K){var ae,ce=v&c,ye=v&h,Be=v&g;if(A&&(ae=N?A(d,I,N,K):A(d)),ae!==n)return ae;if(!br(d))return d;var ke=en(d);if(ke){if(ae=Wee(d),!ce)return Ii(d,ae)}else{var He=ms(d),it=He==Re||He==U;if(xf(d))return Zv(d,ce);if(He==Pe||He==de||it&&!N){if(ae=ye||it?{}:vN(d),!ce)return ye?Mb(d,vb(ae,d)):c2(d,Uv(ae,d))}else{if(!Kn[He])return N?d:{};ae=jee(d,He,ce)}}K||(K=new zr);var At=K.get(d);if(At)return At;K.set(d,ae),qN(d)?d.forEach(function(kt){ae.add(Bs(kt,v,A,kt,d,K))}):WN(d)&&d.forEach(function(kt,vn){ae.set(vn,Bs(kt,v,A,vn,d,K))});var Ot=Be?ye?wn:Pr:ye?fo:Pi,an=ke?n:Ot(d);return Ur(an||d,function(kt,vn){an&&(vn=kt,kt=d[vn]),$o(ae,vn,Bs(kt,v,A,vn,d,K))}),ae}function Hv(d){var v=Pi(d);return function(A){return Om(A,d,v)}}function Om(d,v,A){var I=A.length;if(d==null)return!I;for(d=Bt(d);I--;){var N=A[I],K=v[N],ae=d[N];if(ae===n&&!(N in d)||!K(ae))return!1}return!0}function Gv(d,v,A){if(typeof d!="function")throw new ji(o);return r1(function(){d.apply(n,A)},v)}function qu(d,v,A,I){var N=-1,K=ko,ae=!0,ce=d.length,ye=[],Be=v.length;if(!ce)return ye;A&&(v=Jn(v,Vi(A))),I?(K=Kc,ae=!1):v.length>=i&&(K=di,ae=!1,v=new jl(v));e:for(;++N<ce;){var ke=d[N],He=A==null?ke:A(ke);if(ke=I||ke!==0?ke:0,ae&&He===He){for(var it=Be;it--;)if(v[it]===He)continue e;ye.push(ke)}else K(v,He,I)||ye.push(ke)}return ye}var Vo=t1(Os),_b=t1(hf,!0);function a2(d,v){var A=!0;return Vo(d,function(I,N,K){return A=!!v(I,N,K),A}),A}function vd(d,v,A){for(var I=-1,N=d.length;++I<N;){var K=d[I],ae=v(K);if(ae!=null&&(ce===n?ae===ae&&!qo(ae):A(ae,ce)))var ce=ae,ye=K}return ye}function xb(d,v,A,I){var N=d.length;for(A=on(A),A<0&&(A=-A>N?0:N+A),I=I===n||I>N?N:on(I),I<0&&(I+=N),I=A>I?0:QN(I);A<I;)d[A++]=v;return d}function zv(d,v){var A=[];return Vo(d,function(I,N,K){v(I,N,K)&&A.push(I)}),A}function ei(d,v,A,I,N){var K=-1,ae=d.length;for(A||(A=Kee),N||(N=[]);++K<ae;){var ce=d[K];v>0&&A(ce)?v>1?ei(ce,v-1,A,I,N):Fo(N,ce):I||(N[N.length]=ce)}return N}var ff=qm(),_d=qm(!0);function Os(d,v){return d&&ff(d,v,Pi)}function hf(d,v){return d&&_d(d,v,Pi)}function Ku(d,v){return Si(v,function(A){return Zu(d[A])})}function Wo(d,v){v=Zl(v,d);for(var A=0,I=v.length;d!=null&&A<I;)d=d[nu(v[A++])];return A&&A==I?d:n}function km(d,v,A){var I=v(d);return en(d)?I:Fo(I,A(d))}function pi(d){return d==null?d===n?Ae:ve:Ta&&Ta in Bt(d)?zee(d):tte(d)}function xd(d,v){return d>v}function wb(d,v){return d!=null&&Dn.call(d,v)}function $v(d,v){return d!=null&&v in Bt(d)}function l2(d,v,A){return d>=Ai(v,A)&&d<Gr(v,A)}function df(d,v,A){for(var I=A?Kc:ko,N=d[0].length,K=d.length,ae=K,ce=Se(K),ye=1/0,Be=[];ae--;){var ke=d[ae];ae&&v&&(ke=Jn(ke,Vi(v))),ye=Ai(ke.length,ye),ce[ae]=!A&&(v||N>=120&&ke.length>=120)?new jl(ae&&ke):n}ke=d[0];var He=-1,it=ce[0];e:for(;++He<N&&Be.length<ye;){var At=ke[He],Ot=v?v(At):At;if(At=A||At!==0?At:0,!(it?di(it,Ot):I(Be,Ot,A))){for(ae=K;--ae;){var an=ce[ae];if(!(an?di(an,Ot):I(d[ae],Ot,A)))continue e}it&&it.push(Ot),Be.push(At)}}return Be}function Vv(d,v,A,I){return Os(d,function(N,K,ae){v(I,A(N),K,ae)}),I}function Yn(d,v,A){v=Zl(v,d),d=bN(d,v);var I=d==null?d:d[nu(Pa(v))];return I==null?n:er(I,d,A)}function nn(d){return Dr(d)&&pi(d)==de}function Ir(d){return Dr(d)&&pi(d)==ot}function Lr(d){return Dr(d)&&pi(d)==We}function xr(d,v,A,I,N){return d===v?!0:d==null||v==null||!Dr(d)&&!Dr(v)?d!==d&&v!==v:ks(d,v,A,I,xr,N)}function ks(d,v,A,I,N,K){var ae=en(d),ce=en(v),ye=ae?ge:ms(d),Be=ce?ge:ms(v);ye=ye==de?Pe:ye,Be=Be==de?Pe:Be;var ke=ye==Pe,He=Be==Pe,it=ye==Be;if(it&&xf(d)){if(!xf(v))return!1;ae=!0,ke=!1}if(it&&!ke)return K||(K=new zr),ae||Jm(d)?bt(d,v,A,I,N,K):rn(d,v,ye,A,I,N,K);if(!(A&y)){var At=ke&&Dn.call(d,"__wrapped__"),Ot=He&&Dn.call(v,"__wrapped__");if(At||Ot){var an=At?d.value():d,kt=Ot?v.value():v;return K||(K=new zr),N(an,kt,A,I,K)}}return it?(K||(K=new zr),Kt(d,v,A,I,N,K)):!1}function pf(d){return Dr(d)&&ms(d)==te}function wr(d,v,A,I){var N=A.length,K=N,ae=!I;if(d==null)return!K;for(d=Bt(d);N--;){var ce=A[N];if(ae&&ce[2]?ce[1]!==d[ce[0]]:!(ce[0]in d))return!1}for(;++N<K;){ce=A[N];var ye=ce[0],Be=d[ye],ke=ce[1];if(ae&&ce[2]){if(Be===n&&!(ye in d))return!1}else{var He=new zr;if(I)var it=I(Be,ke,ye,d,v,He);if(!(it===n?xr(ke,Be,y|_,I,He):it))return!1}}return!0}function mf(d){if(!br(d)||Jee(d))return!1;var v=Zu(d)?Mm:Zn;return v.test(Rd(d))}function gf(d){return Dr(d)&&pi(d)==xt}function Fm(d){return Dr(d)&&ms(d)==gt}function Wv(d){return Dr(d)&&Fb(d.length)&&!!Qn[pi(d)]}function yf(d){return typeof d=="function"?d:d==null?ho:typeof d=="object"?en(d)?Nm(d[0],d[1]):bd(d):o4(d)}function Ti(d){if(!n1(d))return Xw(d);var v=[];for(var A in Bt(d))Dn.call(d,A)&&A!="constructor"&&v.push(A);return v}function jv(d){if(!br(d))return ete(d);var v=n1(d),A=[];for(var I in d)I=="constructor"&&(v||!Dn.call(d,I))||A.push(I);return A}function wd(d,v){return d<v}function Qu(d,v){var A=-1,I=co(d)?Se(d.length):[];return Vo(d,function(N,K,ae){I[++A]=v(N,K,ae)}),I}function bd(d){var v=h2(d);return v.length==1&&v[0][2]?xN(v[0][0],v[0][1]):function(A){return A===d||wr(A,d,v)}}function Nm(d,v){return p2(d)&&_N(v)?xN(nu(d),v):function(A){var I=A2(A,d);return I===n&&I===v?E2(A,d):xr(v,I,y|_)}}function jo(d,v,A,I,N){d!==v&&ff(v,function(K,ae){if(N||(N=new zr),br(K))Um(d,v,ae,A,jo,I,N);else{var ce=I?I(g2(d,ae),K,ae+"",d,v,N):n;ce===n&&(ce=K),Fv(d,ae,ce)}},fo)}function Um(d,v,A,I,N,K,ae){var ce=g2(d,A),ye=g2(v,A),Be=ae.get(ye);if(Be){Fv(d,A,Be);return}var ke=K?K(ce,ye,A+"",d,v,ae):n,He=ke===n;if(He){var it=en(ye),At=!it&&xf(ye),Ot=!it&&!At&&Jm(ye);ke=ye,it||At||Ot?en(ce)?ke=ce:$r(ce)?ke=Ii(ce):At?(He=!1,ke=Zv(ye,!0)):Ot?(He=!1,ke=Cb(ye,!0)):ke=[]:i1(ye)||Id(ye)?(ke=ce,Id(ce)?ke=JN(ce):(!br(ce)||Zu(ce))&&(ke=vN(ye))):He=!1}He&&(ae.set(ye,ke),N(ke,ye,I,K,ae),ae.delete(ye)),Fv(d,A,ke)}function el(d,v){var A=d.length;if(!!A)return v+=v<0?A:0,Yu(v,A)?d[v]:n}function Sd(d,v,A){v.length?v=Jn(v,function(K){return en(K)?function(ae){return Wo(ae,K.length===1?K[0]:K)}:K}):v=[ho];var I=-1;v=Jn(v,Vi(Pt()));var N=Qu(d,function(K,ae,ce){var ye=Jn(v,function(Be){return Be(K)});return{criteria:ye,index:++I,value:K}});return Qa(N,function(K,ae){return jm(K,ae,A)})}function Ad(d,v){return Hm(d,v,function(A,I){return E2(d,I)})}function Hm(d,v,A){for(var I=-1,N=v.length,K={};++I<N;){var ae=v[I],ce=Wo(d,ae);A(ce,ae)&&Ju(K,Zl(ae,d),ce)}return K}function Gm(d){return function(v){return Wo(v,d)}}function vf(d,v,A,I){var N=I?Jc:No,K=-1,ae=v.length,ce=d;for(d===v&&(v=Ii(v)),A&&(ce=Jn(d,Vi(A)));++K<ae;)for(var ye=0,Be=v[K],ke=A?A(Be):Be;(ye=N(ce,ke,ye,I))>-1;)ce!==d&&Vl.call(ce,ye,1),Vl.call(d,ye,1);return d}function Ci(d,v){for(var A=d?v.length:0,I=A-1;A--;){var N=v[A];if(A==I||N!==K){var K=N;Yu(N)?Vl.call(d,N,1):Jv(d,N)}}return d}function Ra(d,v){return d+hd(Lv()*(v-d+1))}function ao(d,v,A,I){for(var N=-1,K=Gr(fd((v-d)/(A||1)),0),ae=Se(K);K--;)ae[I?K:++N]=d,d+=A;return ae}function _f(d,v){var A="";if(!d||v<1||v>k)return A;do v%2&&(A+=d),v=hd(v/2),v&&(d+=d);while(v);return A}function Mt(d,v){return y2(wN(d,v,ho),d+"")}function bb(d){return yd(Xm(d))}function qv(d,v){var A=Xm(d);return Lb(A,Kl(v,0,A.length))}function Ju(d,v,A,I){if(!br(d))return d;v=Zl(v,d);for(var N=-1,K=v.length,ae=K-1,ce=d;ce!=null&&++N<K;){var ye=nu(v[N]),Be=A;if(ye==="__proto__"||ye==="constructor"||ye==="prototype")return d;if(N!=ae){var ke=ce[ye];Be=I?I(ke,ye,ce):n,Be===n&&(Be=br(ke)?ke:Yu(v[N+1])?[]:{})}$o(ce,ye,Be),ce=ce[ye]}return d}var Sb=Im?function(d,v){return Im.set(d,v),d}:ho,Ql=af?function(d,v){return af(d,"toString",{configurable:!0,enumerable:!1,value:C2(v),writable:!0})}:ho;function Ab(d){return Lb(Xm(d))}function Fs(d,v,A){var I=-1,N=d.length;v<0&&(v=-v>N?0:N+v),A=A>N?N:A,A<0&&(A+=N),N=v>A?0:A-v>>>0,v>>>=0;for(var K=Se(N);++I<N;)K[I]=d[I+v];return K}function Kv(d,v){var A;return Vo(d,function(I,N,K){return A=v(I,N,K),!A}),!!A}function Ia(d,v,A){var I=0,N=d==null?I:d.length;if(typeof v=="number"&&v===v&&N<=xe){for(;I<N;){var K=I+N>>>1,ae=d[K];ae!==null&&!qo(ae)&&(A?ae<=v:ae<v)?I=K+1:N=K}return N}return zm(d,v,ho,A)}function zm(d,v,A,I){var N=0,K=d==null?0:d.length;if(K===0)return 0;v=A(v);for(var ae=v!==v,ce=v===null,ye=qo(v),Be=v===n;N<K;){var ke=hd((N+K)/2),He=A(d[ke]),it=He!==n,At=He===null,Ot=He===He,an=qo(He);if(ae)var kt=I||Ot;else Be?kt=Ot&&(I||it):ce?kt=Ot&&it&&(I||!At):ye?kt=Ot&&it&&!At&&(I||!an):At||an?kt=!1:kt=I?He<=v:He<v;kt?N=ke+1:K=ke}return Ai(K,ue)}function Qv(d,v){for(var A=-1,I=d.length,N=0,K=[];++A<I;){var ae=d[A],ce=v?v(ae):ae;if(!A||!nl(ce,ye)){var ye=ce;K[N++]=ae===0?0:ae}}return K}function $m(d){return typeof d=="number"?d:qo(d)?$:+d}function Mi(d){if(typeof d=="string")return d;if(en(d))return Jn(d,Mi)+"";if(qo(d))return cf?cf.call(d):"";var v=d+"";return v=="0"&&1/d==-ee?"-0":v}function Jl(d,v,A){var I=-1,N=ko,K=d.length,ae=!0,ce=[],ye=ce;if(A)ae=!1,N=Kc;else if(K>=i){var Be=v?null:Li(d);if(Be)return sd(Be);ae=!1,N=di,ye=new jl}else ye=v?[]:ce;e:for(;++I<K;){var ke=d[I],He=v?v(ke):ke;if(ke=A||ke!==0?ke:0,ae&&He===He){for(var it=ye.length;it--;)if(ye[it]===He)continue e;v&&ye.push(He),ce.push(ke)}else N(ye,He,A)||(ye!==ce&&ye.push(He),ce.push(ke))}return ce}function Jv(d,v){return v=Zl(v,d),d=bN(d,v),d==null||delete d[nu(Pa(v))]}function Xv(d,v,A,I){return Ju(d,v,A(Wo(d,v)),I)}function Ed(d,v,A,I){for(var N=d.length,K=I?N:-1;(I?K--:++K<N)&&v(d[K],K,d););return A?Fs(d,I?0:K,I?K+1:N):Fs(d,I?K+1:0,I?N:K)}function Xl(d,v){var A=d;return A instanceof Rt&&(A=A.value()),Am(v,function(I,N){return N.func.apply(N.thisArg,Fo([I],N.args))},A)}function Yv(d,v,A){var I=d.length;if(I<2)return I?Jl(d[0]):[];for(var N=-1,K=Se(I);++N<I;)for(var ae=d[N],ce=-1;++ce<I;)ce!=N&&(K[N]=qu(K[N]||ae,d[ce],v,A));return Jl(ei(K,1),v,A)}function Yl(d,v,A){for(var I=-1,N=d.length,K=v.length,ae={};++I<N;){var ce=I<K?v[I]:n;A(ae,d[I],ce)}return ae}function Vm(d){return $r(d)?d:[]}function Ri(d){return typeof d=="function"?d:ho}function Zl(d,v){return en(d)?d:p2(d,v)?[d]:TN(Hn(d))}var Eb=Mt;function eu(d,v,A){var I=d.length;return A=A===n?I:A,!v&&A>=I?d:Fs(d,v,A)}var Tb=cd||function(d){return Rr.clearTimeout(d)};function Zv(d,v){if(v)return d.slice();var A=d.length,I=Cv?Cv(A):new d.constructor(A);return d.copy(I),I}function Wm(d){var v=new d.constructor(d.byteLength);return new ld(v).set(new ld(d)),v}function u2(d,v){var A=v?Wm(d.buffer):d.buffer;return new d.constructor(A,d.byteOffset,d.byteLength)}function lo(d){var v=new d.constructor(d.source,Cn.exec(d));return v.lastIndex=d.lastIndex,v}function e1(d){return Ya?Bt(Ya.call(d)):{}}function Cb(d,v){var A=v?Wm(d.buffer):d.buffer;return new d.constructor(A,d.byteOffset,d.length)}function tl(d,v){if(d!==v){var A=d!==n,I=d===null,N=d===d,K=qo(d),ae=v!==n,ce=v===null,ye=v===v,Be=qo(v);if(!ce&&!Be&&!K&&d>v||K&&ae&&ye&&!ce&&!Be||I&&ae&&ye||!A&&ye||!N)return 1;if(!I&&!K&&!Be&&d<v||Be&&A&&N&&!I&&!K||ce&&A&&N||!ae&&N||!ye)return-1}return 0}function jm(d,v,A){for(var I=-1,N=d.criteria,K=v.criteria,ae=N.length,ce=A.length;++I<ae;){var ye=tl(N[I],K[I]);if(ye){if(I>=ce)return ye;var Be=A[I];return ye*(Be=="desc"?-1:1)}}return d.index-v.index}function tu(d,v,A,I){for(var N=-1,K=d.length,ae=A.length,ce=-1,ye=v.length,Be=Gr(K-ae,0),ke=Se(ye+Be),He=!I;++ce<ye;)ke[ce]=v[ce];for(;++N<ae;)(He||N<K)&&(ke[A[N]]=d[N]);for(;Be--;)ke[ce++]=d[N++];return ke}function Td(d,v,A,I){for(var N=-1,K=d.length,ae=-1,ce=A.length,ye=-1,Be=v.length,ke=Gr(K-ce,0),He=Se(ke+Be),it=!I;++N<ke;)He[N]=d[N];for(var At=N;++ye<Be;)He[At+ye]=v[ye];for(;++ae<ce;)(it||N<K)&&(He[At+A[ae]]=d[N++]);return He}function Ii(d,v){var A=-1,I=d.length;for(v||(v=Se(I));++A<I;)v[A]=d[A];return v}function uo(d,v,A,I){var N=!A;A||(A={});for(var K=-1,ae=v.length;++K<ae;){var ce=v[K],ye=I?I(A[ce],d[ce],ce,A,d):n;ye===n&&(ye=d[ce]),N?Ma(A,ce,ye):$o(A,ce,ye)}return A}function c2(d,v){return uo(d,d2(d),v)}function Mb(d,v){return uo(d,gN(d),v)}function Cd(d,v){return function(A,I){var N=en(A)?ba:Nv,K=v?v():{};return N(A,d,Pt(I,2),K)}}function Xu(d){return Mt(function(v,A){var I=-1,N=A.length,K=N>1?A[N-1]:n,ae=N>2?A[2]:n;for(K=d.length>3&&typeof K=="function"?(N--,K):n,ae&&Us(A[0],A[1],ae)&&(K=N<3?n:K,N=1),v=Bt(v);++I<N;){var ce=A[I];ce&&d(v,ce,I,K)}return v})}function t1(d,v){return function(A,I){if(A==null)return A;if(!co(A))return d(A,I);for(var N=A.length,K=v?N:-1,ae=Bt(A);(v?K--:++K<N)&&I(ae[K],K,ae)!==!1;);return A}}function qm(d){return function(v,A,I){for(var N=-1,K=Bt(v),ae=I(v),ce=ae.length;ce--;){var ye=ae[d?ce:++N];if(A(K[ye],ye,K)===!1)break}return v}}function f2(d,v,A){var I=v&x,N=m(d);function K(){var ae=this&&this!==Rr&&this instanceof K?N:d;return ae.apply(I?A:this,arguments)}return K}function Rb(d){return function(v){v=Hn(v);var A=Gu(v)?fr(v):n,I=A?A[0]:v.charAt(0),N=A?eu(A,1).join(""):v.slice(1);return I[d]()+N}}function p(d){return function(v){return Am(i4(r4(v).replace(JM,"")),d,"")}}function m(d){return function(){var v=arguments;switch(v.length){case 0:return new d;case 1:return new d(v[0]);case 2:return new d(v[0],v[1]);case 3:return new d(v[0],v[1],v[2]);case 4:return new d(v[0],v[1],v[2],v[3]);case 5:return new d(v[0],v[1],v[2],v[3],v[4]);case 6:return new d(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new d(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var A=Za(d.prototype),I=d.apply(A,v);return br(I)?I:A}}function S(d,v,A){var I=m(d);function N(){for(var K=arguments.length,ae=Se(K),ce=K,ye=Qm(N);ce--;)ae[ce]=arguments[ce];var Be=K<3&&ae[0]!==ye&&ae[K-1]!==ye?[]:Go(ae,ye);if(K-=Be.length,K<A)return Un(d,v,B,N.placeholder,n,ae,Be,n,n,A-K);var ke=this&&this!==Rr&&this instanceof N?I:d;return er(ke,this,ae)}return N}function T(d){return function(v,A,I){var N=Bt(v);if(!co(v)){var K=Pt(A,3);v=Pi(v),A=function(ce){return K(N[ce],ce,N)}}var ae=d(v,A,I);return ae>-1?N[K?v[ae]:ae]:n}}function R(d){return sn(function(v){var A=v.length,I=A,N=Ei.prototype.thru;for(d&&v.reverse();I--;){var K=v[I];if(typeof K!="function")throw new ji(o);if(N&&!ae&&Km(K)=="wrapper")var ae=new Ei([],!0)}for(I=ae?I:A;++I<A;){K=v[I];var ce=Km(K),ye=ce=="wrapper"?La(K):n;ye&&m2(ye[0])&&ye[1]==(D|E|M|L)&&!ye[4].length&&ye[9]==1?ae=ae[Km(ye[0])].apply(ae,ye[3]):ae=K.length==1&&m2(K)?ae[ce]():ae.thru(K)}return function(){var Be=arguments,ke=Be[0];if(ae&&Be.length==1&&en(ke))return ae.plant(ke).value();for(var He=0,it=A?v[He].apply(this,Be):ke;++He<A;)it=v[He].call(this,it);return it}})}function B(d,v,A,I,N,K,ae,ce,ye,Be){var ke=v&D,He=v&x,it=v&w,At=v&(E|C),Ot=v&O,an=it?n:m(d);function kt(){for(var vn=arguments.length,An=Se(vn),Ko=vn;Ko--;)An[Ko]=arguments[Ko];if(At)var Hs=Qm(kt),Qo=Ho(An,Hs);if(I&&(An=tu(An,I,N,At)),K&&(An=Td(An,K,ae,At)),vn-=Qo,At&&vn<Be){var Vr=Go(An,Hs);return Un(d,v,B,kt.placeholder,A,An,Vr,ce,ye,Be-vn)}var rl=He?A:this,tc=it?rl[d]:d;return vn=An.length,ce?An=nte(An,ce):Ot&&vn>1&&An.reverse(),ke&&ye<vn&&(An.length=ye),this&&this!==Rr&&this instanceof kt&&(tc=an||m(tc)),tc.apply(rl,An)}return kt}function re(d,v){return function(A,I){return Vv(A,d,v(I),{})}}function pe(d,v){return function(A,I){var N;if(A===n&&I===n)return v;if(A!==n&&(N=A),I!==n){if(N===n)return I;typeof A=="string"||typeof I=="string"?(A=Mi(A),I=Mi(I)):(A=$m(A),I=$m(I)),N=d(A,I)}return N}}function Te(d){return sn(function(v){return v=Jn(v,Vi(Pt())),Mt(function(A){var I=this;return d(v,function(N){return er(N,I,A)})})})}function $e(d,v){v=v===n?" ":Mi(v);var A=v.length;if(A<2)return A?_f(v,d):v;var I=_f(v,fd(d/Sa(v)));return Gu(v)?eu(fr(I),0,d).join(""):I.slice(0,d)}function ft(d,v,A,I){var N=v&x,K=m(d);function ae(){for(var ce=-1,ye=arguments.length,Be=-1,ke=I.length,He=Se(ke+ye),it=this&&this!==Rr&&this instanceof ae?K:d;++Be<ke;)He[Be]=I[Be];for(;ye--;)He[Be++]=arguments[++ce];return er(it,N?A:this,He)}return ae}function Wt(d){return function(v,A,I){return I&&typeof I!="number"&&Us(v,A,I)&&(A=I=n),v=ec(v),A===n?(A=v,v=0):A=ec(A),I=I===n?v<A?1:-1:ec(I),ao(v,A,I,d)}}function Tt(d){return function(v,A){return typeof v=="string"&&typeof A=="string"||(v=Da(v),A=Da(A)),d(v,A)}}function Un(d,v,A,I,N,K,ae,ce,ye,Be){var ke=v&E,He=ke?ae:n,it=ke?n:ae,At=ke?K:n,Ot=ke?n:K;v|=ke?M:P,v&=~(ke?P:M),v&b||(v&=~(x|w));var an=[d,v,N,At,He,Ot,it,ce,ye,Be],kt=A.apply(n,an);return m2(d)&&SN(kt,an),kt.placeholder=I,AN(kt,d,v)}function wt(d){var v=tr[d];return function(A,I){if(A=Da(A),I=I==null?0:Ai(on(I),292),I&&Iv(A)){var N=(Hn(A)+"e").split("e"),K=v(N[0]+"e"+(+N[1]+I));return N=(Hn(K)+"e").split("e"),+(N[0]+"e"+(+N[1]-I))}return v(A)}}var Li=uf&&1/sd(new uf([,-0]))[1]==ee?function(d){return new uf(d)}:I2;function Ns(d){return function(v){var A=ms(v);return A==te?id(v):A==gt?Ww(v):zw(v,d(v))}}function _e(d,v,A,I,N,K,ae,ce){var ye=v&w;if(!ye&&typeof d!="function")throw new ji(o);var Be=I?I.length:0;if(Be||(v&=~(M|P),I=N=n),ae=ae===n?ae:Gr(on(ae),0),ce=ce===n?ce:on(ce),Be-=N?N.length:0,v&P){var ke=I,He=N;I=N=n}var it=ye?n:La(d),At=[d,v,A,I,N,ke,He,K,ae,ce];if(it&&Zee(At,it),d=At[0],v=At[1],A=At[2],I=At[3],N=At[4],ce=At[9]=At[9]===n?ye?0:d.length:Gr(At[9]-Be,0),!ce&&v&(E|C)&&(v&=~(E|C)),!v||v==x)var Ot=f2(d,v,A);else v==E||v==C?Ot=S(d,v,ce):(v==M||v==(x|M))&&!N.length?Ot=ft(d,v,A,I):Ot=B.apply(n,At);var an=it?Sb:SN;return AN(an(Ot,At),d,v)}function me(d,v,A,I){return d===n||nl(d,sf[A])&&!Dn.call(I,A)?v:d}function Ee(d,v,A,I,N,K){return br(d)&&br(v)&&(K.set(v,d),jo(d,v,n,Ee,K),K.delete(v)),d}function st(d){return i1(d)?n:d}function bt(d,v,A,I,N,K){var ae=A&y,ce=d.length,ye=v.length;if(ce!=ye&&!(ae&&ye>ce))return!1;var Be=K.get(d),ke=K.get(v);if(Be&&ke)return Be==v&&ke==d;var He=-1,it=!0,At=A&_?new jl:n;for(K.set(d,v),K.set(v,d);++He<ce;){var Ot=d[He],an=v[He];if(I)var kt=ae?I(an,Ot,He,v,d,K):I(Ot,an,He,d,v,K);if(kt!==n){if(kt)continue;it=!1;break}if(At){if(!ed(v,function(vn,An){if(!di(At,An)&&(Ot===vn||N(Ot,vn,A,I,K)))return At.push(An)})){it=!1;break}}else if(!(Ot===an||N(Ot,an,A,I,K))){it=!1;break}}return K.delete(d),K.delete(v),it}function rn(d,v,A,I,N,K,ae){switch(A){case Et:if(d.byteLength!=v.byteLength||d.byteOffset!=v.byteOffset)return!1;d=d.buffer,v=v.buffer;case ot:return!(d.byteLength!=v.byteLength||!K(new ld(d),new ld(v)));case Qe:case We:case J:return nl(+d,+v);case mt:return d.name==v.name&&d.message==v.message;case xt:case se:return d==v+"";case te:var ce=id;case gt:var ye=I&y;if(ce||(ce=sd),d.size!=v.size&&!ye)return!1;var Be=ae.get(d);if(Be)return Be==v;I|=_,ae.set(d,v);var ke=bt(ce(d),ce(v),I,N,K,ae);return ae.delete(d),ke;case X:if(Ya)return Ya.call(d)==Ya.call(v)}return!1}function Kt(d,v,A,I,N,K){var ae=A&y,ce=Pr(d),ye=ce.length,Be=Pr(v),ke=Be.length;if(ye!=ke&&!ae)return!1;for(var He=ye;He--;){var it=ce[He];if(!(ae?it in v:Dn.call(v,it)))return!1}var At=K.get(d),Ot=K.get(v);if(At&&Ot)return At==v&&Ot==d;var an=!0;K.set(d,v),K.set(v,d);for(var kt=ae;++He<ye;){it=ce[He];var vn=d[it],An=v[it];if(I)var Ko=ae?I(An,vn,it,v,d,K):I(vn,An,it,d,v,K);if(!(Ko===n?vn===An||N(vn,An,A,I,K):Ko)){an=!1;break}kt||(kt=it=="constructor")}if(an&&!kt){var Hs=d.constructor,Qo=v.constructor;Hs!=Qo&&"constructor"in d&&"constructor"in v&&!(typeof Hs=="function"&&Hs instanceof Hs&&typeof Qo=="function"&&Qo instanceof Qo)&&(an=!1)}return K.delete(d),K.delete(v),an}function sn(d){return y2(wN(d,n,IN),d+"")}function Pr(d){return km(d,Pi,d2)}function wn(d){return km(d,fo,gN)}var La=Im?function(d){return Im.get(d)}:I2;function Km(d){for(var v=d.name+"",A=Wu[v],I=Dn.call(Wu,v)?A.length:0;I--;){var N=A[I],K=N.func;if(K==null||K==d)return N.name}return v}function Qm(d){var v=Dn.call(V,"placeholder")?V:d;return v.placeholder}function Pt(){var d=V.iteratee||M2;return d=d===M2?yf:d,arguments.length?d(arguments[0],arguments[1]):d}function Ib(d,v){var A=d.__data__;return Qee(v)?A[typeof v=="string"?"string":"hash"]:A.map}function h2(d){for(var v=Pi(d),A=v.length;A--;){var I=v[A],N=d[I];v[A]=[I,N,_N(N)]}return v}function Md(d,v){var A=Av(d,v);return mf(A)?A:n}function zee(d){var v=Dn.call(d,Ta),A=d[Ta];try{d[Ta]=n;var I=!0}catch{}var N=Ps.call(d);return I&&(v?d[Ta]=A:delete d[Ta]),N}var d2=dd?function(d){return d==null?[]:(d=Bt(d),Si(dd(d),function(v){return Rm.call(d,v)}))}:L2,gN=dd?function(d){for(var v=[];d;)Fo(v,d2(d)),d=ud(d);return v}:L2,ms=pi;(lf&&ms(new lf(new ArrayBuffer(1)))!=Et||pd&&ms(new pd)!=te||Pv&&ms(Pv.resolve())!=Le||uf&&ms(new uf)!=gt||$u&&ms(new $u)!=Ge)&&(ms=function(d){var v=pi(d),A=v==Pe?d.constructor:n,I=A?Rd(A):"";if(I)switch(I){case tb:return Et;case nb:return te;case rb:return Le;case ib:return gt;case Ca:return Ge}return v});function $ee(d,v,A){for(var I=-1,N=A.length;++I<N;){var K=A[I],ae=K.size;switch(K.type){case"drop":d+=ae;break;case"dropRight":v-=ae;break;case"take":v=Ai(v,d+ae);break;case"takeRight":d=Gr(d,v-ae);break}}return{start:d,end:v}}function Vee(d){var v=d.match(be);return v?v[1].split(Fe):[]}function yN(d,v,A){v=Zl(v,d);for(var I=-1,N=v.length,K=!1;++I<N;){var ae=nu(v[I]);if(!(K=d!=null&&A(d,ae)))break;d=d[ae]}return K||++I!=N?K:(N=d==null?0:d.length,!!N&&Fb(N)&&Yu(ae,N)&&(en(d)||Id(d)))}function Wee(d){var v=d.length,A=new d.constructor(v);return v&&typeof d[0]=="string"&&Dn.call(d,"index")&&(A.index=d.index,A.input=d.input),A}function vN(d){return typeof d.constructor=="function"&&!n1(d)?Za(ud(d)):{}}function jee(d,v,A){var I=d.constructor;switch(v){case ot:return Wm(d);case Qe:case We:return new I(+d);case Et:return u2(d,A);case Ie:case Vt:case Xt:case pt:case he:case et:case Xe:case Lt:case ct:return Cb(d,A);case te:return new I;case J:case se:return new I(d);case xt:return lo(d);case gt:return new I;case X:return e1(d)}}function qee(d,v){var A=v.length;if(!A)return d;var I=A-1;return v[I]=(A>1?"& ":"")+v[I],v=v.join(A>2?", ":" "),d.replace(Ce,`{
/* [wrapped with `+v+`] */
`)}function Kee(d){return en(d)||Id(d)||!!(Rv&&d&&d[Rv])}function Yu(d,v){var A=typeof d;return v=v==null?k:v,!!v&&(A=="number"||A!="symbol"&&Bl.test(d))&&d>-1&&d%1==0&&d<v}function Us(d,v,A){if(!br(A))return!1;var I=typeof v;return(I=="number"?co(A)&&Yu(v,A.length):I=="string"&&v in A)?nl(A[v],d):!1}function p2(d,v){if(en(d))return!1;var A=typeof d;return A=="number"||A=="symbol"||A=="boolean"||d==null||qo(d)?!0:qh.test(d)||!$c.test(d)||v!=null&&d in Bt(v)}function Qee(d){var v=typeof d;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?d!=="__proto__":d===null}function m2(d){var v=Km(d),A=V[v];if(typeof A!="function"||!(v in Rt.prototype))return!1;if(d===A)return!0;var I=La(A);return!!I&&d===I[0]}function Jee(d){return!!Ea&&Ea in d}var Xee=Hr?Zu:P2;function n1(d){var v=d&&d.constructor,A=typeof v=="function"&&v.prototype||sf;return d===A}function _N(d){return d===d&&!br(d)}function xN(d,v){return function(A){return A==null?!1:A[d]===v&&(v!==n||d in Bt(A))}}function Yee(d){var v=Ob(d,function(I){return A.size===u&&A.clear(),I}),A=v.cache;return v}function Zee(d,v){var A=d[1],I=v[1],N=A|I,K=N<(x|w|D),ae=I==D&&A==E||I==D&&A==L&&d[7].length<=v[8]||I==(D|L)&&v[7].length<=v[8]&&A==E;if(!(K||ae))return d;I&x&&(d[2]=v[2],N|=A&x?0:b);var ce=v[3];if(ce){var ye=d[3];d[3]=ye?tu(ye,ce,v[4]):ce,d[4]=ye?Go(d[3],f):v[4]}return ce=v[5],ce&&(ye=d[5],d[5]=ye?Td(ye,ce,v[6]):ce,d[6]=ye?Go(d[5],f):v[6]),ce=v[7],ce&&(d[7]=ce),I&D&&(d[8]=d[8]==null?v[8]:Ai(d[8],v[8])),d[9]==null&&(d[9]=v[9]),d[0]=v[0],d[1]=N,d}function ete(d){var v=[];if(d!=null)for(var A in Bt(d))v.push(A);return v}function tte(d){return Ps.call(d)}function wN(d,v,A){return v=Gr(v===n?d.length-1:v,0),function(){for(var I=arguments,N=-1,K=Gr(I.length-v,0),ae=Se(K);++N<K;)ae[N]=I[v+N];N=-1;for(var ce=Se(v+1);++N<v;)ce[N]=I[N];return ce[v]=A(ae),er(d,this,ce)}}function bN(d,v){return v.length<2?d:Wo(d,Fs(v,0,-1))}function nte(d,v){for(var A=d.length,I=Ai(v.length,A),N=Ii(d);I--;){var K=v[I];d[I]=Yu(K,A)?N[K]:n}return d}function g2(d,v){if(!(v==="constructor"&&typeof d[v]=="function")&&v!="__proto__")return d[v]}var SN=EN(Sb),r1=Qw||function(d,v){return Rr.setTimeout(d,v)},y2=EN(Ql);function AN(d,v,A){var I=v+"";return y2(d,qee(I,rte(Vee(I),A)))}function EN(d){var v=0,A=0;return function(){var I=Yw(),N=le-(I-A);if(A=I,N>0){if(++v>=oe)return arguments[0]}else v=0;return d.apply(n,arguments)}}function Lb(d,v){var A=-1,I=d.length,N=I-1;for(v=v===n?I:v;++A<v;){var K=Ra(A,N),ae=d[K];d[K]=d[A],d[A]=ae}return d.length=v,d}var TN=Yee(function(d){var v=[];return d.charCodeAt(0)===46&&v.push(""),d.replace(cv,function(A,I,N,K){v.push(N?K.replace(tn,"$1"):I||A)}),v});function nu(d){if(typeof d=="string"||qo(d))return d;var v=d+"";return v=="0"&&1/d==-ee?"-0":v}function Rd(d){if(d!=null){try{return of.call(d)}catch{}try{return d+""}catch{}}return""}function rte(d,v){return Ur(Oe,function(A){var I="_."+A[0];v&A[1]&&!ko(d,I)&&d.push(I)}),d.sort()}function CN(d){if(d instanceof Rt)return d.clone();var v=new Ei(d.__wrapped__,d.__chain__);return v.__actions__=Ii(d.__actions__),v.__index__=d.__index__,v.__values__=d.__values__,v}function ite(d,v,A){(A?Us(d,v,A):v===n)?v=1:v=Gr(on(v),0);var I=d==null?0:d.length;if(!I||v<1)return[];for(var N=0,K=0,ae=Se(fd(I/v));N<I;)ae[K++]=Fs(d,N,N+=v);return ae}function ste(d){for(var v=-1,A=d==null?0:d.length,I=0,N=[];++v<A;){var K=d[v];K&&(N[I++]=K)}return N}function ote(){var d=arguments.length;if(!d)return[];for(var v=Se(d-1),A=arguments[0],I=d;I--;)v[I-1]=arguments[I];return Fo(en(A)?Ii(A):[A],ei(v,1))}var ate=Mt(function(d,v){return $r(d)?qu(d,ei(v,1,$r,!0)):[]}),lte=Mt(function(d,v){var A=Pa(v);return $r(A)&&(A=n),$r(d)?qu(d,ei(v,1,$r,!0),Pt(A,2)):[]}),ute=Mt(function(d,v){var A=Pa(v);return $r(A)&&(A=n),$r(d)?qu(d,ei(v,1,$r,!0),n,A):[]});function cte(d,v,A){var I=d==null?0:d.length;return I?(v=A||v===n?1:on(v),Fs(d,v<0?0:v,I)):[]}function fte(d,v,A){var I=d==null?0:d.length;return I?(v=A||v===n?1:on(v),v=I-v,Fs(d,0,v<0?0:v)):[]}function hte(d,v){return d&&d.length?Ed(d,Pt(v,3),!0,!0):[]}function dte(d,v){return d&&d.length?Ed(d,Pt(v,3),!0):[]}function pte(d,v,A,I){var N=d==null?0:d.length;return N?(A&&typeof A!="number"&&Us(d,v,A)&&(A=0,I=N),xb(d,v,A,I)):[]}function MN(d,v,A){var I=d==null?0:d.length;if(!I)return-1;var N=A==null?0:on(A);return N<0&&(N=Gr(I+N,0)),Qc(d,Pt(v,3),N)}function RN(d,v,A){var I=d==null?0:d.length;if(!I)return-1;var N=I-1;return A!==n&&(N=on(A),N=A<0?Gr(I+N,0):Ai(N,I-1)),Qc(d,Pt(v,3),N,!0)}function IN(d){var v=d==null?0:d.length;return v?ei(d,1):[]}function mte(d){var v=d==null?0:d.length;return v?ei(d,ee):[]}function gte(d,v){var A=d==null?0:d.length;return A?(v=v===n?1:on(v),ei(d,v)):[]}function yte(d){for(var v=-1,A=d==null?0:d.length,I={};++v<A;){var N=d[v];I[N[0]]=N[1]}return I}function LN(d){return d&&d.length?d[0]:n}function vte(d,v,A){var I=d==null?0:d.length;if(!I)return-1;var N=A==null?0:on(A);return N<0&&(N=Gr(I+N,0)),No(d,v,N)}function _te(d){var v=d==null?0:d.length;return v?Fs(d,0,-1):[]}var xte=Mt(function(d){var v=Jn(d,Vm);return v.length&&v[0]===d[0]?df(v):[]}),wte=Mt(function(d){var v=Pa(d),A=Jn(d,Vm);return v===Pa(A)?v=n:A.pop(),A.length&&A[0]===d[0]?df(A,Pt(v,2)):[]}),bte=Mt(function(d){var v=Pa(d),A=Jn(d,Vm);return v=typeof v=="function"?v:n,v&&A.pop(),A.length&&A[0]===d[0]?df(A,n,v):[]});function Ste(d,v){return d==null?"":t2.call(d,v)}function Pa(d){var v=d==null?0:d.length;return v?d[v-1]:n}function Ate(d,v,A){var I=d==null?0:d.length;if(!I)return-1;var N=I;return A!==n&&(N=on(A),N=N<0?Gr(I+N,0):Ai(N,I-1)),v===v?jw(d,v,N):Qc(d,td,N,!0)}function Ete(d,v){return d&&d.length?el(d,on(v)):n}var Tte=Mt(PN);function PN(d,v){return d&&d.length&&v&&v.length?vf(d,v):d}function Cte(d,v,A){return d&&d.length&&v&&v.length?vf(d,v,Pt(A,2)):d}function Mte(d,v,A){return d&&d.length&&v&&v.length?vf(d,v,n,A):d}var Rte=sn(function(d,v){var A=d==null?0:d.length,I=Bm(d,v);return Ci(d,Jn(v,function(N){return Yu(N,A)?+N:N}).sort(tl)),I});function Ite(d,v){var A=[];if(!(d&&d.length))return A;var I=-1,N=[],K=d.length;for(v=Pt(v,3);++I<K;){var ae=d[I];v(ae,I,d)&&(A.push(ae),N.push(I))}return Ci(d,N),A}function v2(d){return d==null?d:eb.call(d)}function Lte(d,v,A){var I=d==null?0:d.length;return I?(A&&typeof A!="number"&&Us(d,v,A)?(v=0,A=I):(v=v==null?0:on(v),A=A===n?I:on(A)),Fs(d,v,A)):[]}function Pte(d,v){return Ia(d,v)}function Dte(d,v,A){return zm(d,v,Pt(A,2))}function Bte(d,v){var A=d==null?0:d.length;if(A){var I=Ia(d,v);if(I<A&&nl(d[I],v))return I}return-1}function Ote(d,v){return Ia(d,v,!0)}function kte(d,v,A){return zm(d,v,Pt(A,2),!0)}function Fte(d,v){var A=d==null?0:d.length;if(A){var I=Ia(d,v,!0)-1;if(nl(d[I],v))return I}return-1}function Nte(d){return d&&d.length?Qv(d):[]}function Ute(d,v){return d&&d.length?Qv(d,Pt(v,2)):[]}function Hte(d){var v=d==null?0:d.length;return v?Fs(d,1,v):[]}function Gte(d,v,A){return d&&d.length?(v=A||v===n?1:on(v),Fs(d,0,v<0?0:v)):[]}function zte(d,v,A){var I=d==null?0:d.length;return I?(v=A||v===n?1:on(v),v=I-v,Fs(d,v<0?0:v,I)):[]}function $te(d,v){return d&&d.length?Ed(d,Pt(v,3),!1,!0):[]}function Vte(d,v){return d&&d.length?Ed(d,Pt(v,3)):[]}var Wte=Mt(function(d){return Jl(ei(d,1,$r,!0))}),jte=Mt(function(d){var v=Pa(d);return $r(v)&&(v=n),Jl(ei(d,1,$r,!0),Pt(v,2))}),qte=Mt(function(d){var v=Pa(d);return v=typeof v=="function"?v:n,Jl(ei(d,1,$r,!0),n,v)});function Kte(d){return d&&d.length?Jl(d):[]}function Qte(d,v){return d&&d.length?Jl(d,Pt(v,2)):[]}function Jte(d,v){return v=typeof v=="function"?v:n,d&&d.length?Jl(d,n,v):[]}function _2(d){if(!(d&&d.length))return[];var v=0;return d=Si(d,function(A){if($r(A))return v=Gr(A.length,v),!0}),Ja(v,function(A){return Jn(d,ds(A))})}function DN(d,v){if(!(d&&d.length))return[];var A=_2(d);return v==null?A:Jn(A,function(I){return er(v,n,I)})}var Xte=Mt(function(d,v){return $r(d)?qu(d,v):[]}),Yte=Mt(function(d){return Yv(Si(d,$r))}),Zte=Mt(function(d){var v=Pa(d);return $r(v)&&(v=n),Yv(Si(d,$r),Pt(v,2))}),ene=Mt(function(d){var v=Pa(d);return v=typeof v=="function"?v:n,Yv(Si(d,$r),n,v)}),tne=Mt(_2);function nne(d,v){return Yl(d||[],v||[],$o)}function rne(d,v){return Yl(d||[],v||[],Ju)}var ine=Mt(function(d){var v=d.length,A=v>1?d[v-1]:n;return A=typeof A=="function"?(d.pop(),A):n,DN(d,A)});function BN(d){var v=V(d);return v.__chain__=!0,v}function sne(d,v){return v(d),d}function Pb(d,v){return v(d)}var one=sn(function(d){var v=d.length,A=v?d[0]:0,I=this.__wrapped__,N=function(K){return Bm(K,d)};return v>1||this.__actions__.length||!(I instanceof Rt)||!Yu(A)?this.thru(N):(I=I.slice(A,+A+(v?1:0)),I.__actions__.push({func:Pb,args:[N],thisArg:n}),new Ei(I,this.__chain__).thru(function(K){return v&&!K.length&&K.push(n),K}))});function ane(){return BN(this)}function lne(){return new Ei(this.value(),this.__chain__)}function une(){this.__values__===n&&(this.__values__=KN(this.value()));var d=this.__index__>=this.__values__.length,v=d?n:this.__values__[this.__index__++];return{done:d,value:v}}function cne(){return this}function fne(d){for(var v,A=this;A instanceof gd;){var I=CN(A);I.__index__=0,I.__values__=n,v?N.__wrapped__=I:v=I;var N=I;A=A.__wrapped__}return N.__wrapped__=d,v}function hne(){var d=this.__wrapped__;if(d instanceof Rt){var v=d;return this.__actions__.length&&(v=new Rt(this)),v=v.reverse(),v.__actions__.push({func:Pb,args:[v2],thisArg:n}),new Ei(v,this.__chain__)}return this.thru(v2)}function dne(){return Xl(this.__wrapped__,this.__actions__)}var pne=Cd(function(d,v,A){Dn.call(d,A)?++d[A]:Ma(d,A,1)});function mne(d,v,A){var I=en(d)?wv:a2;return A&&Us(d,v,A)&&(v=n),I(d,Pt(v,3))}function gne(d,v){var A=en(d)?Si:zv;return A(d,Pt(v,3))}var yne=T(MN),vne=T(RN);function _ne(d,v){return ei(Db(d,v),1)}function xne(d,v){return ei(Db(d,v),ee)}function wne(d,v,A){return A=A===n?1:on(A),ei(Db(d,v),A)}function ON(d,v){var A=en(d)?Ur:Vo;return A(d,Pt(v,3))}function kN(d,v){var A=en(d)?xv:_b;return A(d,Pt(v,3))}var bne=Cd(function(d,v,A){Dn.call(d,A)?d[A].push(v):Ma(d,A,[v])});function Sne(d,v,A,I){d=co(d)?d:Xm(d),A=A&&!I?on(A):0;var N=d.length;return A<0&&(A=Gr(N+A,0)),Nb(d)?A<=N&&d.indexOf(v,A)>-1:!!N&&No(d,v,A)>-1}var Ane=Mt(function(d,v,A){var I=-1,N=typeof v=="function",K=co(d)?Se(d.length):[];return Vo(d,function(ae){K[++I]=N?er(v,ae,A):Yn(ae,v,A)}),K}),Ene=Cd(function(d,v,A){Ma(d,A,v)});function Db(d,v){var A=en(d)?Jn:Qu;return A(d,Pt(v,3))}function Tne(d,v,A,I){return d==null?[]:(en(v)||(v=v==null?[]:[v]),A=I?n:A,en(A)||(A=A==null?[]:[A]),Sd(d,v,A))}var Cne=Cd(function(d,v,A){d[A?0:1].push(v)},function(){return[[],[]]});function Mne(d,v,A){var I=en(d)?Am:Gl,N=arguments.length<3;return I(d,Pt(v,4),A,N,Vo)}function Rne(d,v,A){var I=en(d)?Uw:Gl,N=arguments.length<3;return I(d,Pt(v,4),A,N,_b)}function Ine(d,v){var A=en(d)?Si:zv;return A(d,kb(Pt(v,3)))}function Lne(d){var v=en(d)?yd:bb;return v(d)}function Pne(d,v,A){(A?Us(d,v,A):v===n)?v=1:v=on(v);var I=en(d)?kv:qv;return I(d,v)}function Dne(d){var v=en(d)?yb:Ab;return v(d)}function Bne(d){if(d==null)return 0;if(co(d))return Nb(d)?Sa(d):d.length;var v=ms(d);return v==te||v==gt?d.size:Ti(d).length}function One(d,v,A){var I=en(d)?ed:Kv;return A&&Us(d,v,A)&&(v=n),I(d,Pt(v,3))}var kne=Mt(function(d,v){if(d==null)return[];var A=v.length;return A>1&&Us(d,v[0],v[1])?v=[]:A>2&&Us(v[0],v[1],v[2])&&(v=[v[0]]),Sd(d,ei(v,1),[])}),Bb=Kw||function(){return Rr.Date.now()};function Fne(d,v){if(typeof v!="function")throw new ji(o);return d=on(d),function(){if(--d<1)return v.apply(this,arguments)}}function FN(d,v,A){return v=A?n:v,v=d&&v==null?d.length:v,_e(d,D,n,n,n,n,v)}function NN(d,v){var A;if(typeof v!="function")throw new ji(o);return d=on(d),function(){return--d>0&&(A=v.apply(this,arguments)),d<=1&&(v=n),A}}var x2=Mt(function(d,v,A){var I=x;if(A.length){var N=Go(A,Qm(x2));I|=M}return _e(d,I,v,A,N)}),UN=Mt(function(d,v,A){var I=x|w;if(A.length){var N=Go(A,Qm(UN));I|=M}return _e(v,I,d,A,N)});function HN(d,v,A){v=A?n:v;var I=_e(d,E,n,n,n,n,n,v);return I.placeholder=HN.placeholder,I}function GN(d,v,A){v=A?n:v;var I=_e(d,C,n,n,n,n,n,v);return I.placeholder=GN.placeholder,I}function zN(d,v,A){var I,N,K,ae,ce,ye,Be=0,ke=!1,He=!1,it=!0;if(typeof d!="function")throw new ji(o);v=Da(v)||0,br(A)&&(ke=!!A.leading,He="maxWait"in A,K=He?Gr(Da(A.maxWait)||0,v):K,it="trailing"in A?!!A.trailing:it);function At(Vr){var rl=I,tc=N;return I=N=n,Be=Vr,ae=d.apply(tc,rl),ae}function Ot(Vr){return Be=Vr,ce=r1(vn,v),ke?At(Vr):ae}function an(Vr){var rl=Vr-ye,tc=Vr-Be,a4=v-rl;return He?Ai(a4,K-tc):a4}function kt(Vr){var rl=Vr-ye,tc=Vr-Be;return ye===n||rl>=v||rl<0||He&&tc>=K}function vn(){var Vr=Bb();if(kt(Vr))return An(Vr);ce=r1(vn,an(Vr))}function An(Vr){return ce=n,it&&I?At(Vr):(I=N=n,ae)}function Ko(){ce!==n&&Tb(ce),Be=0,I=ye=N=ce=n}function Hs(){return ce===n?ae:An(Bb())}function Qo(){var Vr=Bb(),rl=kt(Vr);if(I=arguments,N=this,ye=Vr,rl){if(ce===n)return Ot(ye);if(He)return Tb(ce),ce=r1(vn,v),At(ye)}return ce===n&&(ce=r1(vn,v)),ae}return Qo.cancel=Ko,Qo.flush=Hs,Qo}var Nne=Mt(function(d,v){return Gv(d,1,v)}),Une=Mt(function(d,v,A){return Gv(d,Da(v)||0,A)});function Hne(d){return _e(d,O)}function Ob(d,v){if(typeof d!="function"||v!=null&&typeof v!="function")throw new ji(o);var A=function(){var I=arguments,N=v?v.apply(this,I):I[0],K=A.cache;if(K.has(N))return K.get(N);var ae=d.apply(this,I);return A.cache=K.set(N,ae)||K,ae};return A.cache=new(Ob.Cache||oo),A}Ob.Cache=oo;function kb(d){if(typeof d!="function")throw new ji(o);return function(){var v=arguments;switch(v.length){case 0:return!d.call(this);case 1:return!d.call(this,v[0]);case 2:return!d.call(this,v[0],v[1]);case 3:return!d.call(this,v[0],v[1],v[2])}return!d.apply(this,v)}}function Gne(d){return NN(2,d)}var zne=Eb(function(d,v){v=v.length==1&&en(v[0])?Jn(v[0],Vi(Pt())):Jn(ei(v,1),Vi(Pt()));var A=v.length;return Mt(function(I){for(var N=-1,K=Ai(I.length,A);++N<K;)I[N]=v[N].call(this,I[N]);return er(d,this,I)})}),w2=Mt(function(d,v){var A=Go(v,Qm(w2));return _e(d,M,n,v,A)}),$N=Mt(function(d,v){var A=Go(v,Qm($N));return _e(d,P,n,v,A)}),$ne=sn(function(d,v){return _e(d,L,n,n,n,v)});function Vne(d,v){if(typeof d!="function")throw new ji(o);return v=v===n?v:on(v),Mt(d,v)}function Wne(d,v){if(typeof d!="function")throw new ji(o);return v=v==null?0:Gr(on(v),0),Mt(function(A){var I=A[v],N=eu(A,0,v);return I&&Fo(N,I),er(d,this,N)})}function jne(d,v,A){var I=!0,N=!0;if(typeof d!="function")throw new ji(o);return br(A)&&(I="leading"in A?!!A.leading:I,N="trailing"in A?!!A.trailing:N),zN(d,v,{leading:I,maxWait:v,trailing:N})}function qne(d){return FN(d,1)}function Kne(d,v){return w2(Ri(v),d)}function Qne(){if(!arguments.length)return[];var d=arguments[0];return en(d)?d:[d]}function Jne(d){return Bs(d,g)}function Xne(d,v){return v=typeof v=="function"?v:n,Bs(d,g,v)}function Yne(d){return Bs(d,c|g)}function Zne(d,v){return v=typeof v=="function"?v:n,Bs(d,c|g,v)}function ere(d,v){return v==null||Om(d,v,Pi(v))}function nl(d,v){return d===v||d!==d&&v!==v}var tre=Tt(xd),nre=Tt(function(d,v){return d>=v}),Id=nn(function(){return arguments}())?nn:function(d){return Dr(d)&&Dn.call(d,"callee")&&!Rm.call(d,"callee")},en=Se.isArray,rre=xm?Vi(xm):Ir;function co(d){return d!=null&&Fb(d.length)&&!Zu(d)}function $r(d){return Dr(d)&&co(d)}function ire(d){return d===!0||d===!1||Dr(d)&&pi(d)==Qe}var xf=Jw||P2,sre=wm?Vi(wm):Lr;function ore(d){return Dr(d)&&d.nodeType===1&&!i1(d)}function are(d){if(d==null)return!0;if(co(d)&&(en(d)||typeof d=="string"||typeof d.splice=="function"||xf(d)||Jm(d)||Id(d)))return!d.length;var v=ms(d);if(v==te||v==gt)return!d.size;if(n1(d))return!Ti(d).length;for(var A in d)if(Dn.call(d,A))return!1;return!0}function lre(d,v){return xr(d,v)}function ure(d,v,A){A=typeof A=="function"?A:n;var I=A?A(d,v):n;return I===n?xr(d,v,n,A):!!I}function b2(d){if(!Dr(d))return!1;var v=pi(d);return v==mt||v==Ue||typeof d.message=="string"&&typeof d.name=="string"&&!i1(d)}function cre(d){return typeof d=="number"&&Iv(d)}function Zu(d){if(!br(d))return!1;var v=pi(d);return v==Re||v==U||v==Ze||v==je}function VN(d){return typeof d=="number"&&d==on(d)}function Fb(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=k}function br(d){var v=typeof d;return d!=null&&(v=="object"||v=="function")}function Dr(d){return d!=null&&typeof d=="object"}var WN=_v?Vi(_v):pf;function fre(d,v){return d===v||wr(d,v,h2(v))}function hre(d,v,A){return A=typeof A=="function"?A:n,wr(d,v,h2(v),A)}function dre(d){return jN(d)&&d!=+d}function pre(d){if(Xee(d))throw new Ut(s);return mf(d)}function mre(d){return d===null}function gre(d){return d==null}function jN(d){return typeof d=="number"||Dr(d)&&pi(d)==J}function i1(d){if(!Dr(d)||pi(d)!=Pe)return!1;var v=ud(d);if(v===null)return!0;var A=Dn.call(v,"constructor")&&v.constructor;return typeof A=="function"&&A instanceof A&&of.call(A)==zu}var S2=bm?Vi(bm):gf;function yre(d){return VN(d)&&d>=-k&&d<=k}var qN=Sm?Vi(Sm):Fm;function Nb(d){return typeof d=="string"||!en(d)&&Dr(d)&&pi(d)==se}function qo(d){return typeof d=="symbol"||Dr(d)&&pi(d)==X}var Jm=Hu?Vi(Hu):Wv;function vre(d){return d===n}function _re(d){return Dr(d)&&ms(d)==Ge}function xre(d){return Dr(d)&&pi(d)==nt}var wre=Tt(wd),bre=Tt(function(d,v){return d<=v});function KN(d){if(!d)return[];if(co(d))return Nb(d)?fr(d):Ii(d);if(Wl&&d[Wl])return Yc(d[Wl]());var v=ms(d),A=v==te?id:v==gt?sd:Xm;return A(d)}function ec(d){if(!d)return d===0?d:0;if(d=Da(d),d===ee||d===-ee){var v=d<0?-1:1;return v*G}return d===d?d:0}function on(d){var v=ec(d),A=v%1;return v===v?A?v-A:v:0}function QN(d){return d?Kl(on(d),0,ie):0}function Da(d){if(typeof d=="number")return d;if(qo(d))return $;if(br(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=br(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=Tm(d);var A=yn.test(d);return A||qa.test(d)?ZM(d.slice(2),A?2:8):gn.test(d)?$:+d}function JN(d){return uo(d,fo(d))}function Sre(d){return d?Kl(on(d),-k,k):d===0?d:0}function Hn(d){return d==null?"":Mi(d)}var Are=Xu(function(d,v){if(n1(v)||co(v)){uo(v,Pi(v),d);return}for(var A in v)Dn.call(v,A)&&$o(d,A,v[A])}),XN=Xu(function(d,v){uo(v,fo(v),d)}),Ub=Xu(function(d,v,A,I){uo(v,fo(v),d,I)}),Ere=Xu(function(d,v,A,I){uo(v,Pi(v),d,I)}),Tre=sn(Bm);function Cre(d,v){var A=Za(d);return v==null?A:Uv(A,v)}var Mre=Mt(function(d,v){d=Bt(d);var A=-1,I=v.length,N=I>2?v[2]:n;for(N&&Us(v[0],v[1],N)&&(I=1);++A<I;)for(var K=v[A],ae=fo(K),ce=-1,ye=ae.length;++ce<ye;){var Be=ae[ce],ke=d[Be];(ke===n||nl(ke,sf[Be])&&!Dn.call(d,Be))&&(d[Be]=K[Be])}return d}),Rre=Mt(function(d){return d.push(n,Ee),er(YN,n,d)});function Ire(d,v){return bv(d,Pt(v,3),Os)}function Lre(d,v){return bv(d,Pt(v,3),hf)}function Pre(d,v){return d==null?d:ff(d,Pt(v,3),fo)}function Dre(d,v){return d==null?d:_d(d,Pt(v,3),fo)}function Bre(d,v){return d&&Os(d,Pt(v,3))}function Ore(d,v){return d&&hf(d,Pt(v,3))}function kre(d){return d==null?[]:Ku(d,Pi(d))}function Fre(d){return d==null?[]:Ku(d,fo(d))}function A2(d,v,A){var I=d==null?n:Wo(d,v);return I===n?A:I}function Nre(d,v){return d!=null&&yN(d,v,wb)}function E2(d,v){return d!=null&&yN(d,v,$v)}var Ure=re(function(d,v,A){v!=null&&typeof v.toString!="function"&&(v=Ps.call(v)),d[v]=A},C2(ho)),Hre=re(function(d,v,A){v!=null&&typeof v.toString!="function"&&(v=Ps.call(v)),Dn.call(d,v)?d[v].push(A):d[v]=[A]},Pt),Gre=Mt(Yn);function Pi(d){return co(d)?tt(d):Ti(d)}function fo(d){return co(d)?tt(d,!0):jv(d)}function zre(d,v){var A={};return v=Pt(v,3),Os(d,function(I,N,K){Ma(A,v(I,N,K),I)}),A}function $re(d,v){var A={};return v=Pt(v,3),Os(d,function(I,N,K){Ma(A,N,v(I,N,K))}),A}var Vre=Xu(function(d,v,A){jo(d,v,A)}),YN=Xu(function(d,v,A,I){jo(d,v,A,I)}),Wre=sn(function(d,v){var A={};if(d==null)return A;var I=!1;v=Jn(v,function(K){return K=Zl(K,d),I||(I=K.length>1),K}),uo(d,wn(d),A),I&&(A=Bs(A,c|h|g,st));for(var N=v.length;N--;)Jv(A,v[N]);return A});function jre(d,v){return ZN(d,kb(Pt(v)))}var qre=sn(function(d,v){return d==null?{}:Ad(d,v)});function ZN(d,v){if(d==null)return{};var A=Jn(wn(d),function(I){return[I]});return v=Pt(v),Hm(d,A,function(I,N){return v(I,N[0])})}function Kre(d,v,A){v=Zl(v,d);var I=-1,N=v.length;for(N||(N=1,d=n);++I<N;){var K=d==null?n:d[nu(v[I])];K===n&&(I=N,K=A),d=Zu(K)?K.call(d):K}return d}function Qre(d,v,A){return d==null?d:Ju(d,v,A)}function Jre(d,v,A,I){return I=typeof I=="function"?I:n,d==null?d:Ju(d,v,A,I)}var e4=Ns(Pi),t4=Ns(fo);function Xre(d,v,A){var I=en(d),N=I||xf(d)||Jm(d);if(v=Pt(v,4),A==null){var K=d&&d.constructor;N?A=I?new K:[]:br(d)?A=Zu(K)?Za(ud(d)):{}:A={}}return(N?Ur:Os)(d,function(ae,ce,ye){return v(A,ae,ce,ye)}),A}function Yre(d,v){return d==null?!0:Jv(d,v)}function Zre(d,v,A){return d==null?d:Xv(d,v,Ri(A))}function eie(d,v,A,I){return I=typeof I=="function"?I:n,d==null?d:Xv(d,v,Ri(A),I)}function Xm(d){return d==null?[]:Wi(d,Pi(d))}function tie(d){return d==null?[]:Wi(d,fo(d))}function nie(d,v,A){return A===n&&(A=v,v=n),A!==n&&(A=Da(A),A=A===A?A:0),v!==n&&(v=Da(v),v=v===v?v:0),Kl(Da(d),v,A)}function rie(d,v,A){return v=ec(v),A===n?(A=v,v=0):A=ec(A),d=Da(d),l2(d,v,A)}function iie(d,v,A){if(A&&typeof A!="boolean"&&Us(d,v,A)&&(v=A=n),A===n&&(typeof v=="boolean"?(A=v,v=n):typeof d=="boolean"&&(A=d,d=n)),d===n&&v===n?(d=0,v=1):(d=ec(d),v===n?(v=d,d=0):v=ec(v)),d>v){var I=d;d=v,v=I}if(A||d%1||v%1){var N=Lv();return Ai(d+N*(v-d+Nw("1e-"+((N+"").length-1))),v)}return Ra(d,v)}var sie=p(function(d,v,A){return v=v.toLowerCase(),d+(A?n4(v):v)});function n4(d){return T2(Hn(d).toLowerCase())}function r4(d){return d=Hn(d),d&&d.replace(Ol,$w).replace(Xr,"")}function oie(d,v,A){d=Hn(d),v=Mi(v);var I=d.length;A=A===n?I:Kl(on(A),0,I);var N=A;return A-=v.length,A>=0&&d.slice(A,N)==v}function aie(d){return d=Hn(d),d&&Is.test(d)?d.replace(ln,Vw):d}function lie(d){return d=Hn(d),d&&fv.test(d)?d.replace(Kh,"\\$&"):d}var uie=p(function(d,v,A){return d+(A?"-":"")+v.toLowerCase()}),cie=p(function(d,v,A){return d+(A?" ":"")+v.toLowerCase()}),fie=Rb("toLowerCase");function hie(d,v,A){d=Hn(d),v=on(v);var I=v?Sa(d):0;if(!v||I>=v)return d;var N=(v-I)/2;return $e(hd(N),A)+d+$e(fd(N),A)}function die(d,v,A){d=Hn(d),v=on(v);var I=v?Sa(d):0;return v&&I<v?d+$e(v-I,A):d}function pie(d,v,A){d=Hn(d),v=on(v);var I=v?Sa(d):0;return v&&I<v?$e(v-I,A)+d:d}function mie(d,v,A){return A||v==null?v=0:v&&(v=+v),Zw(Hn(d).replace(ne,""),v||0)}function gie(d,v,A){return(A?Us(d,v,A):v===n)?v=1:v=on(v),_f(Hn(d),v)}function yie(){var d=arguments,v=Hn(d[0]);return d.length<3?v:v.replace(d[1],d[2])}var vie=p(function(d,v,A){return d+(A?"_":"")+v.toLowerCase()});function _ie(d,v,A){return A&&typeof A!="number"&&Us(d,v,A)&&(v=A=n),A=A===n?ie:A>>>0,A?(d=Hn(d),d&&(typeof v=="string"||v!=null&&!S2(v))&&(v=Mi(v),!v&&Gu(d))?eu(fr(d),0,A):d.split(v,A)):[]}var xie=p(function(d,v,A){return d+(A?" ":"")+T2(v)});function wie(d,v,A){return d=Hn(d),A=A==null?0:Kl(on(A),0,d.length),v=Mi(v),d.slice(A,A+v.length)==v}function bie(d,v,A){var I=V.templateSettings;A&&Us(d,v,A)&&(v=n),d=Hn(d),v=Ub({},v,I,me);var N=Ub({},v.imports,I.imports,me),K=Pi(N),ae=Wi(N,K),ce,ye,Be=0,ke=v.interpolate||zi,He="__p += '",it=Yr((v.escape||zi).source+"|"+ke.source+"|"+(ke===jh?Zt:zi).source+"|"+(v.evaluate||zi).source+"|$","g"),At="//# sourceURL="+(Dn.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xa+"]")+`
`;d.replace(it,function(kt,vn,An,Ko,Hs,Qo){return An||(An=Ko),He+=d.slice(Be,Qo).replace(Mn,Sv),vn&&(ce=!0,He+=`' +
__e(`+vn+`) +
'`),Hs&&(ye=!0,He+=`';
`+Hs+`;
__p += '`),An&&(He+=`' +
((__t = (`+An+`)) == null ? '' : __t) +
'`),Be=Qo+kt.length,kt}),He+=`';
`;var Ot=Dn.call(v,"variable")&&v.variable;if(!Ot)He=`with (obj) {
`+He+`
}
`;else if(qt.test(Ot))throw new Ut(a);He=(ye?He.replace(Dt,""):He).replace(Je,"$1").replace(Ft,"$1;"),He="function("+(Ot||"obj")+`) {
`+(Ot?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ce?", __e = _.escape":"")+(ye?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+He+`return __p
}`;var an=s4(function(){return Yt(K,At+"return "+He).apply(n,ae)});if(an.source=He,b2(an))throw an;return an}function Sie(d){return Hn(d).toLowerCase()}function Aie(d){return Hn(d).toUpperCase()}function Eie(d,v,A){if(d=Hn(d),d&&(A||v===n))return Tm(d);if(!d||!(v=Mi(v)))return d;var I=fr(d),N=fr(v),K=Xn(I,N),ae=Xc(I,N)+1;return eu(I,K,ae).join("")}function Tie(d,v,A){if(d=Hn(d),d&&(A||v===n))return d.slice(0,tf(d)+1);if(!d||!(v=Mi(v)))return d;var I=fr(d),N=Xc(I,fr(v))+1;return eu(I,0,N).join("")}function Cie(d,v,A){if(d=Hn(d),d&&(A||v===n))return d.replace(ne,"");if(!d||!(v=Mi(v)))return d;var I=fr(d),N=Xn(I,fr(v));return eu(I,N).join("")}function Mie(d,v){var A=q,I=j;if(br(v)){var N="separator"in v?v.separator:N;A="length"in v?on(v.length):A,I="omission"in v?Mi(v.omission):I}d=Hn(d);var K=d.length;if(Gu(d)){var ae=fr(d);K=ae.length}if(A>=K)return d;var ce=A-Sa(I);if(ce<1)return I;var ye=ae?eu(ae,0,ce).join(""):d.slice(0,ce);if(N===n)return ye+I;if(ae&&(ce+=ye.length-ce),S2(N)){if(d.slice(ce).search(N)){var Be,ke=ye;for(N.global||(N=Yr(N.source,Hn(Cn.exec(N))+"g")),N.lastIndex=0;Be=N.exec(ke);)var He=Be.index;ye=ye.slice(0,He===n?ce:He)}}else if(d.indexOf(Mi(N),ce)!=ce){var it=ye.lastIndexOf(N);it>-1&&(ye=ye.slice(0,it))}return ye+I}function Rie(d){return d=Hn(d),d&&ro.test(d)?d.replace(Tn,nf):d}var Iie=p(function(d,v,A){return d+(A?" ":"")+v.toUpperCase()}),T2=Rb("toUpperCase");function i4(d,v,A){return d=Hn(d),v=A?n:v,v===n?rd(d)?rf(d):Gw(d):d.match(v)||[]}var s4=Mt(function(d,v){try{return er(d,n,v)}catch(A){return b2(A)?A:new Ut(A)}}),Lie=sn(function(d,v){return Ur(v,function(A){A=nu(A),Ma(d,A,x2(d[A],d))}),d});function Pie(d){var v=d==null?0:d.length,A=Pt();return d=v?Jn(d,function(I){if(typeof I[1]!="function")throw new ji(o);return[A(I[0]),I[1]]}):[],Mt(function(I){for(var N=-1;++N<v;){var K=d[N];if(er(K[0],this,I))return er(K[1],this,I)}})}function Die(d){return Hv(Bs(d,c))}function C2(d){return function(){return d}}function Bie(d,v){return d==null||d!==d?v:d}var Oie=R(),kie=R(!0);function ho(d){return d}function M2(d){return yf(typeof d=="function"?d:Bs(d,c))}function Fie(d){return bd(Bs(d,c))}function Nie(d,v){return Nm(d,Bs(v,c))}var Uie=Mt(function(d,v){return function(A){return Yn(A,d,v)}}),Hie=Mt(function(d,v){return function(A){return Yn(d,A,v)}});function R2(d,v,A){var I=Pi(v),N=Ku(v,I);A==null&&!(br(v)&&(N.length||!I.length))&&(A=v,v=d,d=this,N=Ku(v,Pi(v)));var K=!(br(A)&&"chain"in A)||!!A.chain,ae=Zu(d);return Ur(N,function(ce){var ye=v[ce];d[ce]=ye,ae&&(d.prototype[ce]=function(){var Be=this.__chain__;if(K||Be){var ke=d(this.__wrapped__),He=ke.__actions__=Ii(this.__actions__);return He.push({func:ye,args:arguments,thisArg:d}),ke.__chain__=Be,ke}return ye.apply(d,Fo([this.value()],arguments))})}),d}function Gie(){return Rr._===this&&(Rr._=Cm),this}function I2(){}function zie(d){return d=on(d),Mt(function(v){return el(v,d)})}var $ie=Te(Jn),Vie=Te(wv),Wie=Te(ed);function o4(d){return p2(d)?ds(nu(d)):Gm(d)}function jie(d){return function(v){return d==null?n:Wo(d,v)}}var qie=Wt(),Kie=Wt(!0);function L2(){return[]}function P2(){return!1}function Qie(){return{}}function Jie(){return""}function Xie(){return!0}function Yie(d,v){if(d=on(d),d<1||d>k)return[];var A=ie,I=Ai(d,ie);v=Pt(v),d-=ie;for(var N=Ja(I,v);++A<d;)v(A);return N}function Zie(d){return en(d)?Jn(d,nu):qo(d)?[d]:Ii(TN(Hn(d)))}function ese(d){var v=++Tv;return Hn(d)+v}var tse=pe(function(d,v){return d+v},0),nse=wt("ceil"),rse=pe(function(d,v){return d/v},1),ise=wt("floor");function sse(d){return d&&d.length?vd(d,ho,xd):n}function ose(d,v){return d&&d.length?vd(d,Pt(v,2),xd):n}function ase(d){return nd(d,ho)}function lse(d,v){return nd(d,Pt(v,2))}function use(d){return d&&d.length?vd(d,ho,wd):n}function cse(d,v){return d&&d.length?vd(d,Pt(v,2),wd):n}var fse=pe(function(d,v){return d*v},1),hse=wt("round"),dse=pe(function(d,v){return d-v},0);function pse(d){return d&&d.length?Uo(d,ho):0}function mse(d,v){return d&&d.length?Uo(d,Pt(v,2)):0}return V.after=Fne,V.ary=FN,V.assign=Are,V.assignIn=XN,V.assignInWith=Ub,V.assignWith=Ere,V.at=Tre,V.before=NN,V.bind=x2,V.bindAll=Lie,V.bindKey=UN,V.castArray=Qne,V.chain=BN,V.chunk=ite,V.compact=ste,V.concat=ote,V.cond=Pie,V.conforms=Die,V.constant=C2,V.countBy=pne,V.create=Cre,V.curry=HN,V.curryRight=GN,V.debounce=zN,V.defaults=Mre,V.defaultsDeep=Rre,V.defer=Nne,V.delay=Une,V.difference=ate,V.differenceBy=lte,V.differenceWith=ute,V.drop=cte,V.dropRight=fte,V.dropRightWhile=hte,V.dropWhile=dte,V.fill=pte,V.filter=gne,V.flatMap=_ne,V.flatMapDeep=xne,V.flatMapDepth=wne,V.flatten=IN,V.flattenDeep=mte,V.flattenDepth=gte,V.flip=Hne,V.flow=Oie,V.flowRight=kie,V.fromPairs=yte,V.functions=kre,V.functionsIn=Fre,V.groupBy=bne,V.initial=_te,V.intersection=xte,V.intersectionBy=wte,V.intersectionWith=bte,V.invert=Ure,V.invertBy=Hre,V.invokeMap=Ane,V.iteratee=M2,V.keyBy=Ene,V.keys=Pi,V.keysIn=fo,V.map=Db,V.mapKeys=zre,V.mapValues=$re,V.matches=Fie,V.matchesProperty=Nie,V.memoize=Ob,V.merge=Vre,V.mergeWith=YN,V.method=Uie,V.methodOf=Hie,V.mixin=R2,V.negate=kb,V.nthArg=zie,V.omit=Wre,V.omitBy=jre,V.once=Gne,V.orderBy=Tne,V.over=$ie,V.overArgs=zne,V.overEvery=Vie,V.overSome=Wie,V.partial=w2,V.partialRight=$N,V.partition=Cne,V.pick=qre,V.pickBy=ZN,V.property=o4,V.propertyOf=jie,V.pull=Tte,V.pullAll=PN,V.pullAllBy=Cte,V.pullAllWith=Mte,V.pullAt=Rte,V.range=qie,V.rangeRight=Kie,V.rearg=$ne,V.reject=Ine,V.remove=Ite,V.rest=Vne,V.reverse=v2,V.sampleSize=Pne,V.set=Qre,V.setWith=Jre,V.shuffle=Dne,V.slice=Lte,V.sortBy=kne,V.sortedUniq=Nte,V.sortedUniqBy=Ute,V.split=_ie,V.spread=Wne,V.tail=Hte,V.take=Gte,V.takeRight=zte,V.takeRightWhile=$te,V.takeWhile=Vte,V.tap=sne,V.throttle=jne,V.thru=Pb,V.toArray=KN,V.toPairs=e4,V.toPairsIn=t4,V.toPath=Zie,V.toPlainObject=JN,V.transform=Xre,V.unary=qne,V.union=Wte,V.unionBy=jte,V.unionWith=qte,V.uniq=Kte,V.uniqBy=Qte,V.uniqWith=Jte,V.unset=Yre,V.unzip=_2,V.unzipWith=DN,V.update=Zre,V.updateWith=eie,V.values=Xm,V.valuesIn=tie,V.without=Xte,V.words=i4,V.wrap=Kne,V.xor=Yte,V.xorBy=Zte,V.xorWith=ene,V.zip=tne,V.zipObject=nne,V.zipObjectDeep=rne,V.zipWith=ine,V.entries=e4,V.entriesIn=t4,V.extend=XN,V.extendWith=Ub,R2(V,V),V.add=tse,V.attempt=s4,V.camelCase=sie,V.capitalize=n4,V.ceil=nse,V.clamp=nie,V.clone=Jne,V.cloneDeep=Yne,V.cloneDeepWith=Zne,V.cloneWith=Xne,V.conformsTo=ere,V.deburr=r4,V.defaultTo=Bie,V.divide=rse,V.endsWith=oie,V.eq=nl,V.escape=aie,V.escapeRegExp=lie,V.every=mne,V.find=yne,V.findIndex=MN,V.findKey=Ire,V.findLast=vne,V.findLastIndex=RN,V.findLastKey=Lre,V.floor=ise,V.forEach=ON,V.forEachRight=kN,V.forIn=Pre,V.forInRight=Dre,V.forOwn=Bre,V.forOwnRight=Ore,V.get=A2,V.gt=tre,V.gte=nre,V.has=Nre,V.hasIn=E2,V.head=LN,V.identity=ho,V.includes=Sne,V.indexOf=vte,V.inRange=rie,V.invoke=Gre,V.isArguments=Id,V.isArray=en,V.isArrayBuffer=rre,V.isArrayLike=co,V.isArrayLikeObject=$r,V.isBoolean=ire,V.isBuffer=xf,V.isDate=sre,V.isElement=ore,V.isEmpty=are,V.isEqual=lre,V.isEqualWith=ure,V.isError=b2,V.isFinite=cre,V.isFunction=Zu,V.isInteger=VN,V.isLength=Fb,V.isMap=WN,V.isMatch=fre,V.isMatchWith=hre,V.isNaN=dre,V.isNative=pre,V.isNil=gre,V.isNull=mre,V.isNumber=jN,V.isObject=br,V.isObjectLike=Dr,V.isPlainObject=i1,V.isRegExp=S2,V.isSafeInteger=yre,V.isSet=qN,V.isString=Nb,V.isSymbol=qo,V.isTypedArray=Jm,V.isUndefined=vre,V.isWeakMap=_re,V.isWeakSet=xre,V.join=Ste,V.kebabCase=uie,V.last=Pa,V.lastIndexOf=Ate,V.lowerCase=cie,V.lowerFirst=fie,V.lt=wre,V.lte=bre,V.max=sse,V.maxBy=ose,V.mean=ase,V.meanBy=lse,V.min=use,V.minBy=cse,V.stubArray=L2,V.stubFalse=P2,V.stubObject=Qie,V.stubString=Jie,V.stubTrue=Xie,V.multiply=fse,V.nth=Ete,V.noConflict=Gie,V.noop=I2,V.now=Bb,V.pad=hie,V.padEnd=die,V.padStart=pie,V.parseInt=mie,V.random=iie,V.reduce=Mne,V.reduceRight=Rne,V.repeat=gie,V.replace=yie,V.result=Kre,V.round=hse,V.runInContext=fe,V.sample=Lne,V.size=Bne,V.snakeCase=vie,V.some=One,V.sortedIndex=Pte,V.sortedIndexBy=Dte,V.sortedIndexOf=Bte,V.sortedLastIndex=Ote,V.sortedLastIndexBy=kte,V.sortedLastIndexOf=Fte,V.startCase=xie,V.startsWith=wie,V.subtract=dse,V.sum=pse,V.sumBy=mse,V.template=bie,V.times=Yie,V.toFinite=ec,V.toInteger=on,V.toLength=QN,V.toLower=Sie,V.toNumber=Da,V.toSafeInteger=Sre,V.toString=Hn,V.toUpper=Aie,V.trim=Eie,V.trimEnd=Tie,V.trimStart=Cie,V.truncate=Mie,V.unescape=Rie,V.uniqueId=ese,V.upperCase=Iie,V.upperFirst=T2,V.each=ON,V.eachRight=kN,V.first=LN,R2(V,function(){var d={};return Os(V,function(v,A){Dn.call(V.prototype,A)||(d[A]=v)}),d}(),{chain:!1}),V.VERSION=r,Ur(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){V[d].placeholder=V}),Ur(["drop","take"],function(d,v){Rt.prototype[d]=function(A){A=A===n?1:Gr(on(A),0);var I=this.__filtered__&&!v?new Rt(this):this.clone();return I.__filtered__?I.__takeCount__=Ai(A,I.__takeCount__):I.__views__.push({size:Ai(A,ie),type:d+(I.__dir__<0?"Right":"")}),I},Rt.prototype[d+"Right"]=function(A){return this.reverse()[d](A).reverse()}}),Ur(["filter","map","takeWhile"],function(d,v){var A=v+1,I=A==F||A==H;Rt.prototype[d]=function(N){var K=this.clone();return K.__iteratees__.push({iteratee:Pt(N,3),type:A}),K.__filtered__=K.__filtered__||I,K}}),Ur(["head","last"],function(d,v){var A="take"+(v?"Right":"");Rt.prototype[d]=function(){return this[A](1).value()[0]}}),Ur(["initial","tail"],function(d,v){var A="drop"+(v?"":"Right");Rt.prototype[d]=function(){return this.__filtered__?new Rt(this):this[A](1)}}),Rt.prototype.compact=function(){return this.filter(ho)},Rt.prototype.find=function(d){return this.filter(d).head()},Rt.prototype.findLast=function(d){return this.reverse().find(d)},Rt.prototype.invokeMap=Mt(function(d,v){return typeof d=="function"?new Rt(this):this.map(function(A){return Yn(A,d,v)})}),Rt.prototype.reject=function(d){return this.filter(kb(Pt(d)))},Rt.prototype.slice=function(d,v){d=on(d);var A=this;return A.__filtered__&&(d>0||v<0)?new Rt(A):(d<0?A=A.takeRight(-d):d&&(A=A.drop(d)),v!==n&&(v=on(v),A=v<0?A.dropRight(-v):A.take(v-d)),A)},Rt.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Rt.prototype.toArray=function(){return this.take(ie)},Os(Rt.prototype,function(d,v){var A=/^(?:filter|find|map|reject)|While$/.test(v),I=/^(?:head|last)$/.test(v),N=V[I?"take"+(v=="last"?"Right":""):v],K=I||/^find/.test(v);!N||(V.prototype[v]=function(){var ae=this.__wrapped__,ce=I?[1]:arguments,ye=ae instanceof Rt,Be=ce[0],ke=ye||en(ae),He=function(vn){var An=N.apply(V,Fo([vn],ce));return I&&it?An[0]:An};ke&&A&&typeof Be=="function"&&Be.length!=1&&(ye=ke=!1);var it=this.__chain__,At=!!this.__actions__.length,Ot=K&&!it,an=ye&&!At;if(!K&&ke){ae=an?ae:new Rt(this);var kt=d.apply(ae,ce);return kt.__actions__.push({func:Pb,args:[He],thisArg:n}),new Ei(kt,it)}return Ot&&an?d.apply(this,ce):(kt=this.thru(He),Ot?I?kt.value()[0]:kt.value():kt)})}),Ur(["pop","push","shift","sort","splice","unshift"],function(d){var v=$l[d],A=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",I=/^(?:pop|shift)$/.test(d);V.prototype[d]=function(){var N=arguments;if(I&&!this.__chain__){var K=this.value();return v.apply(en(K)?K:[],N)}return this[A](function(ae){return v.apply(en(ae)?ae:[],N)})}}),Os(Rt.prototype,function(d,v){var A=V[v];if(A){var I=A.name+"";Dn.call(Wu,I)||(Wu[I]=[]),Wu[I].push({name:v,func:A})}}),Wu[B(n,w).name]=[{name:"wrapper",func:n}],Rt.prototype.clone=n2,Rt.prototype.reverse=r2,Rt.prototype.value=Ds,V.prototype.at=one,V.prototype.chain=ane,V.prototype.commit=lne,V.prototype.next=une,V.prototype.plant=fne,V.prototype.reverse=hne,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=dne,V.prototype.first=V.prototype.head,Wl&&(V.prototype[Wl]=cne),V},zl=qw();fi?((fi.exports=zl)._=zl,vv._=zl):Rr._=zl}).call(_n)})(AT,AT.exports);const pHe=AT.exports,rY="https://assets.ctfassets.net/tgf8h0ayfqy8/2xPTMSbjbazd9nHwXCRch8/b11366485c2224c8bffe82ebf3223b90/card.glb";function mHe({children:t,...e}){const{nodes:n}=Bo(rY);return W("group",{rotation:[1.8,0,0],...e,dispose:null,children:W("mesh",{geometry:n.Box001.geometry,material:n.Box001.material,scale:.01,children:t})})}Bo.preload(rY);const iY="https://assets.ctfassets.net/tgf8h0ayfqy8/2j82Yd6NB614bdpmCka47m/e75503bf45aa90fac4e0d78be4540c59/pendant-8.gltf";function gHe({children:t,...e}){const{nodes:n,materials:r}=Bo(iY);return W("group",{scale:.07,...e,children:W("mesh",{geometry:n.object.geometry,material:r.WhiteMetal,position:[0,.2,0],rotation:[Math.PI/2*-1,0,0],children:t})})}Bo.preload(iY);const sY="https://assets.ctfassets.net/tgf8h0ayfqy8/2g96SkvunCpMJnHVdgBwGV/55f410aa9197b9ea72ea778c2f0f73aa/questionmark.glb";function yHe({children:t,...e}){const{nodes:n}=Bo(sY);return W("group",{...e,dispose:null,children:W("mesh",{geometry:n.Text.geometry,material:n.Text.material,scale:1.5,rotation:[1.8,0,0],children:t})})}Bo.preload(sY);const xF=({preset:t="normal",color:e,textureOpts:n,...r})=>{var s,o,a;const i=sv(SM,(s=n==null?void 0:n.image)!=null?s:"texture.jpg");return i.repeat.set((o=n==null?void 0:n.scale)!=null?o:.02,(a=n==null?void 0:n.scale)!=null?a:.02),i.repeat.y=i.repeat.y*-1,i.wrapS=i.wrapT=Pc,W("meshPhysicalMaterial",{attach:"material",transparent:!0,opacity:1,wireframeLinewidth:.1,color:e,...t==="frozen"||!!n?{map:i}:{roughness:0,metalness:1},...r})},oY=(t=!0,e="pointer")=>{const[n,r]=z.exports.useState(!1);return z.exports.useEffect(()=>{document.body.style.cursor=t&&n?e:"auto"},[n]),{onPointerEnter:()=>{r(!0)},onPointerLeave:()=>{r(!1)},isHovering:n}},vHe=(t,e)=>{const[n,r]=z.exports.useState(void 0),[i,s]=z.exports.useState(!1),[o,a]=z.exports.useState(!1);return $h(l=>{if(!i||o)return;const u=l.clock.getElapsedTime();if(!n){r(u);return}u-n>t&&a(!0)}),z.exports.useEffect(()=>{o&&e()},[o]),{start:()=>{s(!0),r(void 0),a(!1)}}},_He=({group:t,startPosition:e})=>{const n=new Q(t.current.position.x,t.current.position.y,t.current.position.z),r=new Q(e[0],e[1],e[2]+.5),i=n.lerp(r,.1);t.current.position.x=i.x,t.current.position.y=i.y,t.current.position.z=i.z},xHe=({group:t,startPosition:e,time:n,offset:r})=>{const i=new Q(t.current.position.x,t.current.position.y,t.current.position.z),s=new Q(e[0],e[1],e[2]+Math.sin(n*r)*.5),o=i.lerp(s,.1);t.current.position.x=o.x,t.current.position.y=o.y,t.current.position.z=o.z},wHe=({group:t})=>{const e=new Q(t.current.position.x,t.current.position.y,t.current.position.z),n=new Q(t.current.position.x-t.current.position.x,t.current.position.y-t.current.position.y,t.current.position.z),r=e.lerp(n,.1);t.current.position.x=r.x,t.current.position.y=r.y,t.current.position.z=r.z},ET=({group:t,clock:e,delta:n,scale:r=1,axis:i=[!0,!0,!0]})=>{!t.current||(i[0]&&(t.current.rotation.x+=1*r*n),i[1]&&(t.current.rotation.y+=1*r*n),i[2]&&(t.current.rotation.z+=1*r*n))},bHe=({group:t,startPos:e,clock:n,scale:r=1})=>{!t.current||(t.current.position.x=e[0]+(Math.random()-.5)*r,t.current.position.z=e[2]+Math.sin(n.getElapsedTime())*r,t.current.position.y=e[1]+(Math.random()-.5)*r)},SHe=({startRotation:t=[0,0,0],group:e})=>{const n=new yr().setFromEuler(e.current.rotation),r=new yr().setFromEuler(new Nu().setFromVector3(new Q(...t))),i=new yr().slerpQuaternions(n,r,.1);e.current.rotation.setFromQuaternion(i)},AHe=Math.random(),wF=({active:t,disabled:e,unstable:n,...r})=>{const{isHovering:i,...s}=oY(!0,e?"help":"pointer"),o=z.exports.useRef(),a=r.position,l=!("position"in r);return $h(({clock:u},f)=>{if(!l){if(n&&bHe({group:o,clock:u,scale:.3,startPos:t?[0,0,a[2]]:a}),e){ET({group:o,clock:u,delta:f,scale:.2});return}if(t){wHe({group:o}),ET({group:o,clock:u,delta:f});return}if(i){_He({group:o,startPosition:r.position});return}SHe({group:o,startRotation:[0,0,0]}),xHe({group:o,startPosition:r.position,time:u.getElapsedTime(),offset:AHe})}}),l?(console.error("icon missing position"),null):W("group",{ref:o,...r,...s,dispose:null,children:r.children})},xg=({material:t,...e})=>W(wF,{...e,children:W(mHe,{children:W(xF,{...t})})}),EHe=({material:t,...e})=>W(wF,{...e,children:W(gHe,{children:W(xF,{color:"white",roughness:1,metalness:1.2,...t})})}),THe=({material:t,...e})=>W(wF,{...e,children:W(yHe,{children:W(xF,{color:"purple",wireframe:!0,roughness:1,metalness:1.2,...t})})}),LI={tickets:[{productId:"ticket-shell-night-1",Component:t=>W(xg,{material:{color:"#474747",preset:"frozen"},...t})},{productId:"ticket-shell-night-2",Component:t=>W(xg,{material:{color:"#474747",preset:"frozen"},...t})},{productId:"ticket-shell-night-3",Component:t=>W(xg,{unstable:!1,material:{color:"#474747",preset:"frozen"},...t})},{productId:"ticket-shell-night-4",Component:t=>W(xg,{material:{color:"#474747",preset:"frozen"},...t})},{productId:"ticket-skyline-soul",Component:t=>W(xg,{material:{color:"blue",preset:"normal"},...t})}],digital:[{productId:"digital-cloudgirl",Component:t=>W(EHe,{material:{color:"white",preset:"normal",wireframe:!0},...t})}],jewlerry:[{productId:"ticket-shell-night-external",Component:t=>W(xg,{material:{preset:"normal",roughness:1,metalness:.4,wireframe:!0,textureOpts:{image:"flyer.webp",scale:.015}},...t})}]},N9=t=>{let e;const n=new Set,r=(l,u)=>{const f=typeof l=="function"?l(e):l;if(f!==e){const c=e;e=(u!=null?u:typeof f!="object")?f:Object.assign({},e,f),n.forEach(h=>h(e,c))}},i=()=>e,a={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>n.clear()};return e=t(r,i,a),a},CHe=t=>t?N9(t):N9;var aY={exports:{}},lY={},uY={exports:{}},cY={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=z.exports;function MHe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RHe=typeof Object.is=="function"?Object.is:MHe,IHe=gy.useState,LHe=gy.useEffect,PHe=gy.useLayoutEffect,DHe=gy.useDebugValue;function BHe(t,e){var n=e(),r=IHe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return PHe(function(){i.value=n,i.getSnapshot=e,PI(i)&&s({inst:i})},[t,n,e]),LHe(function(){return PI(i)&&s({inst:i}),t(function(){PI(i)&&s({inst:i})})},[t]),DHe(n),n}function PI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!RHe(t,n)}catch{return!0}}function OHe(t,e){return e()}var kHe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?OHe:BHe;cY.useSyncExternalStore=gy.useSyncExternalStore!==void 0?gy.useSyncExternalStore:kHe;(function(t){t.exports=cY})(uY);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM=z.exports,FHe=uY.exports;function NHe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var UHe=typeof Object.is=="function"?Object.is:NHe,HHe=FHe.useSyncExternalStore,GHe=MM.useRef,zHe=MM.useEffect,$He=MM.useMemo,VHe=MM.useDebugValue;lY.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=GHe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=$He(function(){function l(g){if(!u){if(u=!0,f=g,g=r(g),i!==void 0&&o.hasValue){var y=o.value;if(i(y,g))return c=y}return c=g}if(y=c,UHe(f,g))return y;var _=r(g);return i!==void 0&&i(y,_)?y:(f=g,c=_)}var u=!1,f,c,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=HHe(t,s[0],s[1]);return zHe(function(){o.hasValue=!0,o.value=a},[a]),VHe(a),a};(function(t){t.exports=lY})(aY);const WHe=by(aY.exports),{useSyncExternalStoreWithSelector:jHe}=WHe;function qHe(t,e=t.getState,n){const r=jHe(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return z.exports.useDebugValue(r),r}const U9=t=>{const e=typeof t=="function"?CHe(t):t,n=(r,i)=>qHe(e,r,i);return Object.assign(n,e),n},KHe=t=>t?U9(t):U9;var QHe=KHe;const tE=QHe()(t=>({activeIcon:void 0,setActiveIcon:e=>t(()=>({activeIcon:e})),resetActiveIcon:()=>t(()=>({activeIcon:void 0}))})),DI=[[0,1],[1.2,.1],[.7,-1.2],[-.7,-1.2],[-1.2,.1]],JHe={tickets:DI.map(([t,e])=>[t,e,0]),digital:DI.map(([t,e])=>[t,e,-10]),jewlerry:DI.map(([t,e])=>[t,e,-20])};function XHe(){const t=tE(i=>i.activeIcon),e=tE(i=>i.setActiveIcon),n=tE(i=>i.resetActiveIcon),[r]=Vh();return W(BD,{children:Object.keys(LI).map(i=>{const s=i in LI?LI[i]:void 0,o=JHe[i];return s?St(ut.Fragment,{children:[s.map(({productId:a,Component:l},u)=>{const f=o[u];return W(z.exports.Suspense,{fallback:null,children:W(l,{active:t===a,position:f,onClick:()=>{e(a)},onPointerMissed:()=>n(),disabled:!r.id.includes(i)},`${a}-${u}`)},`${a}-${u}`)}),AT.exports.times(o.length-s.length,a=>{const l=o[s.length+a];return W(THe,{position:l,material:{color:"purple"},disabled:!0,active:!1},a)})]},i):null})})}function YHe({rotate:t=[0,0,0],...e}){var l;const n=z.exports.useRef(),{nodes:r}=Bo("https://assets.ctfassets.net/tgf8h0ayfqy8/5EsE6LAZW0ivtSldZlhM7v/0fca71829474a2061e1c643137fc8213/london.glb");let i=0;const s=z.exports.useContext(yO),[o]=ku(),a=(l=s[o].city)!=null?l:"lime";return $h(()=>{if(i<1){i+=.01,i=Math.round(i*100)/100;const u=n.current.children[0].children[0].children;for(let f=0;f<u.length;f++)n.current.children[0].children[0].children[f].material.opacity=i}}),W("group",{ref:n,...e,dispose:null,children:W("group",{name:"Scene",children:W("group",{name:"map_(2)osm_buildings",position:[.69,.81,.36],scale:.1,children:Object.keys(r).map(u=>{const{geometry:f}=r[u];return W("mesh",{name:u,geometry:f,children:W("meshPhysicalMaterial",{attach:"material",transparent:!0,opacity:0,color:a,wireframe:!0,wireframeLinewidth:.1})},u)})})})})}Bo.preload("https://assets.ctfassets.net/tgf8h0ayfqy8/5EsE6LAZW0ivtSldZlhM7v/0fca71829474a2061e1c643137fc8213/london.glb");var y_={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-y_.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?y_.Bounce.In(t*2)*.5:y_.Bounce.Out(t*2-1)*.5+.5}}},K1;typeof self>"u"&&typeof process<"u"&&process.hrtime?K1=function(){var t=process.hrtime();return t[0]*1e3+t[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?K1=self.performance.now.bind(self.performance):Date.now!==void 0?K1=Date.now:K1=function(){return new Date().getTime()};var ep=K1,fY=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(n){return e._tweens[n]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,n){e===void 0&&(e=ep()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var s=this._tweens[r[i]],o=!n;s&&s.update(e,o)===!1&&!n&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),c0={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),s=c0.Utils.Linear;return e<0?s(t[0],t[1],r):e>1?s(t[n],t[n-1],n-r):s(t[i],t[i+1>n?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,s=c0.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-e,r-o)*i(e,o)*t[o]*s(r,o);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),s=c0.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),s(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(s(t[0],t[0],t[1],t[1],-r)-t[0]):e>1?t[n]-(s(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):s(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=c0.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var t=[1];return function(e){var n=1;if(t[e])return t[e];for(var r=e;r>1;r--)n*=r;return t[e]=n,n}}(),CatmullRom:function(t,e,n,r,i){var s=(n-t)*.5,o=(r-e)*.5,a=i*i,l=i*a;return(2*e-2*n+s+o)*l+(-3*e+3*n-2*s-o)*a+s*i+e}}},bF=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),hY=new fY,ZHe=function(){function t(e,n){n===void 0&&(n=hY),this._object=e,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=y_.Linear.None,this._interpolationFunction=c0.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=bF.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,n){return this._valuesEnd=Object.create(e),n!==void 0&&(this._duration=n),this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e!==void 0?typeof e=="string"?ep()+parseFloat(e):e:ep(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(e,n,r,i){for(var s in r){var o=e[s],a=Array.isArray(o),l=a?"array":typeof o,u=!a&&Array.isArray(r[s]);if(!(l==="undefined"||l==="function")){if(u){var f=r[s];if(f.length===0)continue;f=f.map(this._handleRelativeValue.bind(this,o)),r[s]=[o].concat(f)}if((l==="object"||a)&&o&&!u){n[s]=a?[]:{};for(var c in o)n[s][c]=o[c];i[s]=a?[]:{},this._setupProperties(o,n[s],r[s],i[s])}else typeof n[s]>"u"&&(n[s]=o),a||(n[s]*=1),u?i[s]=r[s].slice().reverse():i[s]=n[s]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=ep()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=ep()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,n=this._chainedTweens.length;e<n;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return this._group=e,this},t.prototype.delay=function(e){return this._delayTime=e,this},t.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return this._yoyo=e,this},t.prototype.easing=function(e){return this._easingFunction=e,this},t.prototype.interpolation=function(e){return this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,n){if(e===void 0&&(e=ep()),n===void 0&&(n=!0),this._isPaused)return!0;var r,i,s=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>s)return!1;n&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(e-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var o=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]=="string"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,l=this._chainedTweens.length;a<l;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,n,r,i){for(var s in r)if(n[s]!==void 0){var o=n[s]||0,a=r[s],l=Array.isArray(e[s]),u=Array.isArray(a),f=!l&&u;f?e[s]=this._interpolationFunction(a,i):typeof a=="object"&&a?this._updateProperties(e[s],o,a,i):(a=this._handleRelativeValue(o,a),typeof a=="number"&&(e[s]=o+(a-o)*i))}},t.prototype._handleRelativeValue=function(e,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?e+parseFloat(n):parseFloat(n)},t.prototype._swapEndStartRepeatValues=function(e){var n=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=n},t}(),e9e="18.6.4",t9e=bF.nextId,Du=hY,n9e=Du.getAll.bind(Du),r9e=Du.removeAll.bind(Du),i9e=Du.add.bind(Du),s9e=Du.remove.bind(Du),o9e=Du.update.bind(Du),j3={Easing:y_,Group:fY,Interpolation:c0,now:ep,Sequence:bF,nextId:t9e,Tween:ZHe,VERSION:e9e,getAll:n9e,removeAll:r9e,add:i9e,remove:s9e,update:o9e};const a9e=({geometry:t,updateFn:e,startFn:n,setRotationFromAxisAngle:r,meshProps:i={},...s})=>{$h((u,f)=>{!o||e==null||e(o,a)(u,f)});const o=z.exports.useRef(),a=z.exports.useRef([]);z.exports.useEffect(()=>{o&&a&&(n==null||n(o,a))},[!!o,!!a]);const l=Array.isArray(t)?t:[t];return W("group",{ref:o,...s,dispose:null,children:l.map((u,f)=>W("mesh",{geometry:u,children:W("meshPhysicalMaterial",{ref:c=>{var h;return c&&((h=a==null?void 0:a.current)==null?void 0:h.push(c))},attach:"material",wireframe:!0,wireframeLinewidth:.1,...i})},f))})},l9e=t=>{var n;const{nodes:e}=Bo("https://assets.ctfassets.net/tgf8h0ayfqy8/24LcdELSCrEYpZGRsERk7k/1b7f74dd8d3e09d124e351be31287a7e/two-shell-icon.glb");return W(a9e,{scale:.03,rotation:[Math.PI/2,0,0],geometry:Object.values(e).map(r=>r.geometry),...t,meshProps:{color:"lime",...(n=t.meshProps)!=null?n:{}}})};Bo.preload("https://assets.ctfassets.net/tgf8h0ayfqy8/24LcdELSCrEYpZGRsERk7k/1b7f74dd8d3e09d124e351be31287a7e/two-shell-icon.glb");const uA=new j3.Tween({z:wo.sky.position.z-1e3}).to({z:wo.sky.position.z-15},2e3).easing(j3.Easing.Quadratic.Out),u9e=()=>{var r,i;const[t]=Vh(),n=((i=(r=ca("isactive",async()=>{if(t.id==="chat")return await xQ({uid:"twoshell"})},{refetchInterval:3e4,enabled:t.id==="chat"}).data)==null?void 0:r.data)!=null?i:!1)&&t.id==="chat";return z.exports.useEffect(()=>{!n||uA.isPlaying()||uA.start()},[n]),n?W(l9e,{position:[wo.sky.position.x,wo.sky.position.y-2,wo.sky.position.z+2],startFn:(s,o)=>{uA.onUpdate(a=>{!s.current||(s.current.position.z=a.z)})},updateFn:s=>(o,a)=>{uA.isPlaying()||ET({group:s,clock:o.clock,delta:a})},meshProps:{color:new qe("purple"),opacity:.1,wireframe:!0}}):null},c9e=t=>{const e=z.exports.useRef();return $h(t),e},f9e=()=>{const[{id:t}]=Vh(),e=t==="portal",n=new Q(wo.portal.position.x,wo.portal.position.y,wo.portal.position.z-5),{scene:r}=Bo("https://downloads.ctfassets.net/tgf8h0ayfqy8/1mWIYE0eAQiVhmrqA82eEK/de2c34928e55ed9c570fb9276747eae5/pearl1.glb");ku();const[i,s]=z.exports.useState("inactive"),o=oY(e&&i!=="done"),{start:a}=vHe(2,()=>{s("shrink")}),l=c9e((u,f)=>{!l.current||ET({group:l,clock:u.clock,delta:f,scale:.11,axis:[!1,!0,!1]})});return z.exports.useEffect(()=>{const u=new zh({color:new qe("white"),metalness:1,roughness:1});r.children.forEach((f,c)=>{f.material=u})},[]),W("group",{ref:l,...o,rotation:[Math.PI/2,0,0],scale:4,position:n,onClick:()=>{!e||i==="inactive"&&(s("glitch"),a())}})};Bo.preload("https://downloads.ctfassets.net/tgf8h0ayfqy8/1mWIYE0eAQiVhmrqA82eEK/de2c34928e55ed9c570fb9276747eae5/pearl1.glb");const h9e=({backgroundColor:t})=>($h(()=>{j3.update()}),W(BD,{children:St(OD,{children:[W("color",{attach:"background",args:[t]}),W("ambientLight",{intensity:.6}),W("pointLight",{args:["white",.99],position:[-5,5,5]}),W("pointLight",{args:["white",.99],position:[5,1,5]}),W("pointLight",{args:["white",.99],position:[5,5,-5]}),pHe.times(window.location.search.includes("mad-mode")?50:1,e=>W(XHe,{},e)),W(z.exports.Suspense,{children:W(f9e,{})}),W(z.exports.Suspense,{fallback:null,children:W(u9e,{})}),W(z.exports.Suspense,{fallback:null,children:W(YHe,{scale:1.5,position:[2.8,-29.25,-0],rotation:[0,1.6,1.6],rotate:[-.3,-.6,-.6]})})]})})),d9e=new X7,p9e=()=>{var n,r;const t=z.exports.useContext(yO),[e]=ku();return St(E8e,{className:"myCanvas",onClick:()=>{window.dispatchEvent(new CustomEvent("canvas-click"))},dpr:.1,camera:{position:wo.start.position,fov:70},children:[W(vj,{colors:{...bl,light:(n=t==null?void 0:t.light)!=null?n:bl.light,dark:(r=t==null?void 0:t.dark)!=null?r:bl.dark},children:St(tW,{client:d9e,children:[W(h9e,{backgroundColor:t[e].bg}),W(hHe,{})]})}),m9e()&&W(sHe,{}),!window.location.search.includes("disable-apr")&&W(g9e,{})]})},m9e=()=>window.location.search.includes("debug"),g9e=()=>{const[t,e]=z.exports.useState(.01),[n,r]=z.exports.useState(.5),[i,s]=z.exports.useState(.5),o=p8e();return z.exports.useEffect(()=>{o.setDpr(.25)},[]),W(aHe,{ms:30,onChange:a=>{if(a.fps>45){const l=Math.min(t+n,2);r(n*.5+.1),s(.4),e(l),o.setDpr(l)}if(a.fps<30){const l=Math.max(t-n,.15);s(i*.5+.1),r(.4),e(l),o.setDpr(l)}}})},y9e="modulepreload",v9e=function(t){return"/"+t},H9={},_9e=function(e,n,r){return!n||n.length===0?e():Promise.all(n.map(i=>{if(i=v9e(i),i in H9)return;H9[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${o}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":y9e,s||(a.as="script",a.crossOrigin=""),a.href=i,document.head.appendChild(a),s)return new Promise((l,u)=>{a.addEventListener("load",l),a.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function TT(){return TT=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TT.apply(this,arguments)}function x9e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function w9e(t){z.exports.useEffect(t,[])}function b9e(t,e){e===void 0&&(e={});var n=e,r=n.volume,i=r===void 0?1:r,s=n.playbackRate,o=s===void 0?1:s,a=n.soundEnabled,l=a===void 0?!0:a,u=n.interrupt,f=u===void 0?!1:u,c=n.onload,h=x9e(n,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),g=ut.useRef(null),y=ut.useRef(!1),_=ut.useState(null),x=_[0],w=_[1],b=ut.useState(null),E=b[0],C=b[1],M=function(){typeof c=="function"&&c.call(this),y.current&&w(this.duration()*1e3),C(this)};w9e(function(){return _9e(()=>Promise.resolve().then(()=>jqe),void 0).then(function(q){if(!y.current){var j;g.current=(j=q.Howl)!==null&&j!==void 0?j:q.default.Howl,y.current=!0,new g.current(TT({src:Array.isArray(t)?t:[t],volume:i,rate:o,onload:M},h))}}),function(){y.current=!1}}),ut.useEffect(function(){g.current&&E&&C(new g.current(TT({src:Array.isArray(t)?t:[t],volume:i,onload:M},h)))},[JSON.stringify(t)]),ut.useEffect(function(){E&&(E.volume(i),E.rate(o))},[i,o]);var P=ut.useCallback(function(q){typeof q>"u"&&(q={}),!(!E||!l&&!q.forceSoundEnabled)&&(f&&E.stop(),q.playbackRate&&E.rate(q.playbackRate),E.play(q.id))},[E,l,f]),D=ut.useCallback(function(q){!E||E.stop(q)},[E]),L=ut.useCallback(function(q){!E||E.pause(q)},[E]),O=[P,{sound:E,stop:D,pause:L,duration:x}];return O}const Sx=z.exports.forwardRef(({onChange:t,onEnter:e,value:n,...r},i)=>{var s,o,a;return Ke(bp,{sx:{flex:1,minWidth:"100px",position:"relative",fontSize:["12px","14px","16px"],...(s=r.sx)!=null?s:{}},className:"input",children:[Z("span",{sx:{left:"-10px",position:"absolute"},children:">"}),Z("input",{ref:i,className:"input",onInput:l=>{const u=l.target.value;t==null||t(u)},onKeyDown:l=>{l.key==="Enter"&&(e==null||e(n))},placeholder:(o=r.placeholder)!=null?o:"input",value:`${n}`,sx:{"::placeholder":{color:"currentcolor"},...(a=r.sx)!=null?a:{}},...r})]})}),S9e=t=>z.exports.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",display:"block"},width:"25px",height:"25px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",role:"img",...t},z.exports.createElement("polygon",{fill:"currentColor",points:"31.6,19 13.9,19 5,34.3 13.9,49.7 31.6,49.7 40.4,34.3"},z.exports.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"1;0.5;1",begin:"0s"})),z.exports.createElement("polygon",{fill:"currentColor",points:"58.9,3.1 41.1,3.1 32.3,18.4 41.1,33.7 58.9,33.7 67.7,18.4"},z.exports.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"1;0.5;1",begin:"-0.14285714285714285s"})),z.exports.createElement("polygon",{fill:"currentColor",points:"58.9,34.6 41.1,34.6 32.3,50 41.1,65.3 58.9,65.3 67.7,50"},z.exports.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"1;0.5;1",begin:"-0.2857142857142857s"})),z.exports.createElement("polygon",{fill:"currentColor",points:"58.9,66.3 41.1,66.3 32.3,81.6 41.1,96.9 58.9,96.9 67.7,81.6"},z.exports.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"1;0.5;1",begin:"-0.42857142857142855s"})),z.exports.createElement("polygon",{fill:"currentColor",points:"86.1,50.6 68.4,50.6 59.6,65.9 68.4,81.2 86.1,81.2 95,65.9"},z.exports.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"1;0.5;1",begin:"-0.5714285714285714s"})),z.exports.createElement("polygon",{fill:"currentColor",points:"86.1,19 68.4,19 59.6,34.3 68.4,49.7 86.1,49.7 95,34.3"},z.exports.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"1;0.5;1",begin:"-0.7142857142857143s"})),z.exports.createElement("polygon",{fill:"currentColor",points:"31.6,50.6 13.9,50.6 5,65.9 13.9,81.2 31.6,81.2 40.4,65.9"},z.exports.createElement("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",keyTimes:"0;0.5;1",values:"1;0.5;1",begin:"-0.8571428571428571s"}))),A9e=t=>z.exports.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",display:"block"},width:"25px",height:"25px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",role:"img",...t},z.exports.createElement("polygon",{fill:"currentColor",points:"31.6,19 13.9,19 5,34.3 13.9,49.7 31.6,49.7 40.4,34.3"}),z.exports.createElement("polygon",{fill:"currentColor",points:"58.9,3.1 41.1,3.1 32.3,18.4 41.1,33.7 58.9,33.7 67.7,18.4"}),z.exports.createElement("polygon",{fill:"currentColor",points:"58.9,34.6 41.1,34.6 32.3,50 41.1,65.3 58.9,65.3 67.7,50"}),z.exports.createElement("polygon",{fill:"currentColor",points:"58.9,66.3 41.1,66.3 32.3,81.6 41.1,96.9 58.9,96.9 67.7,81.6"}),z.exports.createElement("polygon",{fill:"currentColor",points:"86.1,50.6 68.4,50.6 59.6,65.9 68.4,81.2 86.1,81.2 95,65.9"}),z.exports.createElement("polygon",{fill:"currentColor",points:"86.1,19 68.4,19 59.6,34.3 68.4,49.7 86.1,49.7 95,34.3"}),z.exports.createElement("polygon",{fill:"currentColor",points:"31.6,50.6 13.9,50.6 5,65.9 13.9,81.2 31.6,81.2 40.4,65.9"})),E9e=Ou({from:{opacity:0},to:{opacity:1}}),T9e=Ou({from:{transform:"scale(0)"},to:{transform:"scale(1)"}}),C9e=Ou({from:{width:"75px",height:"75px"},to:{width:"0px",height:"0px",borderWidth:"0px"}}),M9e=Ou({from:{transform:"rotateY(0deg)"},to:{transform:"rotateY(360deg)"}}),R9e={idle:{borderStyle:"solid",width:"250px",height:"45px"},loading:{width:"80px",height:"80px",borderStyle:"dashed",borderColor:"pinkpurple",boxShadow:"20px 20px 60px #ff14ad, -10px -10px 40px #ff14ad"},success:{borderStyle:"solid",boxShadow:"20px 0px 60px white, -10px -10px 40px white",width:"75px",height:"75px",borderColor:"white"},link:{borderStyle:"solid",width:"70px",height:"70px",borderColor:"white"},fail:{width:"90px",height:"90px",borderStyle:"solid",boxShadow:"20px 20px 100px red, -10px -10px 100px red",borderColor:"red"},gone:{borderStyle:"solid",borderColor:"white",transform:"scale(1)",animation:`${C9e} 1s`,overflow:"hidden",animationFillMode:"forwards",animationDelay:"0s"}},I9e={transition:"height 0.2s, width 0.2s, border-style 1s, transform 4s, box-shadow 0.5s ease-in-out",backdropFilter:"blur(5px)",borderRadius:"2px",borderWidth:"1px",borderColor:"white",display:"flex",alignItems:"center",justifyContent:"center",width:"100px",height:"100px",transform:"scale(0)",animation:`${T9e} 1s`,animationFillMode:"forwards"},L9e=({onSubmit:t,onCheck:e})=>{const[n,r]=z.exports.useState("idle"),[i,s]=z.exports.useState(null),[o,a]=z.exports.useState(""),[l]=Vh(),[u]=ku(),f=y=>{y.key==="Escape"&&r("idle")},c=z.exports.useRef();z.exports.useEffect(()=>(document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}),[l]),z.exports.useEffect(()=>{},[l]),z.exports.useEffect(()=>{n==="idle"&&l.id==="idle"&&h()},[l.id,n]);const h=()=>{var y;(y=c.current)==null||y.focus()},g=async y=>{r("loading");const _=await P9e(async()=>await e(y));if(_.time<500&&await Q1(500-_.time),_.data instanceof Error){r("fail"),setTimeout(()=>{r("idle")},600);return}if(r("success"),_.data.__type==="stateChange"&&await Q1(600),await t(y),_.data.__type==="stateChange"){r("gone");return}if(_.data.__type==="link"){await Q1(400),r("link"),s(_.data.link);return}await Q1(600),r("idle")};return Z("div",{sx:{p:"12px",overflow:"hidden",borderRadius:"4px"},children:Z("div",{sx:{backgroundColor:u==="light"?"rgba(1,1,1,0.1)":"",...I9e,...R9e[n]},children:Ke(bp,{sx:{marginY:"2px",px:"gutter"},children:[n==="idle"&&Z(Sx,{onEnter:g,ref:c,sx:{textAlign:"center",pointerEvents:"all",overflow:"visible",color:u==="light"?"#fe4e02":"text",width:"100%",fontSize:["32px"],marginRight:0},value:o,placeholder:"",onChange:y=>a(y)}),(n==="success"||n==="fail"||n==="gone")&&Z("div",{sx:{color:n==="success"||n==="gone"?"white":"red",position:"absolute",right:"50%",top:"50%",transform:"translate(50%, -50%)",margin:"auto"},children:Z(A9e,{})}),n==="loading"&&Z("div",{sx:{animation:`${E9e} 1s backwards`,color:"pinkpurple"},children:Z(S9e,{})}),n==="link"&&i&&Z("a",{href:i!=null?i:"",target:"_blank",rel:"noreferrer",sx:{pointerEvents:"all",fontSize:"32px",textDecoration:"none",animation:`${M9e} 1s infinite`},onClick:()=>r("idle"),children:"\u{1F517}"})]})})})},P9e=async t=>{const e=r=>({data:r,time:performance.now()-n}),n=performance.now();return await t().then(e,e)},Q1=async t=>await new Promise(e=>setTimeout(e,t)),BI=({onClick:t,variant:e,children:n})=>{const[r,i]=z.exports.useState(!1),s=async()=>{i(!0),t==null||t(),await Q1(200),i(!1)},o={left:{borderBottomLeftRadius:"10px",borderTopLeftRadius:"10px",borderTopRightRadius:"4px",borderBottomRightRadius:"4px"},mid:{borderRadius:"6px"},right:{borderBottomRightRadius:"10px",borderTopRightRadius:"10px",borderTopLeftRadius:"4px",borderBottomLeftRadius:"4px"}}[e];return Z("div",{onClick:s,sx:{backgroundImage:r?"linear-gradient(180deg, #222 0%, #111 100%)":"linear-gradient(180deg, #111 0%, #222 100%)",width:"64px",height:"32px",display:"flex",justifyContent:"center",alignItems:"center",...o},children:n})};var dY={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G9=ut.createContext&&ut.createContext(dY),ah=globalThis&&globalThis.__assign||function(){return ah=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ah.apply(this,arguments)},D9e=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function pY(t){return t&&t.map(function(e,n){return ut.createElement(e.tag,ah({key:n},e.attr),pY(e.child))})}function SF(t){return function(e){return W(B9e,{...ah({attr:ah({},t.attr)},e),children:pY(t.child)})}}function B9e(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=D9e(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),St("svg",{...ah({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ah(ah({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),children:[s&&W("title",{children:s}),t.children]})};return G9!==void 0?W(G9.Consumer,{children:function(n){return e(n)}}):e(dY)}function O9e(t){return SF({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"}}]})(t)}function k9e(t){return SF({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 19 22 12 13 5 13 19"}},{tag:"polygon",attr:{points:"2 19 11 12 2 5 2 19"}}]})(t)}function F9e(t){return SF({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 19 2 12 11 5 11 19"}},{tag:"polygon",attr:{points:"22 19 13 12 22 5 22 19"}}]})(t)}const N9e=Ou`
  0%,49% {
    border-right-color: transparent;
  }
  50%,
  100% {
    border-right-color: currentColor;
  }
`,U9e=Ou({"0%":{transform:"perspective(800px)",boxShadow:"0px 0px 20px 2px #37AAF9"},"50%":{boxShadow:"0px 0px 40px 8px #37AAF9"},"100%":{boxShadow:"0px 0px 20px 2px #37AAF9"}}),H9e=Ou`
  0%,49% {
    opacity:0.85;
  }
  98%,
  100% {
    opacity:1;
  }
`,G9e=Ou`
  0% {
    background-position: 0 -100vh;
  }
  35%,
  100% {
    background-position: 0 100vh;
  }

`,z9e=y$`
  border-radius: 1em;
  background-color: #82829d;
  background-image: radial-gradient(
    ellipse 500% 100% at 50% 90%,
    transparent,
    #82829d
  );
  background-position: center;
  display: block;
  padding: 2em;
  box-shadow: inset 0 0 10em 1em rgba(0, 0, 0, 0.5);
  overflow: hidden;
  font-family: monospace;
  color: rgba(168, 221, 225, 0.8);
  ::before {
    position: absolute;
    content: '';
    display: block;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    background-image: linear-gradient(
      0deg,
      transparent 0%,
      rgba(168, 221, 225, 0.2) 2%,
      rgba(168, 221, 225, 0.8) 3%,
      rgba(168, 221, 225, 0.2) 3%,
      transparent 100%
    );
    background-repeat: no-repeat;
    animation: ${G9e} 7.5s linear 0s infinite;
  }
  ::after {
    position: absolute;
    content: '';
    display: block;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    background-image: radial-gradient(
        ellipse 50% 15% at 50% 15%,
        rgba(255, 255, 255, 0.05),
        transparent
      ),
      radial-gradient(
        ellipse 50% 10% at 50% 12%,
        rgba(255, 255, 255, 0.1),
        transparent
      ),
      radial-gradient(
        ellipse 50% 5% at 50% 10%,
        rgba(255, 255, 255, 0.1),
        transparent
      ),
      radial-gradient(
        ellipse 50% 3% at 50% 9%,
        rgba(255, 255, 255, 0.1),
        transparent
      ),
      radial-gradient(
        ellipse 200% 20% at 50% 0%,
        rgba(0, 0, 0, 0.5),
        transparent
      ),
      linear-gradient(0deg, rgba(0, 0, 0, 0.2) 50%, transparent 50%);
    background-size: 100%, 100%, 100%, 100%, 100%, 100% 0.25ch;
  }
  q {
    border-right: 0 solid currentColor;
    animation: ${N9e} 500ms linear 0s infinite;
    text-shadow: 0 0 1ex #3f3, 0 0 2px rgba(255, 255, 255, 0.8);
    margin-bottom: 1em;
    line-height: 150%;
  }
  q::before {
    content: '> ';
  }
  q:last-child {
    border-right-width: 1ch;
  }
`;var AF={};Object.defineProperty(AF,"__esModule",{value:!0});var mY=AF.default=void 0,z9=V9e(z.exports),Bi=$9e(ze.exports);function $9e(t){return t&&t.__esModule?t:{default:t}}function V9e(t){if(t&&t.__esModule)return t;var e={};if(t!=null){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}}return e.default=t,e}function W9e(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function nE(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nE=function(n){return typeof n}:nE=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nE(t)}function j9e(t,e){if(!W9e(t,e))throw new TypeError("Cannot call a class as a function")}function $9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q9e(t,e,n){return e&&$9(t.prototype,e),n&&$9(t,n),t}function K9e(t,e){return e&&(nE(e)==="object"||typeof e=="function")?e:zg(t)}function q3(t){return q3=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},q3(t)}function zg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K3(t,e)}function K3(t,e){return K3=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},K3(t,e)}function D1(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var EF=function(t){Q9e(e,t);function e(n){var r;return j9e(this,e),r=K9e(this,q3(e).call(this,n)),D1(zg(r),"initAudioEvents",function(){var i=r.audioEle;i&&(i.onpause=function(s){r.playStatus="PAUSED"},i.onplay=function(s){r.playStatus="PLAYING",r.prepareAPIs();var o=r.setupAudioNode(r.audioEle);r.drawSpectrum(o)})}),D1(zg(r),"drawSpectrum",function(i){var s=r.audioCanvas.width,o=r.audioCanvas.height-r.props.capHeight,a=[],l=r.audioCanvas.getContext("2d"),u=l.createLinearGradient(0,0,0,300);if(r.props.meterColor.constructor===Array)for(var f=r.props.meterColor,c=f.length,h=0;h<c;h++)u.addColorStop(f[h].stop,f[h].color);else typeof r.props.meterColor=="string"&&(u=r.props.meterColor);var g=function y(){var _=new Uint8Array(i.frequencyBinCount);if(i.getByteFrequencyData(_),r.playStatus==="PAUSED"){for(var x=_.length-1;x>=0;x--)_[x]=0;var w=!a.some(function(O){return O>0});if(w){l.clearRect(0,0,s,o+r.props.capHeight),cancelAnimationFrame(r.animationId);return}}var b=Math.round(_.length/r.props.meterCount);l.clearRect(0,0,s,o+r.props.capHeight);for(var E=0;E<r.props.meterCount;E++){var C=_[E*b];if(a.length<Math.round(r.props.meterCount)&&a.push(C),l.fillStyle=r.props.capColor,C<a[E]){var M=--a[E],P=(270-M)*o/270;l.fillRect(E*(r.props.meterWidth+r.props.gap),P,r.props.meterWidth,r.props.capHeight)}else{var D=(270-C)*o/270;l.fillRect(E*(r.props.meterWidth+r.props.gap),D,r.props.meterWidth,r.props.capHeight),a[E]=C}l.fillStyle=u;var L=(270-C)*o/270+r.props.capHeight;l.fillRect(E*(r.props.meterWidth+r.props.gap),L,r.props.meterWidth,o)}r.animationId=requestAnimationFrame(y)};r.animationId=requestAnimationFrame(g)}),D1(zg(r),"setupAudioNode",function(i){return r.analyser||(r.analyser=r.audioContext.createAnalyser(),r.analyser.smoothingTimeConstant=.8,r.analyser.fftSize=2048),r.mediaEleSource||(r.mediaEleSource=r.audioContext.createMediaElementSource(i),r.mediaEleSource.connect(r.analyser),r.mediaEleSource.connect(r.audioContext.destination)),r.analyser}),D1(zg(r),"prepareElements",function(){var i=r.props,s=i.audioId,o=i.audioEle;if(!s&&!o){console.log("target audio not found!");return}else s?r.audioEle=document.getElementById(s):r.audioEle=o;r.audioCanvas=document.getElementById(r.canvasId)}),D1(zg(r),"prepareAPIs",function(){window.AudioContext=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,window.cancelAnimationFrame=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame;try{r.audioContext=new window.AudioContext}catch(i){console.log(i)}}),r.animationId=null,r.audioContext=null,r.audioEle=null,r.audioCanvas=null,r.playStatus=null,r.canvasId=r.props.id||r.getRandomId(50),r.mediaEleSource=null,r.analyser=null,r}return q9e(e,[{key:"getRandomId",value:function(r){for(var i="1234567890-qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM",s=i.length,o="",a=0;a<r;a++){var l=Math.floor(Math.random()*s);o+=i[l]}return o}},{key:"componentDidMount",value:function(){this.prepareElements(),this.initAudioEvents()}},{key:"render",value:function(){return z9.default.createElement("canvas",{id:this.canvasId,width:this.props.width,height:this.props.height})}}]),e}(z9.Component);EF.propTypes={id:Bi.default.oneOfType([Bi.default.string,Bi.default.number]),width:Bi.default.number,height:Bi.default.number,audioId:Bi.default.string,audioEle:Bi.default.object,capColor:Bi.default.string,capHeight:Bi.default.number,meterWidth:Bi.default.number,meterCount:Bi.default.number,meterColor:Bi.default.oneOfType([Bi.default.string,Bi.default.arrayOf(Bi.default.shape({stop:Bi.default.number,color:Bi.default.string}))]),gap:Bi.default.number};EF.defaultProps={width:300,height:200,capColor:"#FFF",capHeight:2,meterWidth:2,meterCount:40*(2+2),meterColor:[{stop:0,color:"#f00"},{stop:.5,color:"#0CD7FD"},{stop:1,color:"red"}],gap:10};var J9e=EF;mY=AF.default=J9e;function X9e(){return W(mY,{id:"audio-canvas2",sx:{width:"100%",height:"100px"},width:"400px",height:"100px",audioId:"audio-element",capColor:"black",capHeight:0,meterWidth:40,meterCount:12,meterColor:[{stop:1,color:"#fFD7FD"}],gap:0})}const OI=({sx:t})=>Z("div",{sx:{width:"1px",zIndex:-1,animation:`${U9e} ease-in 10s infinite`,backgroundColor:"#37AAF9",opacity:1,height:"8px",...t}}),Y9e=()=>St("svg",{width:"150px",height:"32px",xmlns:"http://www.w3.org/2000/svg",viewBox:"-27.271856689453102 9.5 554.5437133789062 131",preserveAspectRatio:"xMidYMid",children:[W("defs",{children:St("filter",{id:"editing-hole",x:"-100%",y:"-100%",width:"300%",height:"300%",children:[W("feFlood",{floodColor:"#000",result:"black"}),W("feMorphology",{operator:"dilate",radius:"2",in:"SourceGraphic",result:"erode"}),W("feGaussianBlur",{in:"erode",stdDeviation:"4",result:"blur"}),W("feOffset",{in:"blur",dx:"2",dy:"2",result:"offset"}),W("feComposite",{operator:"atop",in:"offset",in2:"black",result:"merge"}),W("feComposite",{operator:"in",in:"merge",in2:"SourceGraphic",result:"inner-shadow"})]})}),W("g",{filter:"url(#editing-hole)",children:W("g",{transform:"translate(52.90498328208923, 106.36000061035156)",children:W("path",{d:"M36.47-11.41L36.47-11.41L36.47-11.41Q36.47-9.31 35.94-7.64L35.94-7.64L35.94-7.64Q35.41-5.97 34.53-4.70L34.53-4.70L34.53-4.70Q33.66-3.44 32.50-2.55L32.50-2.55L32.50-2.55Q31.34-1.66 30.08-1.09L30.08-1.09L30.08-1.09Q28.81-0.53 27.52-0.27L27.52-0.27L27.52-0.27Q26.22 0 25.06 0L25.06 0L3.06 0L3.06-8.13L25-8.13L25-8.13Q26.66-8.13 27.50-8.97L27.50-8.97L27.50-8.97Q28.34-9.81 28.34-11.41L28.34-11.41L28.34-11.41Q28.19-14.66 25.06-14.66L25.06-14.66L12.47-14.66L12.47-14.66Q9.78-14.66 7.91-15.59L7.91-15.59L7.91-15.59Q6.03-16.53 4.86-17.94L4.86-17.94L4.86-17.94Q3.69-19.34 3.17-20.97L3.17-20.97L3.17-20.97Q2.66-22.59 2.66-24L2.66-24L2.66-24Q2.66-26.72 3.63-28.58L3.63-28.58L3.63-28.58Q4.59-30.44 6.06-31.59L6.06-31.59L6.06-31.59Q7.53-32.75 9.25-33.27L9.25-33.27L9.25-33.27Q10.97-33.78 12.47-33.78L12.47-33.78L32.44-33.78L32.44-25.66L12.53-25.66L12.53-25.66Q11.91-25.66 11.55-25.52L11.55-25.52L11.55-25.52Q11.19-25.38 11.02-25.14L11.02-25.14L11.02-25.14Q10.84-24.91 10.81-24.64L10.81-24.64L10.81-24.64Q10.78-24.38 10.78-24.13L10.78-24.13L10.78-24.13Q10.81-23.63 10.97-23.34L10.97-23.34L10.97-23.34Q11.13-23.06 11.36-22.94L11.36-22.94L11.36-22.94Q11.59-22.81 11.89-22.80L11.89-22.80L11.89-22.80Q12.19-22.78 12.47-22.78L12.47-22.78L25.06-22.78L25.06-22.78Q28.19-22.78 30.38-21.66L30.38-21.66L30.38-21.66Q32.56-20.53 33.91-18.83L33.91-18.83L33.91-18.83Q35.25-17.13 35.86-15.13L35.86-15.13L35.86-15.13Q36.47-13.13 36.47-11.41ZM79.72-22.41L79.72 0L71.59 0L71.59-22.41L71.59-22.41Q71.59-24 70.78-24.83L70.78-24.83L70.78-24.83Q69.97-25.66 68.34-25.66L68.34-25.66L53.69-25.66L53.69-33.78L68.34-33.78L68.34-33.78Q69.50-33.78 70.78-33.52L70.78-33.52L70.78-33.52Q72.06-33.25 73.33-32.69L73.33-32.69L73.33-32.69Q74.59-32.13 75.75-31.23L75.75-31.23L75.75-31.23Q76.91-30.34 77.78-29.08L77.78-29.08L77.78-29.08Q78.66-27.81 79.19-26.16L79.19-26.16L79.19-26.16Q79.72-24.50 79.72-22.41L79.72-22.41ZM50.41-48.06L50.41 0L42.28 0L42.28-48.06L50.41-48.06ZM123.50-22.59L123.50-22.59L123.50-22.59Q123.50-20.91 122.91-18.95L122.91-18.95L122.91-18.95Q122.31-17 120.98-15.33L120.98-15.33L120.98-15.33Q119.66-13.66 117.52-12.53L117.52-12.53L117.52-12.53Q115.38-11.41 112.31-11.41L112.31-11.41L97.66-11.41L97.66-19.13L112.31-19.13L112.31-19.13Q113.97-19.13 114.88-20.14L114.88-20.14L114.88-20.14Q115.78-21.16 115.78-22.66L115.78-22.66L115.78-22.66Q115.78-24.25 114.77-25.16L114.77-25.16L114.77-25.16Q113.75-26.06 112.31-26.06L112.31-26.06L97.66-26.06L97.66-26.06Q96-26.06 95.09-25.05L95.09-25.05L95.09-25.05Q94.19-24.03 94.19-22.53L94.19-22.53L94.19-11.19L94.19-11.19Q94.19-9.56 95.20-8.66L95.20-8.66L95.20-8.66Q96.22-7.75 97.72-7.75L97.72-7.75L112.31-7.75L112.31 0L97.66 0L97.66 0Q95.97 0 94.02-0.59L94.02-0.59L94.02-0.59Q92.06-1.19 90.39-2.52L90.39-2.52L90.39-2.52Q88.72-3.84 87.59-5.98L87.59-5.98L87.59-5.98Q86.47-8.13 86.47-11.19L86.47-11.19L86.47-22.59L86.47-22.59Q86.47-24.28 87.06-26.23L87.06-26.23L87.06-26.23Q87.66-28.19 88.98-29.86L88.98-29.86L88.98-29.86Q90.31-31.53 92.45-32.66L92.45-32.66L92.45-32.66Q94.59-33.78 97.66-33.78L97.66-33.78L112.31-33.78L112.31-33.78Q114-33.78 115.95-33.19L115.95-33.19L115.95-33.19Q117.91-32.59 119.58-31.27L119.58-31.27L119.58-31.27Q121.25-29.94 122.38-27.80L122.38-27.80L122.38-27.80Q123.50-25.66 123.50-22.59ZM143.81-8.13L143.81 0L140.19 0L140.19 0Q138.44 0 136.45-0.59L136.45-0.59L136.45-0.59Q134.47-1.19 132.75-2.55L132.75-2.55L132.75-2.55Q131.03-3.91 129.91-6.08L129.91-6.08L129.91-6.08Q128.78-8.25 128.78-11.41L128.78-11.41L128.78-48.06L136.91-48.06L136.91-11.41L136.91-11.41Q136.91-9.91 137.84-9.02L137.84-9.02L137.84-9.02Q138.78-8.13 140.19-8.13L140.19-8.13L143.81-8.13ZM163.88-8.13L163.88 0L160.25 0L160.25 0Q158.50 0 156.52-0.59L156.52-0.59L156.52-0.59Q154.53-1.19 152.81-2.55L152.81-2.55L152.81-2.55Q151.09-3.91 149.97-6.08L149.97-6.08L149.97-6.08Q148.84-8.25 148.84-11.41L148.84-11.41L148.84-48.06L156.97-48.06L156.97-11.41L156.97-11.41Q156.97-9.91 157.91-9.02L157.91-9.02L157.91-9.02Q158.84-8.13 160.25-8.13L160.25-8.13L163.88-8.13ZM206.34-22.41L206.34-11.41L206.34-11.41Q206.34-9.31 205.81-7.64L205.81-7.64L205.81-7.64Q205.28-5.97 204.41-4.70L204.41-4.70L204.41-4.70Q203.53-3.44 202.38-2.55L202.38-2.55L202.38-2.55Q201.22-1.66 199.95-1.09L199.95-1.09L199.95-1.09Q198.69-0.53 197.41-0.27L197.41-0.27L197.41-0.27Q196.13 0 194.97 0L194.97 0L180.31 0L180.31-8.13L194.97-8.13L194.97-8.13Q196.59-8.13 197.41-8.97L197.41-8.97L197.41-8.97Q198.22-9.81 198.22-11.41L198.22-11.41L198.22-22.34L198.22-22.34Q198.22-24.03 197.39-24.84L197.39-24.84L197.39-24.84Q196.56-25.66 194.97-25.66L194.97-25.66L180.38-25.66L180.38-25.66Q178.72-25.66 177.88-24.83L177.88-24.83L177.88-24.83Q177.03-24 177.03-22.41L177.03-22.41L177.03 10.56L168.91 10.56L168.91-22.41L168.91-22.41Q168.91-24.50 169.44-26.16L169.44-26.16L169.44-26.16Q169.97-27.81 170.86-29.08L170.86-29.08L170.86-29.08Q171.75-30.34 172.91-31.23L172.91-31.23L172.91-31.23Q174.06-32.13 175.33-32.69L175.33-32.69L175.33-32.69Q176.59-33.25 177.89-33.52L177.89-33.52L177.89-33.52Q179.19-33.78 180.31-33.78L180.31-33.78L194.97-33.78L194.97-33.78Q197.06-33.78 198.72-33.25L198.72-33.25L198.72-33.25Q200.38-32.72 201.64-31.84L201.64-31.84L201.64-31.84Q202.91-30.97 203.80-29.81L203.80-29.81L203.80-29.81Q204.69-28.66 205.25-27.39L205.25-27.39L205.25-27.39Q205.81-26.13 206.08-24.84L206.08-24.84L206.08-24.84Q206.34-23.56 206.34-22.41L206.34-22.41ZM228.13-8.13L228.13 0L224.50 0L224.50 0Q222.75 0 220.77-0.59L220.77-0.59L220.77-0.59Q218.78-1.19 217.06-2.55L217.06-2.55L217.06-2.55Q215.34-3.91 214.22-6.08L214.22-6.08L214.22-6.08Q213.09-8.25 213.09-11.41L213.09-11.41L213.09-48.06L221.22-48.06L221.22-11.41L221.22-11.41Q221.22-9.91 222.16-9.02L222.16-9.02L222.16-9.02Q223.09-8.13 224.50-8.13L224.50-8.13L228.13-8.13ZM268.22-22.59L268.22-11.19L268.22-11.19Q268.22-9.50 267.63-7.55L267.63-7.55L267.63-7.55Q267.03-5.59 265.70-3.92L265.70-3.92L265.70-3.92Q264.38-2.25 262.23-1.13L262.23-1.13L262.23-1.13Q260.09 0 257.03 0L257.03 0L242.38 0L242.38 0Q240.69 0 238.73-0.59L238.73-0.59L238.73-0.59Q236.78-1.19 235.11-2.52L235.11-2.52L235.11-2.52Q233.44-3.84 232.31-5.98L232.31-5.98L232.31-5.98Q231.19-8.13 231.19-11.19L231.19-11.19L231.19-11.19Q231.19-12.88 231.78-14.84L231.78-14.84L231.78-14.84Q232.38-16.81 233.70-18.48L233.70-18.48L233.70-18.48Q235.03-20.16 237.17-21.28L237.17-21.28L237.17-21.28Q239.31-22.41 242.38-22.41L242.38-22.41L257.03-22.41L257.03-14.66L242.38-14.66L242.38-14.66Q240.72-14.66 239.81-13.64L239.81-13.64L239.81-13.64Q238.91-12.63 238.91-11.13L238.91-11.13L238.91-11.13Q238.91-9.53 239.95-8.64L239.95-8.64L239.95-8.64Q241-7.75 242.44-7.75L242.44-7.75L257.03-7.75L257.03-7.75Q258.69-7.75 259.59-8.75L259.59-8.75L259.59-8.75Q260.50-9.75 260.50-11.25L260.50-11.25L260.50-22.59L260.50-22.59Q260.50-24.19 259.52-25.13L259.52-25.13L259.52-25.13Q258.53-26.06 257.03-26.06L257.03-26.06L239.19-26.06L239.19-33.78L257.03-33.78L257.03-33.78Q258.72-33.78 260.67-33.19L260.67-33.19L260.67-33.19Q262.63-32.59 264.30-31.27L264.30-31.27L264.30-31.27Q265.97-29.94 267.09-27.80L267.09-27.80L267.09-27.80Q268.22-25.66 268.22-22.59L268.22-22.59ZM312.41-33.78L312.41 3.25L312.41 3.25Q312.41 5.34 311.88 7.02L311.88 7.02L311.88 7.02Q311.34 8.69 310.47 9.95L310.47 9.95L310.47 9.95Q309.59 11.22 308.44 12.11L308.44 12.11L308.44 12.11Q307.28 13 306.02 13.56L306.02 13.56L306.02 13.56Q304.75 14.13 303.47 14.39L303.47 14.39L303.47 14.39Q302.19 14.66 301.03 14.66L301.03 14.66L286.38 14.66L286.38 6.53L301.03 6.53L301.03 6.53Q302.66 6.53 303.47 5.69L303.47 5.69L303.47 5.69Q304.28 4.84 304.28 3.25L304.28 3.25L304.28-33.78L312.41-33.78ZM301.03-8.13L301.03 0L286.38 0L286.38 0Q284.63 0 282.64-0.59L282.64-0.59L282.64-0.59Q280.66-1.19 278.94-2.55L278.94-2.55L278.94-2.55Q277.22-3.91 276.09-6.08L276.09-6.08L276.09-6.08Q274.97-8.25 274.97-11.41L274.97-11.41L274.97-33.78L283.09-33.78L283.09-11.41L283.09-11.41Q283.09-9.81 283.94-8.97L283.94-8.97L283.94-8.97Q284.78-8.13 286.44-8.13L286.44-8.13L301.03-8.13ZM356.50-22.59L356.50-22.59L356.50-22.59Q356.50-20.91 355.91-18.95L355.91-18.95L355.91-18.95Q355.31-17 353.98-15.33L353.98-15.33L353.98-15.33Q352.66-13.66 350.52-12.53L350.52-12.53L350.52-12.53Q348.38-11.41 345.31-11.41L345.31-11.41L330.66-11.41L330.66-19.13L345.31-19.13L345.31-19.13Q346.97-19.13 347.88-20.14L347.88-20.14L347.88-20.14Q348.78-21.16 348.78-22.66L348.78-22.66L348.78-22.66Q348.78-24.25 347.77-25.16L347.77-25.16L347.77-25.16Q346.75-26.06 345.31-26.06L345.31-26.06L330.66-26.06L330.66-26.06Q329-26.06 328.09-25.05L328.09-25.05L328.09-25.05Q327.19-24.03 327.19-22.53L327.19-22.53L327.19-11.19L327.19-11.19Q327.19-9.56 328.20-8.66L328.20-8.66L328.20-8.66Q329.22-7.75 330.72-7.75L330.72-7.75L345.31-7.75L345.31 0L330.66 0L330.66 0Q328.97 0 327.02-0.59L327.02-0.59L327.02-0.59Q325.06-1.19 323.39-2.52L323.39-2.52L323.39-2.52Q321.72-3.84 320.59-5.98L320.59-5.98L320.59-5.98Q319.47-8.13 319.47-11.19L319.47-11.19L319.47-22.59L319.47-22.59Q319.47-24.28 320.06-26.23L320.06-26.23L320.06-26.23Q320.66-28.19 321.98-29.86L321.98-29.86L321.98-29.86Q323.31-31.53 325.45-32.66L325.45-32.66L325.45-32.66Q327.59-33.78 330.66-33.78L330.66-33.78L345.31-33.78L345.31-33.78Q347-33.78 348.95-33.19L348.95-33.19L348.95-33.19Q350.91-32.59 352.58-31.27L352.58-31.27L352.58-31.27Q354.25-29.94 355.38-27.80L355.38-27.80L355.38-27.80Q356.50-25.66 356.50-22.59ZM391.53-33.78L391.53-25.66L373.25-25.66L373.25-25.66Q371.59-25.66 370.75-24.83L370.75-24.83L370.75-24.83Q369.91-24 369.91-22.41L369.91-22.41L369.91 0L361.78 0L361.78-22.41L361.78-22.41Q361.78-24.50 362.31-26.16L362.31-26.16L362.31-26.16Q362.84-27.81 363.73-29.08L363.73-29.08L363.73-29.08Q364.63-30.34 365.78-31.23L365.78-31.23L365.78-31.23Q366.94-32.13 368.20-32.69L368.20-32.69L368.20-32.69Q369.47-33.25 370.77-33.52L370.77-33.52L370.77-33.52Q372.06-33.78 373.19-33.78L373.19-33.78L391.53-33.78Z",fill:"#ccc"})})})]});var RM={},Q3={exports:{}};(function(t,e){var n=typeof self<"u"?self:_n,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function l(F){return F&&DataView.prototype.isPrototypeOf(F)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(F){return F&&u.indexOf(Object.prototype.toString.call(F))>-1};function c(F){if(typeof F!="string"&&(F=String(F)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(F))throw new TypeError("Invalid character in header field name");return F.toLowerCase()}function h(F){return typeof F!="string"&&(F=String(F)),F}function g(F){var Y={next:function(){var H=F.shift();return{done:H===void 0,value:H}}};return a.iterable&&(Y[Symbol.iterator]=function(){return Y}),Y}function y(F){this.map={},F instanceof y?F.forEach(function(Y,H){this.append(H,Y)},this):Array.isArray(F)?F.forEach(function(Y){this.append(Y[0],Y[1])},this):F&&Object.getOwnPropertyNames(F).forEach(function(Y){this.append(Y,F[Y])},this)}y.prototype.append=function(F,Y){F=c(F),Y=h(Y);var H=this.map[F];this.map[F]=H?H+", "+Y:Y},y.prototype.delete=function(F){delete this.map[c(F)]},y.prototype.get=function(F){return F=c(F),this.has(F)?this.map[F]:null},y.prototype.has=function(F){return this.map.hasOwnProperty(c(F))},y.prototype.set=function(F,Y){this.map[c(F)]=h(Y)},y.prototype.forEach=function(F,Y){for(var H in this.map)this.map.hasOwnProperty(H)&&F.call(Y,this.map[H],H,this)},y.prototype.keys=function(){var F=[];return this.forEach(function(Y,H){F.push(H)}),g(F)},y.prototype.values=function(){var F=[];return this.forEach(function(Y){F.push(Y)}),g(F)},y.prototype.entries=function(){var F=[];return this.forEach(function(Y,H){F.push([H,Y])}),g(F)},a.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function _(F){if(F.bodyUsed)return Promise.reject(new TypeError("Already read"));F.bodyUsed=!0}function x(F){return new Promise(function(Y,H){F.onload=function(){Y(F.result)},F.onerror=function(){H(F.error)}})}function w(F){var Y=new FileReader,H=x(Y);return Y.readAsArrayBuffer(F),H}function b(F){var Y=new FileReader,H=x(Y);return Y.readAsText(F),H}function E(F){for(var Y=new Uint8Array(F),H=new Array(Y.length),ee=0;ee<Y.length;ee++)H[ee]=String.fromCharCode(Y[ee]);return H.join("")}function C(F){if(F.slice)return F.slice(0);var Y=new Uint8Array(F.byteLength);return Y.set(new Uint8Array(F)),Y.buffer}function M(){return this.bodyUsed=!1,this._initBody=function(F){this._bodyInit=F,F?typeof F=="string"?this._bodyText=F:a.blob&&Blob.prototype.isPrototypeOf(F)?this._bodyBlob=F:a.formData&&FormData.prototype.isPrototypeOf(F)?this._bodyFormData=F:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)?this._bodyText=F.toString():a.arrayBuffer&&a.blob&&l(F)?(this._bodyArrayBuffer=C(F.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(F)||f(F))?this._bodyArrayBuffer=C(F):this._bodyText=F=Object.prototype.toString.call(F):this._bodyText="",this.headers.get("content-type")||(typeof F=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(F)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var F=_(this);if(F)return F;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var F=_(this);if(F)return F;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(E(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var P=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(F){var Y=F.toUpperCase();return P.indexOf(Y)>-1?Y:F}function L(F,Y){Y=Y||{};var H=Y.body;if(F instanceof L){if(F.bodyUsed)throw new TypeError("Already read");this.url=F.url,this.credentials=F.credentials,Y.headers||(this.headers=new y(F.headers)),this.method=F.method,this.mode=F.mode,this.signal=F.signal,!H&&F._bodyInit!=null&&(H=F._bodyInit,F.bodyUsed=!0)}else this.url=String(F);if(this.credentials=Y.credentials||this.credentials||"same-origin",(Y.headers||!this.headers)&&(this.headers=new y(Y.headers)),this.method=D(Y.method||this.method||"GET"),this.mode=Y.mode||this.mode||null,this.signal=Y.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function O(F){var Y=new FormData;return F.trim().split("&").forEach(function(H){if(H){var ee=H.split("="),k=ee.shift().replace(/\+/g," "),G=ee.join("=").replace(/\+/g," ");Y.append(decodeURIComponent(k),decodeURIComponent(G))}}),Y}function q(F){var Y=new y,H=F.replace(/\r?\n[\t ]+/g," ");return H.split(/\r?\n/).forEach(function(ee){var k=ee.split(":"),G=k.shift().trim();if(G){var $=k.join(":").trim();Y.append(G,$)}}),Y}M.call(L.prototype);function j(F,Y){Y||(Y={}),this.type="default",this.status=Y.status===void 0?200:Y.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Y?Y.statusText:"OK",this.headers=new y(Y.headers),this.url=Y.url||"",this._initBody(F)}M.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},j.error=function(){var F=new j(null,{status:0,statusText:""});return F.type="error",F};var oe=[301,302,303,307,308];j.redirect=function(F,Y){if(oe.indexOf(Y)===-1)throw new RangeError("Invalid status code");return new j(null,{status:Y,headers:{location:F}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(Y,H){this.message=Y,this.name=H;var ee=Error(Y);this.stack=ee.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function le(F,Y){return new Promise(function(H,ee){var k=new L(F,Y);if(k.signal&&k.signal.aborted)return ee(new o.DOMException("Aborted","AbortError"));var G=new XMLHttpRequest;function $(){G.abort()}G.onload=function(){var ie={status:G.status,statusText:G.statusText,headers:q(G.getAllResponseHeaders()||"")};ie.url="responseURL"in G?G.responseURL:ie.headers.get("X-Request-URL");var ue="response"in G?G.response:G.responseText;H(new j(ue,ie))},G.onerror=function(){ee(new TypeError("Network request failed"))},G.ontimeout=function(){ee(new TypeError("Network request failed"))},G.onabort=function(){ee(new o.DOMException("Aborted","AbortError"))},G.open(k.method,k.url,!0),k.credentials==="include"?G.withCredentials=!0:k.credentials==="omit"&&(G.withCredentials=!1),"responseType"in G&&a.blob&&(G.responseType="blob"),k.headers.forEach(function(ie,ue){G.setRequestHeader(ue,ie)}),k.signal&&(k.signal.addEventListener("abort",$),G.onreadystatechange=function(){G.readyState===4&&k.signal.removeEventListener("abort",$)}),G.send(typeof k._bodyInit>"u"?null:k._bodyInit)})}return le.polyfill=!0,s.fetch||(s.fetch=le,s.Headers=y,s.Request=L,s.Response=j),o.Headers=y,o.Request=L,o.Response=j,o.fetch=le,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Q3,Q3.exports);function Z9e(t){return typeof t=="object"&&t!==null}function eGe(t,e){if(!Boolean(t))throw new Error(e!=null?e:"Unexpected invariant triggered.")}const tGe=/\r\n|[\n\r]/g;function J3(t,e){let n=0,r=1;for(const i of t.body.matchAll(tGe)){if(typeof i.index=="number"||eGe(!1),i.index>=e)break;n=i.index+i[0].length,r+=1}return{line:r,column:e+1-n}}function nGe(t){return gY(t.source,J3(t.source,t.start))}function gY(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,i=e.line-1,s=t.locationOffset.line-1,o=e.line+s,a=e.line===1?n:0,l=e.column+a,u=`${t.name}:${o}:${l}
`,f=r.split(/\r\n|[\n\r]/g),c=f[i];if(c.length>120){const h=Math.floor(l/80),g=l%80,y=[];for(let _=0;_<c.length;_+=80)y.push(c.slice(_,_+80));return u+V9([[`${o} |`,y[0]],...y.slice(1,h+1).map(_=>["|",_]),["|","^".padStart(g)],["|",y[h+1]]])}return u+V9([[`${o-1} |`,f[i-1]],[`${o} |`,c],["|","^".padStart(l)],[`${o+1} |`,f[i+1]]])}function V9(t){const e=t.filter(([r,i])=>i!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,i])=>r.padStart(n)+(i?" "+i:"")).join(`
`)}function rGe(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class TF extends Error{constructor(e,...n){var r,i,s;const{nodes:o,source:a,positions:l,path:u,originalError:f,extensions:c}=rGe(n);super(e),this.name="GraphQLError",this.path=u!=null?u:void 0,this.originalError=f!=null?f:void 0,this.nodes=W9(Array.isArray(o)?o:o?[o]:void 0);const h=W9((r=this.nodes)===null||r===void 0?void 0:r.map(y=>y.loc).filter(y=>y!=null));this.source=a!=null?a:h==null||(i=h[0])===null||i===void 0?void 0:i.source,this.positions=l!=null?l:h==null?void 0:h.map(y=>y.start),this.locations=l&&a?l.map(y=>J3(a,y)):h==null?void 0:h.map(y=>J3(y.source,y.start));const g=Z9e(f==null?void 0:f.extensions)?f==null?void 0:f.extensions:void 0;this.extensions=(s=c!=null?c:g)!==null&&s!==void 0?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),f!=null&&f.stack?Object.defineProperty(this,"stack",{value:f.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,TF):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+nGe(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+gY(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function W9(t){return t===void 0||t.length===0?void 0:t}function Zi(t,e,n){return new TF(`Syntax Error: ${n}`,{source:t,positions:[e]})}class iGe{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class yY{constructor(e,n,r,i,s,o){this.kind=e,this.start=n,this.end=r,this.line=i,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const vY={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},sGe=new Set(Object.keys(vY));function j9(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&sGe.has(e)}let f0;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(f0||(f0={}));let X3;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(X3||(X3={}));let Ht;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(Ht||(Ht={}));function Y3(t){return t===9||t===32}function Ax(t){return t>=48&&t<=57}function _Y(t){return t>=97&&t<=122||t>=65&&t<=90}function xY(t){return _Y(t)||t===95}function oGe(t){return _Y(t)||Ax(t)||t===95}function aGe(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let o=0;o<t.length;++o){var s;const a=t[o],l=lGe(a);l!==a.length&&(r=(s=r)!==null&&s!==void 0?s:o,i=o,o!==0&&l<n&&(n=l))}return t.map((o,a)=>a===0?o:o.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,i+1)}function lGe(t){let e=0;for(;e<t.length&&Y3(t.charCodeAt(e));)++e;return e}function uGe(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=r.length===1,s=r.length>1&&r.slice(1).every(g=>g.length===0||Y3(g.charCodeAt(0))),o=n.endsWith('\\"""'),a=t.endsWith('"')&&!o,l=t.endsWith("\\"),u=a||l,f=!(e!=null&&e.minimize)&&(!i||t.length>70||u||s||o);let c="";const h=i&&Y3(t.charCodeAt(0));return(f&&!h||s)&&(c+=`
`),c+=n,(f||u)&&(c+=`
`),'"""'+c+'"""'}let De;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(De||(De={}));class cGe{constructor(e){const n=new yY(De.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==De.EOF)do if(e.next)e=e.next;else{const n=hGe(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===De.COMMENT);return e}}function fGe(t){return t===De.BANG||t===De.DOLLAR||t===De.AMP||t===De.PAREN_L||t===De.PAREN_R||t===De.SPREAD||t===De.COLON||t===De.EQUALS||t===De.AT||t===De.BRACKET_L||t===De.BRACKET_R||t===De.BRACE_L||t===De.PIPE||t===De.BRACE_R}function ov(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function IM(t,e){return wY(t.charCodeAt(e))&&bY(t.charCodeAt(e+1))}function wY(t){return t>=55296&&t<=56319}function bY(t){return t>=56320&&t<=57343}function qp(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return De.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function ri(t,e,n,r,i){const s=t.line,o=1+n-t.lineStart;return new yY(e,n,r,s,o,i)}function hGe(t,e){const n=t.source.body,r=n.length;let i=e;for(;i<r;){const s=n.charCodeAt(i);switch(s){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:n.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return dGe(t,i);case 33:return ri(t,De.BANG,i,i+1);case 36:return ri(t,De.DOLLAR,i,i+1);case 38:return ri(t,De.AMP,i,i+1);case 40:return ri(t,De.PAREN_L,i,i+1);case 41:return ri(t,De.PAREN_R,i,i+1);case 46:if(n.charCodeAt(i+1)===46&&n.charCodeAt(i+2)===46)return ri(t,De.SPREAD,i,i+3);break;case 58:return ri(t,De.COLON,i,i+1);case 61:return ri(t,De.EQUALS,i,i+1);case 64:return ri(t,De.AT,i,i+1);case 91:return ri(t,De.BRACKET_L,i,i+1);case 93:return ri(t,De.BRACKET_R,i,i+1);case 123:return ri(t,De.BRACE_L,i,i+1);case 124:return ri(t,De.PIPE,i,i+1);case 125:return ri(t,De.BRACE_R,i,i+1);case 34:return n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34?_Ge(t,i):mGe(t,i)}if(Ax(s)||s===45)return pGe(t,i,s);if(xY(s))return xGe(t,i);throw Zi(t.source,i,s===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:ov(s)||IM(n,i)?`Unexpected character: ${qp(t,i)}.`:`Invalid character: ${qp(t,i)}.`)}return ri(t,De.EOF,r,r)}function dGe(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(s===10||s===13)break;if(ov(s))++i;else if(IM(n,i))i+=2;else break}return ri(t,De.COMMENT,e,i,n.slice(e+1,i))}function pGe(t,e,n){const r=t.source.body;let i=e,s=n,o=!1;if(s===45&&(s=r.charCodeAt(++i)),s===48){if(s=r.charCodeAt(++i),Ax(s))throw Zi(t.source,i,`Invalid number, unexpected digit after 0: ${qp(t,i)}.`)}else i=kI(t,i,s),s=r.charCodeAt(i);if(s===46&&(o=!0,s=r.charCodeAt(++i),i=kI(t,i,s),s=r.charCodeAt(i)),(s===69||s===101)&&(o=!0,s=r.charCodeAt(++i),(s===43||s===45)&&(s=r.charCodeAt(++i)),i=kI(t,i,s),s=r.charCodeAt(i)),s===46||xY(s))throw Zi(t.source,i,`Invalid number, expected digit but got: ${qp(t,i)}.`);return ri(t,o?De.FLOAT:De.INT,e,i,r.slice(e,i))}function kI(t,e,n){if(!Ax(n))throw Zi(t.source,e,`Invalid number, expected digit but got: ${qp(t,e)}.`);const r=t.source.body;let i=e+1;for(;Ax(r.charCodeAt(i));)++i;return i}function mGe(t,e){const n=t.source.body,r=n.length;let i=e+1,s=i,o="";for(;i<r;){const a=n.charCodeAt(i);if(a===34)return o+=n.slice(s,i),ri(t,De.STRING,e,i+1,o);if(a===92){o+=n.slice(s,i);const l=n.charCodeAt(i+1)===117?n.charCodeAt(i+2)===123?gGe(t,i):yGe(t,i):vGe(t,i);o+=l.value,i+=l.size,s=i;continue}if(a===10||a===13)break;if(ov(a))++i;else if(IM(n,i))i+=2;else throw Zi(t.source,i,`Invalid character within String: ${qp(t,i)}.`)}throw Zi(t.source,i,"Unterminated string.")}function gGe(t,e){const n=t.source.body;let r=0,i=3;for(;i<12;){const s=n.charCodeAt(e+i++);if(s===125){if(i<5||!ov(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|J1(s),r<0)break}throw Zi(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+i)}".`)}function yGe(t,e){const n=t.source.body,r=q9(n,e+2);if(ov(r))return{value:String.fromCodePoint(r),size:6};if(wY(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const i=q9(n,e+8);if(bY(i))return{value:String.fromCodePoint(r,i),size:12}}throw Zi(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function q9(t,e){return J1(t.charCodeAt(e))<<12|J1(t.charCodeAt(e+1))<<8|J1(t.charCodeAt(e+2))<<4|J1(t.charCodeAt(e+3))}function J1(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function vGe(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw Zi(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function _Ge(t,e){const n=t.source.body,r=n.length;let i=t.lineStart,s=e+3,o=s,a="";const l=[];for(;s<r;){const u=n.charCodeAt(s);if(u===34&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34){a+=n.slice(o,s),l.push(a);const f=ri(t,De.BLOCK_STRING,e,s+3,aGe(l).join(`
`));return t.line+=l.length-1,t.lineStart=i,f}if(u===92&&n.charCodeAt(s+1)===34&&n.charCodeAt(s+2)===34&&n.charCodeAt(s+3)===34){a+=n.slice(o,s),o=s+1,s+=4;continue}if(u===10||u===13){a+=n.slice(o,s),l.push(a),u===13&&n.charCodeAt(s+1)===10?s+=2:++s,a="",o=s,i=s;continue}if(ov(u))++s;else if(IM(n,s))s+=2;else throw Zi(t.source,s,`Invalid character within String: ${qp(t,s)}.`)}throw Zi(t.source,s,"Unterminated string.")}function xGe(t,e){const n=t.source.body,r=n.length;let i=e+1;for(;i<r;){const s=n.charCodeAt(i);if(oGe(s))++i;else break}return ri(t,De.NAME,e,i,n.slice(e,i))}function rE(t,e){if(!Boolean(t))throw new Error(e)}const wGe=10,SY=2;function AY(t){return LM(t,[])}function LM(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return bGe(t,e);default:return String(t)}}function bGe(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(SGe(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:LM(r,n)}else if(Array.isArray(t))return EGe(t,n);return AGe(t,n)}function SGe(t){return typeof t.toJSON=="function"}function AGe(t,e){const n=Object.entries(t);if(n.length===0)return"{}";if(e.length>SY)return"["+TGe(t)+"]";const r=n.map(([i,s])=>i+": "+LM(s,e));return"{ "+r.join(", ")+" }"}function EGe(t,e){if(t.length===0)return"[]";if(e.length>SY)return"[Array]";const n=Math.min(wGe,t.length),r=t.length-n,i=[];for(let s=0;s<n;++s)i.push(LM(t[s],e));return r===1?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}function TGe(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const CGe=function(e,n){return e instanceof n};class EY{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||rE(!1,`Body must be a string. Received: ${AY(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||rE(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||rE(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function MGe(t){return CGe(t,EY)}function RGe(t,e){return new Mw(t,e).parseDocument()}function IGe(t,e){const n=new Mw(t,e);n.expectToken(De.SOF);const r=n.parseValueLiteral(!1);return n.expectToken(De.EOF),r}function LGe(t,e){const n=new Mw(t,e);n.expectToken(De.SOF);const r=n.parseConstValueLiteral();return n.expectToken(De.EOF),r}function PGe(t,e){const n=new Mw(t,e);n.expectToken(De.SOF);const r=n.parseTypeReference();return n.expectToken(De.EOF),r}class Mw{constructor(e,n){const r=MGe(e)?e:new EY(e);this._lexer=new cGe(r),this._options=n}parseName(){const e=this.expectToken(De.NAME);return this.node(e,{kind:Ht.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:Ht.DOCUMENT,definitions:this.many(De.SOF,this.parseDefinition,De.EOF)})}parseDefinition(){if(this.peek(De.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===De.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw Zi(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(De.BRACE_L))return this.node(e,{kind:Ht.OPERATION_DEFINITION,operation:f0.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(De.NAME)&&(r=this.parseName()),this.node(e,{kind:Ht.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(De.NAME);switch(e.value){case"query":return f0.QUERY;case"mutation":return f0.MUTATION;case"subscription":return f0.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(De.PAREN_L,this.parseVariableDefinition,De.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:Ht.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(De.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(De.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(De.DOLLAR),this.node(e,{kind:Ht.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:Ht.SELECTION_SET,selections:this.many(De.BRACE_L,this.parseSelection,De.BRACE_R)})}parseSelection(){return this.peek(De.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,i;return this.expectOptionalToken(De.COLON)?(r=n,i=this.parseName()):i=n,this.node(e,{kind:Ht.FIELD,alias:r,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(De.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(De.PAREN_L,n,De.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(De.COLON),this.node(n,{kind:Ht.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(De.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(De.NAME)?this.node(e,{kind:Ht.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:Ht.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const n=this._lexer.token;return this.expectKeyword("fragment"),((e=this._options)===null||e===void 0?void 0:e.allowLegacyFragmentVariables)===!0?this.node(n,{kind:Ht.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(n,{kind:Ht.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case De.BRACKET_L:return this.parseList(e);case De.BRACE_L:return this.parseObject(e);case De.INT:return this._lexer.advance(),this.node(n,{kind:Ht.INT,value:n.value});case De.FLOAT:return this._lexer.advance(),this.node(n,{kind:Ht.FLOAT,value:n.value});case De.STRING:case De.BLOCK_STRING:return this.parseStringLiteral();case De.NAME:switch(this._lexer.advance(),n.value){case"true":return this.node(n,{kind:Ht.BOOLEAN,value:!0});case"false":return this.node(n,{kind:Ht.BOOLEAN,value:!1});case"null":return this.node(n,{kind:Ht.NULL});default:return this.node(n,{kind:Ht.ENUM,value:n.value})}case De.DOLLAR:if(e)if(this.expectToken(De.DOLLAR),this._lexer.token.kind===De.NAME){const r=this._lexer.token.value;throw Zi(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:Ht.STRING,value:e.value,block:e.kind===De.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:Ht.LIST,values:this.any(De.BRACKET_L,n,De.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:Ht.OBJECT,fields:this.any(De.BRACE_L,n,De.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(De.COLON),this.node(n,{kind:Ht.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(De.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(De.AT),this.node(n,{kind:Ht.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(De.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(De.BRACKET_R),n=this.node(e,{kind:Ht.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(De.BANG)?this.node(e,{kind:Ht.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:Ht.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(De.STRING)||this.peek(De.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),i=this.many(De.BRACE_L,this.parseOperationTypeDefinition,De.BRACE_R);return this.node(e,{kind:Ht.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:i})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(De.COLON);const r=this.parseNamedType();return this.node(e,{kind:Ht.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:Ht.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:i})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Ht.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(De.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(De.BRACE_L,this.parseFieldDefinition,De.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),i=this.parseArgumentDefs();this.expectToken(De.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:Ht.FIELD_DEFINITION,description:n,name:r,arguments:i,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(De.PAREN_L,this.parseInputValueDef,De.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(De.COLON);const i=this.parseTypeReference();let s;this.expectOptionalToken(De.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:Ht.INPUT_VALUE_DEFINITION,description:n,name:r,type:i,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:Ht.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:i,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:Ht.UNION_TYPE_DEFINITION,description:n,name:r,directives:i,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(De.EQUALS)?this.delimitedMany(De.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:Ht.ENUM_TYPE_DEFINITION,description:n,name:r,directives:i,values:s})}parseEnumValuesDefinition(){return this.optionalMany(De.BRACE_L,this.parseEnumValueDefinition,De.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:Ht.ENUM_VALUE_DEFINITION,description:n,name:r,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw Zi(this._lexer.source,this._lexer.token.start,`${cA(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),i=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:Ht.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:i,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(De.BRACE_L,this.parseInputValueDef,De.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===De.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(De.BRACE_L,this.parseOperationTypeDefinition,De.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:Ht.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:Ht.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:Ht.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(r.length===0&&i.length===0&&s.length===0)throw this.unexpected();return this.node(e,{kind:Ht.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:i,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Ht.UNION_TYPE_EXTENSION,name:n,directives:r,types:i})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Ht.ENUM_TYPE_EXTENSION,name:n,directives:r,values:i})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(r.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:Ht.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:i})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(De.AT);const r=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:Ht.DIRECTIVE_DEFINITION,description:n,name:r,arguments:i,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(De.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(X3,n.value))return n;throw this.unexpected(e)}node(e,n){var r;return((r=this._options)===null||r===void 0?void 0:r.noLocation)!==!0&&(n.loc=new iGe(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this._lexer.advance(),n;throw Zi(this._lexer.source,n.start,`Expected ${TY(e)}, found ${cA(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this._lexer.advance(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===De.NAME&&n.value===e)this._lexer.advance();else throw Zi(this._lexer.source,n.start,`Expected "${e}", found ${cA(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===De.NAME&&n.value===e?(this._lexer.advance(),!0):!1}unexpected(e){const n=e!=null?e:this._lexer.token;return Zi(this._lexer.source,n.start,`Unexpected ${cA(n)}.`)}any(e,n,r){this.expectToken(e);const i=[];for(;!this.expectOptionalToken(r);)i.push(n.call(this));return i}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}return[]}many(e,n,r){this.expectToken(e);const i=[];do i.push(n.call(this));while(!this.expectOptionalToken(r));return i}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}}function cA(t){const e=t.value;return TY(t.kind)+(e!=null?` "${e}"`:"")}function TY(t){return fGe(t)?`"${t}"`:t}const DGe=Object.freeze(Object.defineProperty({__proto__:null,parse:RGe,parseValue:IGe,parseConstValue:LGe,parseType:PGe,Parser:Mw},Symbol.toStringTag,{value:"Module"})),BGe=Wz(DGe);function OGe(t){return`"${t.replace(kGe,FGe)}"`}const kGe=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function FGe(t){return NGe[t.charCodeAt(0)]}const NGe=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],UGe=Object.freeze({});function HGe(t,e,n=vY){const r=new Map;for(const w of Object.values(Ht))r.set(w,GGe(e,w));let i,s=Array.isArray(t),o=[t],a=-1,l=[],u=t,f,c;const h=[],g=[];do{a++;const w=a===o.length,b=w&&l.length!==0;if(w){if(f=g.length===0?void 0:h[h.length-1],u=c,c=g.pop(),b)if(s){u=u.slice();let C=0;for(const[M,P]of l){const D=M-C;P===null?(u.splice(D,1),C++):u[D]=P}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[C,M]of l)u[C]=M}a=i.index,o=i.keys,l=i.edits,s=i.inArray,i=i.prev}else if(c){if(f=s?a:o[a],u=c[f],u==null)continue;h.push(f)}let E;if(!Array.isArray(u)){var y,_;j9(u)||rE(!1,`Invalid AST Node: ${AY(u)}.`);const C=w?(y=r.get(u.kind))===null||y===void 0?void 0:y.leave:(_=r.get(u.kind))===null||_===void 0?void 0:_.enter;if(E=C==null?void 0:C.call(e,u,f,c,h,g),E===UGe)break;if(E===!1){if(!w){h.pop();continue}}else if(E!==void 0&&(l.push([f,E]),!w))if(j9(E))u=E;else{h.pop();continue}}if(E===void 0&&b&&l.push([f,u]),w)h.pop();else{var x;i={inArray:s,index:a,keys:o,edits:l,prev:i},s=Array.isArray(u),o=s?u:(x=n[u.kind])!==null&&x!==void 0?x:[],a=-1,l=[],c&&g.push(c),c=u}}while(i!==void 0);return l.length!==0?l[l.length-1][1]:t}function GGe(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function zGe(t){return HGe(t,VGe)}const $Ge=80,VGe={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>yt(t.definitions,`

`)},OperationDefinition:{leave(t){const e=bn("(",yt(t.variableDefinitions,", "),")"),n=yt([t.operation,yt([t.name,e]),yt(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+bn(" = ",n)+bn(" ",yt(r," "))},SelectionSet:{leave:({selections:t})=>ll(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const s=bn("",t,": ")+e;let o=s+bn("(",yt(n,", "),")");return o.length>$Ge&&(o=s+bn(`(
`,iE(yt(n,`
`)),`
)`)),yt([o,yt(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+bn(" ",yt(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>yt(["...",bn("on ",t),yt(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${bn("(",yt(n,", "),")")} on ${e} ${bn("",yt(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?uGe(t):OGe(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+yt(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+yt(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+bn("(",yt(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>bn("",t,`
`)+yt(["schema",yt(e," "),ll(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>bn("",t,`
`)+yt(["scalar",e,yt(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>bn("",t,`
`)+yt(["type",e,bn("implements ",yt(n," & ")),yt(r," "),ll(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>bn("",t,`
`)+e+(K9(n)?bn(`(
`,iE(yt(n,`
`)),`
)`):bn("(",yt(n,", "),")"))+": "+r+bn(" ",yt(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>bn("",t,`
`)+yt([e+": "+n,bn("= ",r),yt(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>bn("",t,`
`)+yt(["interface",e,bn("implements ",yt(n," & ")),yt(r," "),ll(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>bn("",t,`
`)+yt(["union",e,yt(n," "),bn("= ",yt(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>bn("",t,`
`)+yt(["enum",e,yt(n," "),ll(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>bn("",t,`
`)+yt([e,yt(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>bn("",t,`
`)+yt(["input",e,yt(n," "),ll(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>bn("",t,`
`)+"directive @"+e+(K9(n)?bn(`(
`,iE(yt(n,`
`)),`
)`):bn("(",yt(n,", "),")"))+(r?" repeatable":"")+" on "+yt(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>yt(["extend schema",yt(t," "),ll(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>yt(["extend scalar",t,yt(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>yt(["extend type",t,bn("implements ",yt(e," & ")),yt(n," "),ll(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>yt(["extend interface",t,bn("implements ",yt(e," & ")),yt(n," "),ll(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>yt(["extend union",t,yt(e," "),bn("= ",yt(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>yt(["extend enum",t,yt(e," "),ll(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>yt(["extend input",t,yt(e," "),ll(n)]," ")}};function yt(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function ll(t){return bn(`{
`,iE(yt(t,`
`)),`
}`)}function bn(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function iE(t){return bn("  ",t.replace(/\n/g,`
  `))}function K9(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}const WGe=Object.freeze(Object.defineProperty({__proto__:null,print:zGe},Symbol.toStringTag,{value:"Module"})),jGe=Wz(WGe);var CF={},PM={},CY=function(e){var n=e.uri,r=e.name,i=e.type;this.uri=n,this.name=r,this.type=i},qGe=CY,MY=function(e){return typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob||e instanceof qGe},KGe=MY,QGe=function t(e,n,r){n===void 0&&(n=""),r===void 0&&(r=KGe);var i,s=new Map;function o(f,c){var h=s.get(c);h?h.push.apply(h,f):s.set(c,f)}if(r(e))i=null,o([n],e);else{var a=n?n+".":"";if(typeof FileList<"u"&&e instanceof FileList)i=Array.prototype.map.call(e,function(f,c){return o([""+a+c],f),null});else if(Array.isArray(e))i=e.map(function(f,c){var h=t(f,""+a+c,r);return h.files.forEach(o),h.clone});else if(e&&e.constructor===Object){i={};for(var l in e){var u=t(e[l],""+a+l,r);u.files.forEach(o),i[l]=u.clone}}else i=e}return{clone:i,files:s}};PM.ReactNativeFile=CY;PM.extractFiles=QGe;PM.isExtractableFile=MY;var JGe=typeof self=="object"?self.FormData:window.FormData,Rw={};Object.defineProperty(Rw,"__esModule",{value:!0});Rw.defaultJsonSerializer=void 0;Rw.defaultJsonSerializer={parse:JSON.parse,stringify:JSON.stringify};var XGe=_n&&_n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(CF,"__esModule",{value:!0});var RY=PM,YGe=XGe(JGe),ZGe=Rw,eze=function(t){return RY.isExtractableFile(t)||t!==null&&typeof t=="object"&&typeof t.pipe=="function"};function tze(t,e,n,r){r===void 0&&(r=ZGe.defaultJsonSerializer);var i=RY.extractFiles({query:t,variables:e,operationName:n},"",eze),s=i.clone,o=i.files;if(o.size===0){if(!Array.isArray(t))return r.stringify(s);if(typeof e<"u"&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");var a=t.reduce(function(h,g,y){return h.push({query:g,variables:e?e[y]:void 0}),h},[]);return r.stringify(a)}var l=typeof FormData>"u"?YGe.default:FormData,u=new l;u.append("operations",r.stringify(s));var f={},c=0;return o.forEach(function(h){f[++c]=h}),u.append("map",r.stringify(f)),c=0,o.forEach(function(h,g){u.append(""+ ++c,g)}),u}CF.default=tze;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.parseBatchRequestsExtendedArgs=_o.parseRawRequestExtendedArgs=_o.parseRequestExtendedArgs=_o.parseBatchRequestArgs=_o.parseRawRequestArgs=_o.parseRequestArgs=void 0;function nze(t,e,n){return t.document?t:{document:t,variables:e,requestHeaders:n,signal:void 0}}_o.parseRequestArgs=nze;function rze(t,e,n){return t.query?t:{query:t,variables:e,requestHeaders:n,signal:void 0}}_o.parseRawRequestArgs=rze;function ize(t,e){return t.documents?t:{documents:t,requestHeaders:e,signal:void 0}}_o.parseBatchRequestArgs=ize;function sze(t,e,n,r){return t.document?t:{url:t,document:e,variables:n,requestHeaders:r,signal:void 0}}_o.parseRequestExtendedArgs=sze;function oze(t,e,n,r){return t.query?t:{url:t,query:e,variables:n,requestHeaders:r,signal:void 0}}_o.parseRawRequestExtendedArgs=oze;function aze(t,e,n){return t.documents?t:{url:t,documents:e,requestHeaders:n,signal:void 0}}_o.parseBatchRequestsExtendedArgs=aze;var DM={},lze=_n&&_n.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(DM,"__esModule",{value:!0});DM.ClientError=void 0;var uze=function(t){lze(e,t);function e(n,r){var i=this,s=e.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=t.call(this,s)||this,Object.setPrototypeOf(i,e.prototype),i.response=n,i.request=r,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(i,e),i}return e.extractMessage=function(n){try{return n.errors[0].message}catch{return"GraphQL Error (Code: "+n.status+")"}},e}(Error);DM.ClientError=uze;(function(t){var e=_n&&_n.__assign||function(){return e=Object.assign||function(H){for(var ee,k=1,G=arguments.length;k<G;k++){ee=arguments[k];for(var $ in ee)Object.prototype.hasOwnProperty.call(ee,$)&&(H[$]=ee[$])}return H},e.apply(this,arguments)},n=_n&&_n.__createBinding||(Object.create?function(H,ee,k,G){G===void 0&&(G=k),Object.defineProperty(H,G,{enumerable:!0,get:function(){return ee[k]}})}:function(H,ee,k,G){G===void 0&&(G=k),H[G]=ee[k]}),r=_n&&_n.__setModuleDefault||(Object.create?function(H,ee){Object.defineProperty(H,"default",{enumerable:!0,value:ee})}:function(H,ee){H.default=ee}),i=_n&&_n.__importStar||function(H){if(H&&H.__esModule)return H;var ee={};if(H!=null)for(var k in H)k!=="default"&&Object.prototype.hasOwnProperty.call(H,k)&&n(ee,H,k);return r(ee,H),ee},s=_n&&_n.__awaiter||function(H,ee,k,G){function $(ie){return ie instanceof k?ie:new k(function(ue){ue(ie)})}return new(k||(k=Promise))(function(ie,ue){function xe(ge){try{de(G.next(ge))}catch(Ze){ue(Ze)}}function Oe(ge){try{de(G.throw(ge))}catch(Ze){ue(Ze)}}function de(ge){ge.done?ie(ge.value):$(ge.value).then(xe,Oe)}de((G=G.apply(H,ee||[])).next())})},o=_n&&_n.__generator||function(H,ee){var k={label:0,sent:function(){if(ie[0]&1)throw ie[1];return ie[1]},trys:[],ops:[]},G,$,ie,ue;return ue={next:xe(0),throw:xe(1),return:xe(2)},typeof Symbol=="function"&&(ue[Symbol.iterator]=function(){return this}),ue;function xe(de){return function(ge){return Oe([de,ge])}}function Oe(de){if(G)throw new TypeError("Generator is already executing.");for(;k;)try{if(G=1,$&&(ie=de[0]&2?$.return:de[0]?$.throw||((ie=$.return)&&ie.call($),0):$.next)&&!(ie=ie.call($,de[1])).done)return ie;switch($=0,ie&&(de=[de[0]&2,ie.value]),de[0]){case 0:case 1:ie=de;break;case 4:return k.label++,{value:de[1],done:!1};case 5:k.label++,$=de[1],de=[0];continue;case 7:de=k.ops.pop(),k.trys.pop();continue;default:if(ie=k.trys,!(ie=ie.length>0&&ie[ie.length-1])&&(de[0]===6||de[0]===2)){k=0;continue}if(de[0]===3&&(!ie||de[1]>ie[0]&&de[1]<ie[3])){k.label=de[1];break}if(de[0]===6&&k.label<ie[1]){k.label=ie[1],ie=de;break}if(ie&&k.label<ie[2]){k.label=ie[2],k.ops.push(de);break}ie[2]&&k.ops.pop(),k.trys.pop();continue}de=ee.call(H,k)}catch(ge){de=[6,ge],$=0}finally{G=ie=0}if(de[0]&5)throw de[1];return{value:de[0]?de[1]:void 0,done:!0}}},a=_n&&_n.__rest||function(H,ee){var k={};for(var G in H)Object.prototype.hasOwnProperty.call(H,G)&&ee.indexOf(G)<0&&(k[G]=H[G]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,G=Object.getOwnPropertySymbols(H);$<G.length;$++)ee.indexOf(G[$])<0&&Object.prototype.propertyIsEnumerable.call(H,G[$])&&(k[G[$]]=H[G[$]]);return k},l=_n&&_n.__importDefault||function(H){return H&&H.__esModule?H:{default:H}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.batchRequests=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var u=i(Q3.exports),f=u,c=BGe,h=jGe,g=l(CF),y=Rw,_=_o,x=DM;Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return x.ClientError}});var w=function(H){var ee={};return H&&(typeof Headers<"u"&&H instanceof Headers||H instanceof f.Headers?ee=Y(H):Array.isArray(H)?H.forEach(function(k){var G=k[0],$=k[1];ee[G]=$}):ee=H),ee},b=function(H){return H.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},E=function(H){var ee=H.query,k=H.variables,G=H.operationName,$=H.jsonSerializer;if(!Array.isArray(ee)){var ie=["query="+encodeURIComponent(b(ee))];return k&&ie.push("variables="+encodeURIComponent($.stringify(k))),G&&ie.push("operationName="+encodeURIComponent(G)),ie.join("&")}if(typeof k<"u"&&!Array.isArray(k))throw new Error("Cannot create query with given variable type, array expected");var ue=ee.reduce(function(xe,Oe,de){return xe.push({query:b(Oe),variables:k?$.stringify(k[de]):void 0}),xe},[]);return"query="+encodeURIComponent($.stringify(ue))},C=function(H){var ee=H.url,k=H.query,G=H.variables,$=H.operationName,ie=H.headers,ue=H.fetch,xe=H.fetchOptions;return s(void 0,void 0,void 0,function(){var Oe;return o(this,function(de){switch(de.label){case 0:return Oe=g.default(k,G,$,xe.jsonSerializer),[4,ue(ee,e({method:"POST",headers:e(e({},typeof Oe=="string"?{"Content-Type":"application/json"}:{}),ie),body:Oe},xe))];case 1:return[2,de.sent()]}})})},M=function(H){var ee=H.url,k=H.query,G=H.variables,$=H.operationName,ie=H.headers,ue=H.fetch,xe=H.fetchOptions;return s(void 0,void 0,void 0,function(){var Oe;return o(this,function(de){switch(de.label){case 0:return Oe=E({query:k,variables:G,operationName:$,jsonSerializer:xe.jsonSerializer}),[4,ue(ee+"?"+Oe,e({method:"GET",headers:ie},xe))];case 1:return[2,de.sent()]}})})},P=function(){function H(ee,k){this.url=ee,this.options=k||{}}return H.prototype.rawRequest=function(ee,k,G){return s(this,void 0,void 0,function(){var $,ie,ue,xe,Oe,de,ge,Ze,Qe,We;return o(this,function(Ue){return $=_.parseRawRequestArgs(ee,k,G),ie=this.options,ue=ie.headers,xe=ie.fetch,Oe=xe===void 0?u.default:xe,de=ie.method,ge=de===void 0?"POST":de,Ze=a(ie,["headers","fetch","method"]),Qe=this.url,$.signal!==void 0&&(Ze.signal=$.signal),We=le($.query).operationName,[2,D({url:Qe,query:$.query,variables:$.variables,headers:e(e({},w(ue)),w($.requestHeaders)),operationName:We,fetch:Oe,method:ge,fetchOptions:Ze})]})})},H.prototype.request=function(ee,k,G){return s(this,void 0,void 0,function(){var $,ie,ue,xe,Oe,de,ge,Ze,Qe,We,Ue,mt,Re;return o(this,function(U){switch(U.label){case 0:return $=_.parseRequestArgs(ee,k,G),ie=this.options,ue=ie.headers,xe=ie.fetch,Oe=xe===void 0?u.default:xe,de=ie.method,ge=de===void 0?"POST":de,Ze=a(ie,["headers","fetch","method"]),Qe=this.url,$.signal!==void 0&&(Ze.signal=$.signal),We=le($.document),Ue=We.query,mt=We.operationName,[4,D({url:Qe,query:Ue,variables:$.variables,headers:e(e({},w(ue)),w($.requestHeaders)),operationName:mt,fetch:Oe,method:ge,fetchOptions:Ze})];case 1:return Re=U.sent().data,[2,Re]}})})},H.prototype.batchRequests=function(ee,k){return s(this,void 0,void 0,function(){var G,$,ie,ue,xe,Oe,de,ge,Ze,Qe,We,Ue;return o(this,function(mt){switch(mt.label){case 0:return G=_.parseBatchRequestArgs(ee,k),$=this.options,ie=$.headers,ue=$.fetch,xe=ue===void 0?u.default:ue,Oe=$.method,de=Oe===void 0?"POST":Oe,ge=a($,["headers","fetch","method"]),Ze=this.url,G.signal!==void 0&&(ge.signal=G.signal),Qe=G.documents.map(function(Re){var U=Re.document;return le(U).query}),We=G.documents.map(function(Re){var U=Re.variables;return U}),[4,D({url:Ze,query:Qe,variables:We,headers:e(e({},w(ie)),w(G.requestHeaders)),operationName:void 0,fetch:xe,method:de,fetchOptions:ge})];case 1:return Ue=mt.sent().data,[2,Ue]}})})},H.prototype.setHeaders=function(ee){return this.options.headers=ee,this},H.prototype.setHeader=function(ee,k){var G,$=this.options.headers;return $?$[ee]=k:this.options.headers=(G={},G[ee]=k,G),this},H.prototype.setEndpoint=function(ee){return this.url=ee,this},H}();t.GraphQLClient=P;function D(H){var ee=H.url,k=H.query,G=H.variables,$=H.headers,ie=H.operationName,ue=H.fetch,xe=H.method,Oe=xe===void 0?"POST":xe,de=H.fetchOptions;return s(this,void 0,void 0,function(){var ge,Ze,Qe,We,Ue,mt,Re,U;return o(this,function(te){switch(te.label){case 0:return ge=Oe.toUpperCase()==="POST"?C:M,Ze=Array.isArray(k),[4,ge({url:ee,query:k,variables:G,operationName:ie,headers:$,fetch:ue,fetchOptions:de})];case 1:return Qe=te.sent(),[4,j(Qe,de.jsonSerializer)];case 2:if(We=te.sent(),Ue=Ze&&Array.isArray(We)?!We.some(function(J){var ve=J.data;return!ve}):!!We.data,Qe.ok&&!We.errors&&Ue)return mt=Qe.headers,Re=Qe.status,[2,e(e({},Ze?{data:We}:We),{headers:mt,status:Re})];throw U=typeof We=="string"?{error:We}:We,new x.ClientError(e(e({},U),{status:Qe.status,headers:Qe.headers}),{query:k,variables:G})}})})}function L(H,ee,k,G){return s(this,void 0,void 0,function(){var $,ie;return o(this,function(ue){return $=_.parseRawRequestExtendedArgs(H,ee,k,G),ie=new P($.url),[2,ie.rawRequest(e({},$))]})})}t.rawRequest=L;function O(H,ee,k,G){return s(this,void 0,void 0,function(){var $,ie;return o(this,function(ue){return $=_.parseRequestExtendedArgs(H,ee,k,G),ie=new P($.url),[2,ie.request(e({},$))]})})}t.request=O;function q(H,ee,k){return s(this,void 0,void 0,function(){var G,$;return o(this,function(ie){return G=_.parseBatchRequestsExtendedArgs(H,ee,k),$=new P(G.url),[2,$.batchRequests(e({},G))]})})}t.batchRequests=q,t.default=O;function j(H,ee){return ee===void 0&&(ee=y.defaultJsonSerializer),s(this,void 0,void 0,function(){var k,G,$;return o(this,function(ie){switch(ie.label){case 0:return H.headers.forEach(function(ue,xe){xe.toLowerCase()==="content-type"&&(k=ue)}),k&&k.toLowerCase().startsWith("application/json")?($=(G=ee).parse,[4,H.text()]):[3,2];case 1:return[2,$.apply(G,[ie.sent()])];case 2:return[2,H.text()]}})})}function oe(H){var ee,k=void 0,G=H.definitions.filter(function($){return $.kind==="OperationDefinition"});return G.length===1&&(k=(ee=G[0].name)===null||ee===void 0?void 0:ee.value),k}function le(H){if(typeof H=="string"){var ee=void 0;try{var k=c.parse(H);ee=oe(k)}catch{}return{query:H,operationName:ee}}var G=oe(H);return{query:h.print(H),operationName:G}}function F(H){for(var ee=[],k=1;k<arguments.length;k++)ee[k-1]=arguments[k];return H.reduce(function(G,$,ie){return""+G+$+(ie in ee?ee[ie]:"")},"")}t.gql=F;function Y(H){var ee={};return H.forEach(function(k,G){ee[G]=k}),ee}})(RM);const cze=(t,e,n=!1)=>{const[r,i]=z.exports.useState(!1),[s,o]=z.exports.useState(0),[a,l]=z.exports.useState(0),u=()=>{r?t.current.pause():t.current.play(),i(!r)};z.exports.useEffect(()=>{!(e!=null&&e.length)||(t.current.src=e[a].src)},[]),z.exports.useEffect(()=>{if(!t.current)return;const h=setInterval(()=>{o(Math.round(t.current.currentTime))},100);return()=>clearInterval(h)},[]),z.exports.useEffect(()=>{if(!(e!=null&&e.length)||!t.current)return;const h=async()=>{await f()};return t.current.addEventListener("ended",h),()=>{var g;return(g=t==null?void 0:t.current)==null?void 0:g.removeEventListener("ended",h)}},[a]);const f=async()=>{const h=n?Math.floor(Math.random()*e.length):(a+1)%e.length;l(h),t.current.src=e[h].src,t.current.load(),await t.current.play()};return{toggle:u,playNext:f,playPrev:async()=>{const h=s>2?a:(a-1)%e.length;l(h),t.current.src=e[h].src,t.current.load(),await t.current.play()},nowPlaying:{...e[a],currentTime:s}}},fze="https://j7wub4fh.api.sanity.io/v1/graphql/production/default",hze=new RM.GraphQLClient(fze),dze=`
query Products {
  allPublicSong {
    name
    file{
      asset{
        url
      }
    }
  }
}
`,IY=()=>{var u,f;const t=z.exports.useRef(),{isLoading:e,data:n}=ca("songs",async()=>await hze.request(dze)),{toggle:r,playNext:i,nowPlaying:s,playPrev:o}=cze(t,(f=(u=n==null?void 0:n.allPublicSong)==null?void 0:u.map(c=>{var h,g,y;return{name:c.name,src:(y=(g=(h=c.file)==null?void 0:h.asset)==null?void 0:g.url)!=null?y:"",artist:"Two Shell"}}))!=null?f:[],!0),[a,l]=z.exports.useState(!1);return e?Z("div",{children:"Loading..."}):Z("div",{sx:{width:"100vw",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Ke("div",{children:[Z("div",{sx:{backgroundImage:"linear-gradient(180deg, #E9ECF2 0%, #3E3F42 100%)",position:"relative",zIndex:2,p:"8px",borderRadius:"12px",pointerEvents:"all"},children:Z("div",{sx:{width:["100%",null,"400px"],maxWidth:"100%",borderWidth:"1px",borderColor:"text",borderRadius:"12px",height:"100px",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:Ke("div",{sx:{flex:1},css:z9e,children:[Z("audio",{ref:t,sx:{opacity:0,position:"absolute"},id:"audio-element",crossOrigin:"anonymous",controls:!0}),Z("div",{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",width:"100%",height:"100%",animation:`${H9e} 0.01s linear infinite alternate`},children:Z("h2",{children:s.name})}),Z("div",{sx:{position:"absolute",top:0,bottom:0,left:0,opacity:.1,zIndex:0},children:Z(X9e,{})})]})})}),Ke("div",{sx:{zIndex:-10,transition:"transform 0.2s",display:"flex",flexDirection:"column",pointerEvents:"all",alignItems:"center",transform:a?"translateY(0)":"translateY(calc(-105% + 12px))"},children:[Ke("div",{sx:{display:"flex",flexDirection:"row",gap:"12px",width:"50%",justifyContent:"center"},children:[Z(OI,{}),Z(OI,{}),Z(OI,{})]}),Ke("div",{sx:{zIndex:-100,width:"fit-content"},children:[Ke("div",{sx:{width:"fit-content",backgroundImage:"linear-gradient(180deg, #3E3F42 0%, #A9ACA2 100%)",borderRadius:"10px",borderTopLeftRadius:"8px",display:"flex",padding:"5px",gap:"3px"},children:[Z(BI,{variant:"left",onClick:o,children:Z(F9e,{})}),Z(BI,{variant:"mid",onClick:r,children:Z(O9e,{})}),Z(BI,{variant:"right",onClick:i,children:Z(k9e,{})}),Z("div",{sx:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",transform:"translateY(-3px)"},children:Z(Y9e,{})})]}),Z("div",{sx:{width:"100%",height:"12px",px:"20px",display:"flex",alignItems:"center"},onClick:()=>{l(!a)},children:Z("div",{sx:{flex:1,cursor:"pointer",height:"100%",backgroundImage:"linear-gradient(180deg, #3E3F42 0%, #A9ACA2 100%)",borderBottomRightRadius:"100px",borderBottomLeftRadius:"100px"}})})]})]})]})})},pze=(t,e,n)=>{z.exports.useEffect(()=>(window.addEventListener(t,e),()=>{window.removeEventListener(t,e)}),n)},mze=({pushLine:t})=>{ih(KBe,{onSuccess:()=>{l(!0)},onError:()=>{n("unknown error")}}),z.exports.useState("");const[e,n]=z.exports.useState("");z.exports.useState("");const[r,i]=z.exports.useState(!1),[s,o]=z.exports.useState(!1),[a,l]=z.exports.useState(!1);return pze("portal-active",()=>{i(!r)},[r]),z.exports.useEffect(()=>{s||(t("A gateway? :}"),t("..."),t(pu("Where does it lead?","purple")),o(!0))},[s]),z.exports.useEffect(()=>{!a||(t("You'll be hearing from us"),o(!0))},[a]),null};var LY="https://js.stripe.com/v3",gze=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Q9="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",yze=function(){for(var e=document.querySelectorAll('script[src^="'.concat(LY,'"]')),n=0;n<e.length;n++){var r=e[n];if(!!gze.test(r.src))return r}return null},vze=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(LY).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},_ze=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"1.32.0",startTime:n})},fA=null,xze=function(e){return fA!==null||(fA=new Promise(function(n,r){if(typeof window>"u"){n(null);return}if(window.Stripe&&e&&console.warn(Q9),window.Stripe){n(window.Stripe);return}try{var i=yze();i&&e?console.warn(Q9):i||(i=vze(e)),i.addEventListener("load",function(){window.Stripe?n(window.Stripe):r(new Error("Stripe.js not available"))}),i.addEventListener("error",function(){r(new Error("Failed to load Stripe.js"))})}catch(s){r(s);return}})),fA},wze=function(e,n,r){if(e===null)return null;var i=e.apply(void 0,n);return _ze(i,r),i},PY=Promise.resolve().then(function(){return xze(null)}),DY=!1;PY.catch(function(t){DY||console.warn(t)});var BY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];DY=!0;var i=Date.now();return PY.then(function(s){return wze(s,n,i)})};function J9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(n),!0).forEach(function(r){OY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sE(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sE=function(e){return typeof e}:sE=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sE(t)}function OY(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bze(t,e){return Sze(t)||Aze(t,e)||Eze(t,e)||Tze()}function Sze(t){if(Array.isArray(t))return t}function Aze(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function Eze(t,e){if(!!t){if(typeof t=="string")return Y9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y9(t,e)}}function Y9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z3=function(e){var n=ut.useRef(e);return ut.useEffect(function(){n.current=e},[e]),n.current},yy=function(e){return e!==null&&sE(e)==="object"},Cze=function(e){return yy(e)&&typeof e.then=="function"},Mze=function(e){return yy(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Z9="[object Object]",Rze=function t(e,n){if(!yy(e)||!yy(n))return e===n;var r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===Z9,o=Object.prototype.toString.call(n)===Z9;if(s!==o)return!1;if(!s&&!r)return e===n;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(var u={},f=0;f<a.length;f+=1)u[a[f]]=!0;for(var c=0;c<l.length;c+=1)u[l[c]]=!0;var h=Object.keys(u);if(h.length!==a.length)return!1;var g=e,y=n,_=function(w){return t(g[w],y[w])};return h.every(_)},kY=function(e,n,r){return yy(e)?Object.keys(e).reduce(function(i,s){var o=!yy(n)||!Rze(e[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?X9(X9({},i||{}),{},OY({},s,e[s])):i},null):null},Ize="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",eG=function(e){if(e===null||Mze(e))return e;throw new Error(Ize)},Lze=function(e){if(Cze(e))return{tag:"async",stripePromise:Promise.resolve(e).then(eG)};var n=eG(e);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},MF=ut.createContext(null);MF.displayName="ElementsContext";var Pze=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},FY=function(e){var n=e.stripe,r=e.options,i=e.children,s=ut.useMemo(function(){return Lze(n)},[n]),o=ut.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),a=bze(o,2),l=a[0],u=a[1];ut.useEffect(function(){var h=!0,g=function(_){u(function(x){return x.stripe?x:{stripe:_,elements:_.elements(r)}})};return s.tag==="async"&&!l.stripe?s.stripePromise.then(function(y){y&&h&&g(y)}):s.tag==="sync"&&!l.stripe&&g(s.stripe),function(){h=!1}},[s,l,r]);var f=Z3(n);ut.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var c=Z3(r);return ut.useEffect(function(){if(!!l.elements){var h=kY(r,c,["clientSecret","fonts"]);h&&l.elements.update(h)}},[r,c,l.elements]),ut.useEffect(function(){var h=l.stripe;!h||!h._registerWrapper||!h.registerAppInfo||(h._registerWrapper({name:"react-stripe-js",version:"1.9.0"}),h.registerAppInfo({name:"react-stripe-js",version:"1.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},[l.stripe]),W(MF.Provider,{value:l,children:i})};FY.propTypes={stripe:ze.exports.any,options:ze.exports.object};var CT=function(e){var n=ut.useContext(MF);return Pze(n,e)},Dze=function(){var e=CT("calls useElements()"),n=e.elements;return n},Bze=function(){var e=CT("calls useStripe()"),n=e.stripe;return n};ze.exports.func.isRequired;var Ud=function(e){var n=ut.useRef(e);return ut.useEffect(function(){n.current=e},[e]),function(){n.current&&n.current.apply(n,arguments)}},Hd=function(){},Oze=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ms=function(e,n){var r="".concat(Oze(e),"Element"),i=function(l){var u=l.id,f=l.className,c=l.options,h=c===void 0?{}:c,g=l.onBlur,y=g===void 0?Hd:g,_=l.onFocus,x=_===void 0?Hd:_,w=l.onReady,b=w===void 0?Hd:w,E=l.onChange,C=E===void 0?Hd:E,M=l.onEscape,P=M===void 0?Hd:M,D=l.onClick,L=D===void 0?Hd:D,O=l.onLoadError,q=O===void 0?Hd:O,j=CT("mounts <".concat(r,">")),oe=j.elements,le=ut.useRef(null),F=ut.useRef(null),Y=Ud(b),H=Ud(y),ee=Ud(x),k=Ud(L),G=Ud(C),$=Ud(P),ie=Ud(q);ut.useLayoutEffect(function(){if(le.current==null&&oe&&F.current!=null){var xe=oe.create(e,h);le.current=xe,xe.mount(F.current),xe.on("ready",function(){return Y(xe)}),xe.on("change",G),xe.on("blur",H),xe.on("focus",ee),xe.on("escape",$),xe.on("loaderror",ie),xe.on("click",k)}});var ue=Z3(h);return ut.useEffect(function(){if(!!le.current){var xe=kY(h,ue,["paymentRequest"]);xe&&le.current.update(xe)}},[h,ue]),ut.useLayoutEffect(function(){return function(){le.current&&(le.current.destroy(),le.current=null)}},[]),W("div",{id:u,className:f,ref:F})},s=function(l){CT("mounts <".concat(r,">"));var u=l.id,f=l.className;return W("div",{id:u,className:f})},o=n?s:i;return o.propTypes={id:ze.exports.string,className:ze.exports.string,onChange:ze.exports.func,onBlur:ze.exports.func,onFocus:ze.exports.func,onReady:ze.exports.func,onClick:ze.exports.func,onLoadError:ze.exports.func,options:ze.exports.object},o.displayName=r,o.__elementType=e,o},Rs=typeof window>"u";Ms("auBankAccount",Rs);Ms("card",Rs);Ms("cardNumber",Rs);Ms("cardExpiry",Rs);Ms("cardCvc",Rs);Ms("fpxBank",Rs);Ms("iban",Rs);Ms("idealBank",Rs);Ms("p24Bank",Rs);Ms("epsBank",Rs);var kze=Ms("payment",Rs);Ms("paymentRequestButton",Rs);Ms("linkAuthentication",Rs);Ms("shippingAddress",Rs);Ms("affirmMessage",Rs);Ms("afterpayClearpayMessage",Rs);const Fze=({buyerEmail:t,paymentId:e,clientSecret:n,productType:r})=>{const i=Bze(),s=Dze(),[o,a]=z.exports.useState(null),[l,u]=z.exports.useState(!1),[f,c]=z.exports.useState(!1);z.exports.useEffect(()=>{!i||!n||i.retrievePaymentIntent(n).then(({paymentIntent:g})=>{if(!!f)switch(g==null?void 0:g.status){case"succeeded":a("Payment succeeded!");break;case"processing":a("Your payment is processing.");break;case"requires_payment_method":a("Your payment was not successful, please try again.");break;default:a("Something went wrong.");break}}).catch(console.error)},[i]);const h=async g=>{if(g.preventDefault(),c(!0),!i||!s)return;u(!0);const{error:y}=await i.confirmPayment({elements:s,confirmParams:{receipt_email:t,return_url:r==="ticket"?`${window.location.origin}/key?id=${e}`:`${window.location.origin}/items?paymentId=${e}`}});y.type==="card_error"||y.type==="validation_error"?a(y.message):a("An unexpected error occurred."),u(!1)};return Z(z.exports.Fragment,{children:Ke("form",{id:"payment-form",onSubmit:h,children:[Z(kze,{id:"payment-element"}),Z("div",{sx:{height:"20px"}}),Z(As,{disabled:l||!i||!s,id:"submit",children:"PAY"}),o&&f&&Z("div",{id:"payment-message",sx:{my:"20px"},children:o})]})})},Th=()=>Ke("div",{sx:{width:"100%",display:"flex",minWidth:"3ch"},children:[".",Z(yh,{strings:[".."],typeSpeed:200,cursorChar:"",loop:!0})]}),Nze=[{id:"ticket-shell-night-1",name:"night01 ticket",price:1e3,maxPerPurchase:5,maxSold:320,type:"ticket"},{id:"ticket-shell-night-2",name:"night02 ticket",price:1e3,maxPerPurchase:5,maxSold:360,type:"ticket"},{id:"ticket-shell-night-3",name:"night03 ticket",price:1500,maxPerPurchase:5,maxSold:163,type:"ticket"},{id:"ticket-shell-night-4",name:"night04 ticket",price:1500,maxPerPurchase:5,maxSold:194,type:"ticket"},{id:"ticket-skyline-soul",name:"night04 ticket",price:700,maxPerPurchase:5,maxSold:200,type:"ticket"},{id:"digital-cloudgirl",name:"CloudGirl.mpeg",price:100,maxPerPurchase:1,maxSold:1e3,type:"digital",path:"CloudGirl.mpeg"}],Uze=BY("pk_live_51LNHmKAZSSHiEh5cIjDAVnAiO8P4GwAQVl3yaroEHQagPonkeUU4fJPxJrEAyXXm3rrihjXtf6O1gEQwqYlfrgJd00jm38mgW6"),Hze="https://us-central1-shelltech1.cloudfunctions.net/payments",hA={email:0,quantity:1,payment:2},NY=({productId:t})=>{const[e,n]=z.exports.useState(""),[r,i]=z.exports.useState(!1),[s,o]=z.exports.useState(""),[a,l]=z.exports.useState(1),[u,f]=z.exports.useState(0),[c,h]=z.exports.useState(void 0),g=Nze.find(y=>y.id===t);return z.exports.useEffect(()=>{f(0)},[t]),z.exports.useEffect(()=>{if(u!==hA.payment||!g)return;const y=g.price*a;i(!0),fetch(`${Hze}/intents`,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({amount:y*a,productId:t,buyerEmail:s,quantity:a})}).then(async _=>await _.json()).then(_=>{h(_.metadata.paymentId),n(_.client_secret)}).catch(console.error).finally(()=>i(!1))},[u]),g?Ke("div",{children:[u!==hA.payment&&Ke(z.exports.Fragment,{children:[Z(yh,{strings:["who are you?"],typeSpeed:100,cursorChar:""}),Z(Sx,{style:{background:"black",color:"white"},placeholder:"email",value:s,sx:{fontSize:"16px",backgroundColor:"background",mr:0,mb:"8px",p:"4px"},onChange:y=>o(y)}),u===hA.quantity&&Ke(z.exports.Fragment,{children:[Z(yh,{strings:["how many?"],typeSpeed:100,cursorChar:""}),Z(Sx,{style:{background:"black",color:"white"},placeholder:"quantity",disabled:g.maxPerPurchase===1,value:a.toString(),type:"number",sx:{fontSize:"16px",backgroundColor:"background",mr:0,mb:"8px",p:"4px"},onChange:y=>{const _=parseInt(y);![1,2,3,4,5,"",void 0].includes(y?parseInt(y):void 0)||l(_)}})]}),Z(As,{disabled:!Gze(s)||typeof a!="number",onClick:()=>{f(u+1)},children:"Next"})]}),r&&Z(Th,{}),e&&u===hA.payment&&c&&Ke("div",{sx:{display:"flex",gap:"8px",flexDirection:"column",textAlign:"right"},children:[Ke("p",{children:["qty: ",a]}),Ke("p",{children:["total: ",g.price*a/100," GBP"]}),Z(FY,{options:{clientSecret:e,appearance:{theme:"flat",variables:{colorPrimary:"orange",colorBackground:"white",colorText:"#ff14ad",colorDanger:"#df1b41",fontFamily:"monospace",spacingUnit:"2px",borderRadius:"0px"}}},stripe:Uze,children:Z(Fze,{productType:g.type,buyerEmail:s,clientSecret:e,paymentId:c})})]})]}):Z("p",{children:"Error bad product"})},Gze=t=>/\S+@\S+\.\S+/.test(t),zze=({onClickButton:t,content:e,productId:n,showStock:r,isBuyable:i})=>{var o;const s=ca(["stock",n],async()=>(await QBe({productId:n})).data,{enabled:!!n});return Ke("div",{sx:{mt:"12px",display:"flex",flexDirection:"column",width:"260px",gap:"14px"},children:[Z("p",{sx:{fontSize:"14px",ml:"8px"},children:e==null?void 0:e.description}),Ke(zae,{gap:2,columns:[2,"1fr 3fr"],sx:{columnGap:"8px"},children:[e.fields.map(([a,l])=>Ke(z.exports.Fragment,{children:[Z(cu,{children:a}),Z(cu,{children:l})]})),i&&r&&Ke(z.exports.Fragment,{children:[Z(cu,{children:"#"}),Z(cu,{children:Z($ze,{isLoading:s.isLoading,data:s.data})})]})]}),Z(cu,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Z(As,{sx:{maxWidth:"100px"},onClick:()=>{t()},disabled:!i||((o=s.data)!=null?o:-1)<=0,children:s.isLoading&&i?Z(Th,{}):"Purchase"})})]})},$ze=({isLoading:t,data:e})=>Z("div",{sx:{textAlign:"left"},children:t?Z(Th,{}):Z("p",{children:e!=null?e:"none"})}),RF=z.exports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),BM=z.exports.createContext({});function Vze(){return z.exports.useContext(BM).visualElement}const OM=z.exports.createContext(null),cm=typeof document<"u",tG=cm?z.exports.useLayoutEffect:z.exports.useEffect,UY=z.exports.createContext({strict:!1});function Wze(t,e,n,r){const i=Vze(),s=z.exports.useContext(UY),o=z.exports.useContext(OM),a=z.exports.useContext(RF).reducedMotion,l=z.exports.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return tG(()=>{u&&u.render()}),z.exports.useEffect(()=>{u&&u.animationState&&u.animationState.animateChanges()}),tG(()=>()=>u&&u.notify("Unmount"),[]),u}function h0(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function jze(t,e,n){return z.exports.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):h0(n)&&(n.current=r))},[e])}function Ex(t){return typeof t=="string"||Array.isArray(t)}function kM(t){return typeof t=="object"&&typeof t.start=="function"}const qze=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function FM(t){return kM(t.animate)||qze.some(e=>Ex(t[e]))}function HY(t){return Boolean(FM(t)||t.variants)}function Kze(t,e){if(FM(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ex(n)?n:void 0,animate:Ex(r)?r:void 0}}return t.inherit!==!1?e:{}}function Qze(t){const{initial:e,animate:n}=Kze(t,z.exports.useContext(BM));return z.exports.useMemo(()=>({initial:e,animate:n}),[nG(e),nG(n)])}function nG(t){return Array.isArray(t)?t.join(" "):t}const uc=t=>({isEnabled:e=>t.some(n=>!!e[n])}),Tx={measureLayout:uc(["layout","layoutId","drag"]),animation:uc(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:uc(["exit"]),drag:uc(["drag","dragControls"]),focus:uc(["whileFocus"]),hover:uc(["whileHover","onHoverStart","onHoverEnd"]),tap:uc(["whileTap","onTap","onTapStart","onTapCancel"]),pan:uc(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:uc(["whileInView","onViewportEnter","onViewportLeave"])};function Jze(t){for(const e in t)e==="projectionNodeConstructor"?Tx.projectionNodeConstructor=t[e]:Tx[e].Component=t[e]}function NM(t){const e=z.exports.useRef(null);return e.current===null&&(e.current=t()),e.current}const v_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Xze=1;function Yze(){return NM(()=>{if(v_.hasEverUpdated)return Xze++})}const GY=z.exports.createContext({});class Zze extends ut.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:n}=this.props;return e&&e.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const zY=z.exports.createContext({}),e$e=Symbol.for("motionComponentSymbol");function t$e({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:r,useVisualState:i,Component:s}){t&&Jze(t);function o(l,u){const f={...z.exports.useContext(RF),...l,layoutId:n$e(l)},{isStatic:c}=f;let h=null;const g=Qze(l),y=c?void 0:Yze(),_=i(l,c);if(!c&&cm){g.visualElement=Wze(s,_,f,e);const x=z.exports.useContext(UY).strict,w=z.exports.useContext(zY);g.visualElement&&(h=g.visualElement.loadFeatures(f,x,t,y,n||Tx.projectionNodeConstructor,w))}return St(Zze,{visualElement:g.visualElement,props:f,children:[h,W(BM.Provider,{value:g,children:r(s,l,y,jze(_,g.visualElement,u),_,c,g.visualElement)})]})}const a=z.exports.forwardRef(o);return a[e$e]=s,a}function n$e({layoutId:t}){const e=z.exports.useContext(GY).id;return e&&t!==void 0?e+"-"+t:t}function r$e(t){function e(r,i={}){return t$e(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const i$e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function IF(t){return typeof t!="string"||t.includes("-")?!1:!!(i$e.indexOf(t)>-1||/[A-Z]/.test(t))}const MT={};function s$e(t){Object.assign(MT,t)}const RT=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],av=new Set(RT);function $Y(t,{layout:e,layoutId:n}){return av.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!MT[t]||t==="opacity")}const Bu=t=>!!(t!=null&&t.getVelocity),o$e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a$e=(t,e)=>RT.indexOf(t)-RT.indexOf(e);function l$e({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,s){let o="";e.sort(a$e);for(const a of e)o+=`${o$e[a]||a}(${t[a]}) `;return n&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,i?"":o):r&&i&&(o="none"),o}function VY(t){return t.startsWith("--")}const u$e=(t,e)=>e&&typeof t=="number"?e.transform(t):t,vy=(t,e,n)=>Math.min(Math.max(n,t),e),fm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},__={...fm,transform:t=>vy(0,1,t)},dA={...fm,default:1},x_=t=>Math.round(t*1e5)/1e5,Cx=/(-)?([\d]*\.?[\d])+/g,eD=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,c$e=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Iw(t){return typeof t=="string"}const Lw=t=>({test:e=>Iw(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Df=Lw("deg"),Tu=Lw("%"),Gt=Lw("px"),f$e=Lw("vh"),h$e=Lw("vw"),rG={...Tu,parse:t=>Tu.parse(t)/100,transform:t=>Tu.transform(t*100)},iG={...fm,transform:Math.round},WY={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,size:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,rotate:Df,rotateX:Df,rotateY:Df,rotateZ:Df,scale:dA,scaleX:dA,scaleY:dA,scaleZ:dA,skew:Df,skewX:Df,skewY:Df,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:__,originX:rG,originY:rG,originZ:Gt,zIndex:iG,fillOpacity:__,strokeOpacity:__,numOctaves:iG};function LF(t,e,n,r){const{style:i,vars:s,transform:o,transformKeys:a,transformOrigin:l}=t;a.length=0;let u=!1,f=!1,c=!0;for(const h in e){const g=e[h];if(VY(h)){s[h]=g;continue}const y=WY[h],_=u$e(g,y);if(av.has(h)){if(u=!0,o[h]=_,a.push(h),!c)continue;g!==(y.default||0)&&(c=!1)}else h.startsWith("origin")?(f=!0,l[h]=_):i[h]=_}if(e.transform||(u||r?i.transform=l$e(t,n,c,r):i.transform&&(i.transform="none")),f){const{originX:h="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${h} ${g} ${y}`}}const PF=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function jY(t,e,n){for(const r in e)!Bu(e[r])&&!$Y(r,n)&&(t[r]=e[r])}function d$e({transformTemplate:t},e,n){return z.exports.useMemo(()=>{const r=PF();return LF(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function p$e(t,e,n){const r=t.style||{},i={};return jY(i,r,t),Object.assign(i,d$e(t,e,n)),t.transformValues?t.transformValues(i):i}function m$e(t,e,n){const r={},i=p$e(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),r.style=i,r}const g$e=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],y$e=["whileTap","onTap","onTapStart","onTapCancel"],v$e=["onPan","onPanStart","onPanSessionStart","onPanEnd"],_$e=["whileInView","onViewportEnter","onViewportLeave","viewport"],x$e=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",..._$e,...y$e,...g$e,...v$e]);function IT(t){return x$e.has(t)}let qY=t=>!IT(t);function w$e(t){!t||(qY=e=>e.startsWith("on")?!IT(e):t(e))}try{w$e(require("@emotion/is-prop-valid").default)}catch{}function b$e(t,e,n){const r={};for(const i in t)(qY(i)||n===!0&&IT(i)||!e&&!IT(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function sG(t,e,n){return typeof t=="string"?t:Gt.transform(e+n*t)}function S$e(t,e,n){const r=sG(e,t.x,t.width),i=sG(n,t.y,t.height);return`${r} ${i}`}const A$e={offset:"stroke-dashoffset",array:"stroke-dasharray"},E$e={offset:"strokeDashoffset",array:"strokeDasharray"};function T$e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?A$e:E$e;t[s.offset]=Gt.transform(-r);const o=Gt.transform(e),a=Gt.transform(n);t[s.array]=`${o} ${a}`}function DF(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,f,c){if(LF(t,l,u,c),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g,dimensions:y}=t;h.transform&&(y&&(g.transform=h.transform),delete h.transform),y&&(r!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=S$e(y,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),s!==void 0&&T$e(h,s,o,a,!1)}const KY=()=>({...PF(),attrs:{}}),BF=t=>typeof t=="string"&&t.toLowerCase()==="svg";function C$e(t,e,n,r){const i=z.exports.useMemo(()=>{const s=KY();return DF(s,e,{enableHardwareAcceleration:!1},BF(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};jY(s,t.style,t),i.style={...s,...i.style}}return i}function M$e(t=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=(IF(n)?C$e:m$e)(r,o,a,n),c={...b$e(r,typeof n=="string",t),...u,ref:s};return i&&(c["data-projection-id"]=i),z.exports.createElement(n,c)}}const QY=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function JY(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const XY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YY(t,e,n,r){JY(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(XY.has(i)?i:QY(i),e.attrs[i])}function OF(t){const{style:e}=t,n={};for(const r in e)(Bu(e[r])||$Y(r,t))&&(n[r]=e[r]);return n}function ZY(t){const e=OF(t);for(const n in t)if(Bu(t[n])){const r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;e[r]=t[n]}return e}function kF(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const Mx=t=>Array.isArray(t),R$e=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),eZ=t=>Mx(t)?t[t.length-1]||0:t;function oE(t){const e=Bu(t)?t.get():t;return R$e(e)?e.toValue():e}function I$e({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:L$e(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const tZ=t=>(e,n)=>{const r=z.exports.useContext(BM),i=z.exports.useContext(OM),s=()=>I$e(t,e,r,i);return n?s():NM(s)};function L$e(t,e,n,r){const i={},s=r(t);for(const h in s)i[h]=oE(s[h]);let{initial:o,animate:a}=t;const l=FM(t),u=HY(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const c=f?a:o;return c&&typeof c!="boolean"&&!kM(c)&&(Array.isArray(c)?c:[c]).forEach(g=>{const y=kF(t,g);if(!y)return;const{transitionEnd:_,transition:x,...w}=y;for(const b in w){let E=w[b];if(Array.isArray(E)){const C=f?E.length-1:0;E=E[C]}E!==null&&(i[b]=E)}for(const b in _)i[b]=_[b]}),i}const P$e={useVisualState:tZ({scrapeMotionValuesFromProps:ZY,createRenderState:KY,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}DF(n,r,{enableHardwareAcceleration:!1},BF(e.tagName),t.transformTemplate),YY(e,n)}})},D$e={useVisualState:tZ({scrapeMotionValuesFromProps:OF,createRenderState:PF})};function B$e(t,{forwardMotionProps:e=!1},n,r,i){return{...IF(t)?P$e:D$e,preloadedFeatures:n,useRender:M$e(e),createVisualElement:r,projectionNodeConstructor:i,Component:t}}var rr;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(rr||(rr={}));function UM(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function tD(t,e,n,r){z.exports.useEffect(()=>{const i=t.current;if(n&&i)return UM(i,e,n,r)},[t,e,n,r])}function O$e({whileFocus:t,visualElement:e}){const{animationState:n}=e,r=()=>{n&&n.setActive(rr.Focus,!0)},i=()=>{n&&n.setActive(rr.Focus,!1)};tD(e,"focus",t?r:void 0),tD(e,"blur",t?i:void 0)}function nZ(t){return typeof PointerEvent<"u"&&t instanceof PointerEvent?t.pointerType==="mouse":t instanceof MouseEvent}function rZ(t){return!!t.touches}function k$e(t){return e=>{const n=e instanceof MouseEvent;(!n||n&&e.button===0)&&t(e)}}const F$e={pageX:0,pageY:0};function N$e(t,e="page"){const r=t.touches[0]||t.changedTouches[0]||F$e;return{x:r[e+"X"],y:r[e+"Y"]}}function U$e(t,e="page"){return{x:t[e+"X"],y:t[e+"Y"]}}function FF(t,e="page"){return{point:rZ(t)?N$e(t,e):U$e(t,e)}}const iZ=(t,e=!1)=>{const n=r=>t(r,FF(r));return e?k$e(n):n},H$e=()=>cm&&window.onpointerdown===null,G$e=()=>cm&&window.ontouchstart===null,z$e=()=>cm&&window.onmousedown===null,$$e={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},V$e={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function sZ(t){return H$e()?t:G$e()?V$e[t]:z$e()?$$e[t]:t}function L0(t,e,n,r){return UM(t,sZ(e),iZ(n,e==="pointerdown"),r)}function LT(t,e,n,r){return tD(t,sZ(e),n&&iZ(n,e==="pointerdown"),r)}function oZ(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const oG=oZ("dragHorizontal"),aG=oZ("dragVertical");function aZ(t){let e=!1;if(t==="y")e=aG();else if(t==="x")e=oG();else{const n=oG(),r=aG();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function lZ(){const t=aZ(!0);return t?(t(),!1):!0}function lG(t,e,n){return(r,i)=>{!nZ(r)||lZ()||(t.animationState&&t.animationState.setActive(rr.Hover,e),n&&n(r,i))}}function W$e({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:r}){LT(r,"pointerenter",t||n?lG(r,!0,t):void 0,{passive:!t}),LT(r,"pointerleave",e||n?lG(r,!1,e):void 0,{passive:!e})}const uZ=(t,e)=>e?t===e?!0:uZ(t,e.parentElement):!1;function cZ(t){return z.exports.useEffect(()=>()=>t(),[])}const j$e=(t,e)=>n=>e(t(n)),HM=(...t)=>t.reduce(j$e);function q$e({onTap:t,onTapStart:e,onTapCancel:n,whileTap:r,visualElement:i}){const s=t||e||n||r,o=z.exports.useRef(!1),a=z.exports.useRef(null),l={passive:!(e||t||n||g)};function u(){a.current&&a.current(),a.current=null}function f(){return u(),o.current=!1,i.animationState&&i.animationState.setActive(rr.Tap,!1),!lZ()}function c(y,_){!f()||(uZ(i.current,y.target)?t&&t(y,_):n&&n(y,_))}function h(y,_){!f()||n&&n(y,_)}function g(y,_){u(),!o.current&&(o.current=!0,a.current=HM(L0(window,"pointerup",c,l),L0(window,"pointercancel",h,l)),i.animationState&&i.animationState.setActive(rr.Tap,!0),e&&e(y,_))}LT(i,"pointerdown",s?g:void 0,l),cZ(u)}const K$e="production",Q$e=typeof process>"u"||process.env===void 0?K$e:"production",uG=new Set;function J$e(t,e,n){t||uG.has(e)||(console.warn(e),n&&console.warn(n),uG.add(e))}const nD=new WeakMap,FI=new WeakMap,X$e=t=>{const e=nD.get(t.target);e&&e(t)},Y$e=t=>{t.forEach(X$e)};function Z$e({root:t,...e}){const n=t||document;FI.has(n)||FI.set(n,{});const r=FI.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Y$e,{root:t,...e})),r[i]}function eVe(t,e,n){const r=Z$e(e);return nD.set(t,n),r.observe(t),()=>{nD.delete(t),r.unobserve(t)}}function tVe({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const s=z.exports.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||n||r);i.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?iVe:rVe)(o,s.current,t,i)}const nVe={some:0,all:1};function rVe(t,e,n,{root:r,margin:i,amount:s="some",once:o}){z.exports.useEffect(()=>{if(!t||!n.current)return;const a={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof s=="number"?s:nVe[s]},l=u=>{const{isIntersecting:f}=u;if(e.isInView===f||(e.isInView=f,o&&!f&&e.hasEnteredView))return;f&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(rr.InView,f);const c=n.getProps(),h=f?c.onViewportEnter:c.onViewportLeave;h&&h(u)};return eVe(n.current,a,l)},[t,r,i,s])}function iVe(t,e,n,{fallback:r=!0}){z.exports.useEffect(()=>{!t||!r||(Q$e!=="production"&&J$e(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=n.getProps();i&&i(null),n.animationState&&n.animationState.setActive(rr.InView,!0)}))},[t])}const Xf=t=>e=>(t(e),null),sVe={inView:Xf(tVe),tap:Xf(q$e),focus:Xf(O$e),hover:Xf(W$e)};function fZ(){const t=z.exports.useContext(OM);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=z.exports.useId();return z.exports.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function hZ(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const PT=t=>t*1e3;var oVe=function(){},DT=function(){};const NF=t=>t,dZ=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,aVe=1e-7,lVe=12;function uVe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=dZ(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>aVe&&++a<lVe);return o}function cVe(t,e,n,r){if(t===e&&n===r)return NF;const i=s=>uVe(s,0,1,t,n);return s=>s===0||s===1?s:dZ(i(s),e,r)}const UF=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HF=t=>e=>1-t(1-e),GF=t=>t*t,fVe=HF(GF),pZ=UF(GF),mZ=t=>1-Math.sin(Math.acos(t)),zF=HF(mZ),hVe=UF(zF),gZ=(t=1.525)=>e=>e*e*((t+1)*e-t),$F=gZ(),dVe=HF($F),pVe=UF($F),mVe=t=>{const e=gZ(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},gVe=mVe(),yVe={linear:NF,easeIn:GF,easeInOut:pZ,easeOut:fVe,circIn:mZ,circInOut:hVe,circOut:zF,backIn:$F,backInOut:pVe,backOut:dVe,anticipate:gVe},cG=t=>{if(Array.isArray(t)){DT(t.length===4);const[e,n,r,i]=t;return cVe(e,n,r,i)}else if(typeof t=="string")return yVe[t];return t},vVe=t=>Array.isArray(t)&&typeof t[0]!="number",VF=(t,e)=>n=>Boolean(Iw(n)&&c$e.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),yZ=(t,e,n)=>r=>{if(!Iw(r))return r;const[i,s,o,a]=r.match(Cx);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_Ve=t=>vy(0,255,t),NI={...fm,transform:t=>Math.round(_Ve(t))},cp={test:VF("rgb","red"),parse:yZ("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+NI.transform(t)+", "+NI.transform(e)+", "+NI.transform(n)+", "+x_(__.transform(r))+")"};function xVe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const rD={test:VF("#"),parse:xVe,transform:cp.transform},d0={test:VF("hsl","hue"),parse:yZ("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Tu.transform(x_(e))+", "+Tu.transform(x_(n))+", "+x_(__.transform(r))+")"},Vs={test:t=>cp.test(t)||rD.test(t)||d0.test(t),parse:t=>cp.test(t)?cp.parse(t):d0.test(t)?d0.parse(t):rD.parse(t),transform:t=>Iw(t)?t:t.hasOwnProperty("red")?cp.transform(t):d0.transform(t)},vZ="${c}",_Z="${n}";function wVe(t){var e,n;return isNaN(t)&&Iw(t)&&(((e=t.match(Cx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(eD))===null||n===void 0?void 0:n.length)||0)>0}function BT(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,r=0;const i=t.match(eD);i&&(n=i.length,t=t.replace(eD,vZ),e.push(...i.map(Vs.parse)));const s=t.match(Cx);return s&&(r=s.length,t=t.replace(Cx,_Z),e.push(...s.map(fm.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function xZ(t){return BT(t).values}function wZ(t){const{values:e,numColors:n,tokenised:r}=BT(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?vZ:_Z,a<n?Vs.transform(s[a]):x_(s[a]));return o}}const bVe=t=>typeof t=="number"?0:t;function SVe(t){const e=xZ(t);return wZ(t)(e.map(bVe))}const Ch={test:wVe,parse:xZ,createTransformer:wZ,getAnimatableNone:SVe},fG=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Ch.test(e)&&!e.startsWith("url(")),Gd=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),pA=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),UI=()=>({type:"keyframes",ease:"linear",duration:.3}),AVe=t=>({type:"keyframes",duration:.8,values:t}),hG={x:Gd,y:Gd,z:Gd,rotate:Gd,rotateX:Gd,rotateY:Gd,rotateZ:Gd,scaleX:pA,scaleY:pA,scale:pA,opacity:UI,backgroundColor:UI,color:UI,default:pA},EVe=(t,e)=>{let n;return Mx(e)?n=AVe:n=hG[t]||hG.default,{to:e,...n(e)}},TVe=new Set(["brightness","contrast","saturate","opacity"]);function CVe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Cx)||[];if(!r)return t;const i=n.replace(r,"");let s=TVe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const MVe=/([a-z-]*)\(.*?\)/g,iD={...Ch,getAnimatableNone:t=>{const e=t.match(MVe);return e?e.map(CVe).join(" "):t}},RVe={...WY,color:Vs,backgroundColor:Vs,outlineColor:Vs,fill:Vs,stroke:Vs,borderColor:Vs,borderTopColor:Vs,borderRightColor:Vs,borderBottomColor:Vs,borderLeftColor:Vs,filter:iD,WebkitFilter:iD},WF=t=>RVe[t];function jF(t,e){var n;let r=WF(t);return r!==iD&&(r=Ch),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,e)}const IVe={current:!1},bZ=1/60*1e3,LVe=typeof performance<"u"?()=>performance.now():()=>Date.now(),SZ=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(LVe()),bZ);function PVe(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,f=!1)=>{const c=f&&i,h=c?e:n;return u&&o.add(l),h.indexOf(l)===-1&&(h.push(l),c&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const f=e[u];f(l),o.has(f)&&(a.schedule(f),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const Ac={delta:0,timestamp:0},DVe=40;let sD=!0,Rx=!1,oD=!1;const Pw=["read","update","preRender","render","postRender"],GM=Pw.reduce((t,e)=>(t[e]=PVe(()=>Rx=!0),t),{}),Cl=Pw.reduce((t,e)=>{const n=GM[e];return t[e]=(r,i=!1,s=!1)=>(Rx||OVe(),n.schedule(r,i,s)),t},{}),Mh=Pw.reduce((t,e)=>(t[e]=GM[e].cancel,t),{}),HI=Pw.reduce((t,e)=>(t[e]=()=>GM[e].process(Ac),t),{}),BVe=t=>GM[t].process(Ac),AZ=t=>{Rx=!1,Ac.delta=sD?bZ:Math.max(Math.min(t-Ac.timestamp,DVe),1),Ac.timestamp=t,oD=!0,Pw.forEach(BVe),oD=!1,Rx&&(sD=!1,SZ(AZ))},OVe=()=>{Rx=!0,sD=!0,oD||SZ(AZ)};function EZ(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Mh.read(r),t(s-e))};return Cl.read(r,!0),()=>Mh.read(r)}const Fr=(t,e,n)=>-n*t+n*e+t;function GI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function kVe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=GI(l,a,t+1/3),s=GI(l,a,t),o=GI(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const zI=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},FVe=[rD,cp,d0],NVe=t=>FVe.find(e=>e.test(t));function dG(t){const e=NVe(t);let n=e.parse(t);return e===d0&&(n=kVe(n)),n}const TZ=(t,e)=>{const n=dG(t),r=dG(e),i={...n};return s=>(i.red=zI(n.red,r.red,s),i.green=zI(n.green,r.green,s),i.blue=zI(n.blue,r.blue,s),i.alpha=Fr(n.alpha,r.alpha,s),cp.transform(i))};function CZ(t,e){return typeof t=="number"?n=>Fr(t,e,n):Vs.test(t)?TZ(t,e):RZ(t,e)}const MZ=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>CZ(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},UVe=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=CZ(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},RZ=(t,e)=>{const n=Ch.createTransformer(e),r=BT(t),i=BT(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?HM(MZ(r.values,i.values),n):o=>`${o>0?e:t}`},OT=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},pG=(t,e)=>n=>Fr(t,e,n);function HVe(t){return typeof t=="number"?pG:typeof t=="string"?Vs.test(t)?TZ:RZ:Array.isArray(t)?MZ:typeof t=="object"?UVe:pG}function GVe(t,e,n){const r=[],i=n||HVe(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=HM(l,a)}r.push(a)}return r}function IZ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;DT(s===e.length),DT(!r||!Array.isArray(r)||r.length===s-1),t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=GVe(e,r,i),a=o.length,l=u=>{let f=0;if(a>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const c=OT(t[f],t[f+1],u);return o[f](c)};return n?u=>l(vy(t[0],t[s-1],u)):l}function zVe(t,e){return t.map(()=>e||pZ).splice(0,t.length-1)}function $Ve(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function VVe(t,e){return t.map(n=>n*e)}function WVe({from:t=0,to:e=1,ease:n,offset:r,duration:i=300}){const s={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=VVe(r&&r.length===o.length?r:$Ve(o),i);function l(){return IZ(a,o,{ease:Array.isArray(n)?n:zVe(o,n)})}let u=l();return{next:f=>(s.value=u(f),s.done=f>=i,s),flipTarget:()=>{o.reverse(),u=l()}}}const $I=.001,jVe=.01,mG=10,qVe=.05,KVe=1;function QVe({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;oVe(t<=mG*1e3);let o=1-e;o=vy(qVe,KVe,o),t=vy(jVe,mG,t/1e3),o<1?(i=u=>{const f=u*o,c=f*t,h=f-n,g=aD(u,o),y=Math.exp(-c);return $I-h/g*y},s=u=>{const c=u*o*t,h=c*n+n,g=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-c),_=aD(Math.pow(u,2),o);return(-i(u)+$I>0?-1:1)*((h-g)*y)/_}):(i=u=>{const f=Math.exp(-u*t),c=(u-n)*t+1;return-$I+f*c},s=u=>{const f=Math.exp(-u*t),c=(n-u)*(t*t);return f*c});const a=5/t,l=XVe(i,s,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const JVe=12;function XVe(t,e,n){let r=n;for(let i=1;i<JVe;i++)r=r-t(r)/e(r);return r}function aD(t,e){return t*Math.sqrt(1-e*e)}const YVe=["duration","bounce"],ZVe=["stiffness","damping","mass"];function gG(t,e){return e.some(n=>t[n]!==void 0)}function e7e(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gG(t,ZVe)&&gG(t,YVe)){const n=QVe(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function LZ({from:t=0,to:e=1,restSpeed:n=2,restDelta:r=.01,...i}){const s={done:!1,value:t};let{stiffness:o,damping:a,mass:l,velocity:u,duration:f,isResolvedFromDuration:c}=e7e(i),h=yG,g=yG;function y(){const _=u?-(u/1e3):0,x=e-t,w=a/(2*Math.sqrt(o*l)),b=Math.sqrt(o/l)/1e3;if(r===void 0&&(r=Math.min(Math.abs(e-t)/100,.4)),w<1){const E=aD(b,w);h=C=>{const M=Math.exp(-w*b*C);return e-M*((_+w*b*x)/E*Math.sin(E*C)+x*Math.cos(E*C))},g=C=>{const M=Math.exp(-w*b*C);return w*b*M*(Math.sin(E*C)*(_+w*b*x)/E+x*Math.cos(E*C))-M*(Math.cos(E*C)*(_+w*b*x)-E*x*Math.sin(E*C))}}else if(w===1)h=E=>e-Math.exp(-b*E)*(x+(_+b*x)*E);else{const E=b*Math.sqrt(w*w-1);h=C=>{const M=Math.exp(-w*b*C),P=Math.min(E*C,300);return e-M*((_+w*b*x)*Math.sinh(P)+E*x*Math.cosh(P))/E}}}return y(),{next:_=>{const x=h(_);if(c)s.done=_>=f;else{const w=g(_)*1e3,b=Math.abs(w)<=n,E=Math.abs(e-x)<=r;s.done=b&&E}return s.value=s.done?e:x,s},flipTarget:()=>{u=-u,[t,e]=[e,t],y()}}}LZ.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const yG=t=>0;function t7e({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o={done:!1,value:e};let a=n*t;const l=e+a,u=s===void 0?l:s(l);return u!==l&&(a=u-e),{next:f=>{const c=-a*Math.exp(-f/r);return o.done=!(c>i||c<-i),o.value=o.done?u:u+c,o},flipTarget:()=>{}}}const n7e={decay:t7e,keyframes:WVe,spring:LZ};function PZ(t,e,n=0){return t-e-n}function r7e(t,e=0,n=0,r=!0){return r?PZ(e+-t,e,n):e-(t-e)+n}function i7e(t,e,n,r){return r?t>=e+n:t<=-n}const s7e=t=>{const e=({delta:n})=>t(n);return{start:()=>Cl.update(e,!0),stop:()=>Mh.update(e)}};function DZ({from:t,autoplay:e=!0,driver:n=s7e,elapsed:r=0,repeat:i=0,repeatType:s="loop",repeatDelay:o=0,onPlay:a,onStop:l,onComplete:u,onRepeat:f,onUpdate:c,type:h="keyframes",...g}){var y,_;let{to:x}=g,w,b=0,E=g.duration,C,M=!1,P=!0,D;const L=n7e[Array.isArray(x)?"keyframes":h];!((_=(y=L).needsInterpolation)===null||_===void 0)&&_.call(y,t,x)&&(D=IZ([0,100],[t,x],{clamp:!1}),t=0,x=100);const O=L({...g,from:t,to:x});function q(){b++,s==="reverse"?(P=b%2===0,r=r7e(r,E,o,P)):(r=PZ(r,E,o),s==="mirror"&&O.flipTarget()),M=!1,f&&f()}function j(){w.stop(),u&&u()}function oe(F){if(P||(F=-F),r+=F,!M){const Y=O.next(Math.max(0,r));C=Y.value,D&&(C=D(C)),M=P?Y.done:r<=0}c==null||c(C),M&&(b===0&&(E=E!==void 0?E:r),b<i?i7e(r,E,o,P)&&q():j())}function le(){a==null||a(),w=n(oe),w.start()}return e&&le(),{stop:()=>{l==null||l(),w.stop()}}}function BZ(t,e){return e?t*(1e3/e):0}function o7e({from:t=0,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:f,onUpdate:c,onComplete:h,onStop:g}){let y;function _(E){return n!==void 0&&E<n||r!==void 0&&E>r}function x(E){return n===void 0?r:r===void 0||Math.abs(n-E)<Math.abs(r-E)?n:r}function w(E){y==null||y.stop(),y=DZ({...E,driver:f,onUpdate:C=>{var M;c==null||c(C),(M=E.onUpdate)===null||M===void 0||M.call(E,C)},onComplete:h,onStop:g})}function b(E){w({type:"spring",stiffness:o,damping:a,restDelta:l,...E})}if(_(t))b({from:t,velocity:e,to:x(t)});else{let E=i*e+t;typeof u<"u"&&(E=u(E));const C=x(E),M=C===n?-1:1;let P,D;const L=O=>{P=D,D=O,e=BZ(O-P,Ac.delta),(M===1&&O>C||M===-1&&O<C)&&b({from:O,to:C,velocity:e})};w({type:"decay",from:t,velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:u,onUpdate:_(E)?L:void 0})}return{stop:()=>y==null?void 0:y.stop()}}function a7e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,...u}){return!!Object.keys(u).length}function l7e({ease:t,times:e,...n}){const r={...n};return e&&(r.offset=e),n.duration&&(r.duration=PT(n.duration)),n.repeatDelay&&(r.repeatDelay=PT(n.repeatDelay)),t&&(r.ease=vVe(t)?t.map(cG):cG(t)),n.type==="tween"&&(r.type="keyframes"),n.type!=="spring"&&(r.type="keyframes"),r}function u7e(t,e){const n=qF(t,e)||{};return n.delay!==void 0?n.delay:t.delay!==void 0?t.delay:0}function c7e(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function f7e(t,e,n){return Array.isArray(e.to)&&t.duration===void 0&&(t.duration=.8),c7e(e),a7e(t)||(t={...t,...EVe(n,e.to)}),{...e,...l7e(t)}}function h7e(t,e,n,r,i){const s=qF(r,t)||{};let o=s.from!==void 0?s.from:e.get();const a=fG(t,n);o==="none"&&a&&typeof n=="string"?o=jF(t,n):vG(o)&&typeof n=="string"?o=_G(n):!Array.isArray(n)&&vG(n)&&typeof o=="string"&&(n=_G(o));const l=fG(t,o);function u(){const c={from:o,to:n,velocity:e.getVelocity(),onComplete:i,onUpdate:h=>e.set(h)};return s.type==="inertia"||s.type==="decay"?o7e({...c,...s}):DZ({...f7e(s,c,t),onUpdate:h=>{c.onUpdate(h),s.onUpdate&&s.onUpdate(h)},onComplete:()=>{c.onComplete(),s.onComplete&&s.onComplete()}})}function f(){const c=eZ(n);return e.set(c),i(),s.onUpdate&&s.onUpdate(c),s.onComplete&&s.onComplete(),{stop:()=>{}}}return!l||!a||s.type===!1?f:u}function vG(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function _G(t){return typeof t=="number"?0:jF("",t)}function qF(t,e){return t[e]||t.default||t}function KF(t,e,n,r={}){return IVe.current&&(r={type:!1}),e.start(i=>{let s;const o=h7e(t,e,n,r,i),a=u7e(r,t),l=()=>s=o();let u;return a?u=EZ(l,PT(a)):l(),()=>{u&&u(),s&&s.stop()}})}const d7e=t=>/^\-?\d*\.?\d+$/.test(t),p7e=t=>/^0[^.\s]+$/.test(t);function QF(t,e){t.indexOf(e)===-1&&t.push(e)}function JF(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class w_{constructor(){this.subscriptions=[]}add(e){return QF(this.subscriptions,e),()=>JF(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(!!i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const m7e=t=>!isNaN(parseFloat(t));class g7e{constructor(e){this.version="7.7.2",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new w_,this.velocityUpdateSubscribers=new w_,this.renderSubscribers=new w_,this.canTrackVelocity=!1,this.updateAndNotify=(n,r=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:s}=Ac;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Cl.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),r&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>Cl.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=m7e(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(e){return e(this.get()),this.renderSubscribers.add(e)}attach(e){this.passiveEffect=e}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?BZ(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.stopAnimation=e(n)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function _y(t){return new g7e(t)}const OZ=t=>e=>e.test(t),y7e={test:t=>t==="auto",parse:t=>t},kZ=[fm,Gt,Tu,Df,h$e,f$e,y7e],B1=t=>kZ.find(OZ(t)),v7e=[...kZ,Vs,Ch],_7e=t=>v7e.find(OZ(t));function x7e(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function w7e(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function zM(t,e,n){const r=t.getProps();return kF(r,e,n!==void 0?n:r.custom,x7e(t),w7e(t))}function b7e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_y(n))}function S7e(t,e){const n=zM(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=eZ(s[o]);b7e(t,o,a)}}function A7e(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(!!o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),f!=null&&(typeof f=="string"&&(d7e(f)||p7e(f))?f=parseFloat(f):!_7e(f)&&Ch.test(u)&&(f=jF(l,u)),t.addValue(l,_y(f)),n[l]===void 0&&(n[l]=f),f!==null&&t.setBaseTarget(l,f))}}function E7e(t,e){return e?(e[t]||e.default||e).from:void 0}function T7e(t,e,n){var r;const i={};for(const s in t){const o=E7e(s,e);i[s]=o!==void 0?o:(r=n.getValue(s))===null||r===void 0?void 0:r.get()}return i}function kT(t){return Boolean(Bu(t)&&t.add)}function C7e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>lD(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=lD(t,e,n);else{const i=typeof e=="function"?zM(t,e,n.custom):e;r=FZ(t,i,n)}return r.then(()=>t.notify("AnimationComplete",e))}function lD(t,e,n={}){var r;const i=zM(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>FZ(t,i,n):()=>Promise.resolve(),a=!((r=t.variantChildren)===null||r===void 0)&&r.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:c,staggerDirection:h}=s;return M7e(t,e,f+u,c,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,f]=l==="beforeChildren"?[o,a]:[a,o];return u().then(f)}else return Promise.all([o(),a(n.delay)])}function FZ(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(o=r);const f=[],c=i&&((s=t.animationState)===null||s===void 0?void 0:s.getState()[i]);for(const h in l){const g=t.getValue(h),y=l[h];if(!g||y===void 0||c&&I7e(c,h))continue;let _={delay:n,...o};t.shouldReduceMotion&&av.has(h)&&(_={..._,type:!1,delay:0});let x=KF(h,g,y,_);kT(u)&&(u.add(h),x=x.then(()=>u.remove(h))),f.push(x)}return Promise.all(f).then(()=>{a&&S7e(t,a)})}function M7e(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(R7e).forEach((u,f)=>{o.push(lD(u,e,{...s,delay:n+l(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function R7e(t,e){return t.sortNodePosition(e)}function I7e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}const XF=[rr.Animate,rr.InView,rr.Focus,rr.Hover,rr.Tap,rr.Drag,rr.Exit],L7e=[...XF].reverse(),P7e=XF.length;function D7e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>C7e(t,n,r)))}function B7e(t){let e=D7e(t);const n=k7e();let r=!0;const i=(l,u)=>{const f=zM(t,u);if(f){const{transition:c,transitionEnd:h,...g}=f;l={...l,...g,...h}}return l};function s(l){e=l(t)}function o(l,u){const f=t.getProps(),c=t.getVariantContext(!0)||{},h=[],g=new Set;let y={},_=1/0;for(let w=0;w<P7e;w++){const b=L7e[w],E=n[b],C=f[b]!==void 0?f[b]:c[b],M=Ex(C),P=b===u?E.isActive:null;P===!1&&(_=w);let D=C===c[b]&&C!==f[b]&&M;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),E.protectedKeys={...y},!E.isActive&&P===null||!C&&!E.prevProp||kM(C)||typeof C=="boolean")continue;const L=O7e(E.prevProp,C);let O=L||b===u&&E.isActive&&!D&&M||w>_&&M;const q=Array.isArray(C)?C:[C];let j=q.reduce(i,{});P===!1&&(j={});const{prevResolvedValues:oe={}}=E,le={...oe,...j},F=Y=>{O=!0,g.delete(Y),E.needsAnimating[Y]=!0};for(const Y in le){const H=j[Y],ee=oe[Y];y.hasOwnProperty(Y)||(H!==ee?Mx(H)&&Mx(ee)?!hZ(H,ee)||L?F(Y):E.protectedKeys[Y]=!0:H!==void 0?F(Y):g.add(Y):H!==void 0&&g.has(Y)?F(Y):E.protectedKeys[Y]=!0)}E.prevProp=C,E.prevResolvedValues=j,E.isActive&&(y={...y,...j}),r&&t.blockInitialAnimation&&(O=!1),O&&!D&&h.push(...q.map(Y=>({animation:Y,options:{type:b,...l}})))}if(g.size){const w={};g.forEach(b=>{const E=t.getBaseTarget(b);E!==void 0&&(w[b]=E)}),h.push({animation:w})}let x=Boolean(h.length);return r&&f.initial===!1&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(h):Promise.resolve()}function a(l,u,f){var c;if(n[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(g=>{var y;return(y=g.animationState)===null||y===void 0?void 0:y.setActive(l,u)}),n[l].isActive=u;const h=o(f,l);for(const g in n)n[g].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function O7e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hZ(e,t):!1}function zd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k7e(){return{[rr.Animate]:zd(!0),[rr.InView]:zd(),[rr.Hover]:zd(),[rr.Tap]:zd(),[rr.Drag]:zd(),[rr.Focus]:zd(),[rr.Exit]:zd()}}const F7e={animation:Xf(({visualElement:t,animate:e})=>{t.animationState||(t.animationState=B7e(t)),kM(e)&&z.exports.useEffect(()=>e.subscribe(t),[e])}),exit:Xf(t=>{const{custom:e,visualElement:n}=t,[r,i]=fZ(),s=z.exports.useContext(OM);z.exports.useEffect(()=>{n.isPresent=r;const o=n.animationState&&n.animationState.setActive(rr.Exit,!r,{custom:s&&s.custom||e});o&&!r&&o.then(i)},[r])})},xG=(t,e)=>Math.abs(t-e);function N7e(t,e){const n=xG(t.x,e.x),r=xG(t.y,e.y);return Math.sqrt(n**2+r**2)}class NZ{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=WI(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,c=N7e(u.offset,{x:0,y:0})>=3;if(!f&&!c)return;const{point:h}=u,{timestamp:g}=Ac;this.history.push({...h,timestamp:g});const{onStart:y,onMove:_}=this.handlers;f||(y&&y(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,u)},this.handlePointerMove=(u,f)=>{if(this.lastMoveEvent=u,this.lastMoveEventInfo=VI(f,this.transformPagePoint),nZ(u)&&u.buttons===0){this.handlePointerUp(u,f);return}Cl.update(this.updatePoint,!0)},this.handlePointerUp=(u,f)=>{this.end();const{onEnd:c,onSessionEnd:h}=this.handlers,g=WI(VI(f,this.transformPagePoint),this.history);this.startEvent&&c&&c(u,g),h&&h(u,g)},rZ(e)&&e.touches.length>1)return;this.handlers=n,this.transformPagePoint=r;const i=FF(e),s=VI(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Ac;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,WI(s,this.history)),this.removeListeners=HM(L0(window,"pointermove",this.handlePointerMove),L0(window,"pointerup",this.handlePointerUp),L0(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mh.update(this.updatePoint)}}function VI(t,e){return e?{point:e(t.point)}:t}function wG(t,e){return{x:t.x-e.x,y:t.y-e.y}}function WI({point:t},e){return{point:t,delta:wG(t,UZ(e)),offset:wG(t,U7e(e)),velocity:H7e(e,.1)}}function U7e(t){return t[0]}function UZ(t){return t[t.length-1]}function H7e(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=UZ(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>PT(e)));)n--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function pa(t){return t.max-t.min}function uD(t,e=0,n=.01){return Math.abs(t-e)<=n}function bG(t,e,n,r=.5){t.origin=r,t.originPoint=Fr(e.min,e.max,t.origin),t.scale=pa(n)/pa(e),(uD(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Fr(n.min,n.max,t.origin)-t.originPoint,(uD(t.translate)||isNaN(t.translate))&&(t.translate=0)}function b_(t,e,n,r){bG(t.x,e.x,n.x,r==null?void 0:r.originX),bG(t.y,e.y,n.y,r==null?void 0:r.originY)}function SG(t,e,n){t.min=n.min+e.min,t.max=t.min+pa(e)}function G7e(t,e,n){SG(t.x,e.x,n.x),SG(t.y,e.y,n.y)}function AG(t,e,n){t.min=e.min-n.min,t.max=t.min+pa(e)}function S_(t,e,n){AG(t.x,e.x,n.x),AG(t.y,e.y,n.y)}function z7e(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fr(n,t,r.max):Math.min(t,n)),t}function EG(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $7e(t,{top:e,left:n,bottom:r,right:i}){return{x:EG(t.x,n,i),y:EG(t.y,e,r)}}function TG(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function V7e(t,e){return{x:TG(t.x,e.x),y:TG(t.y,e.y)}}function W7e(t,e){let n=.5;const r=pa(t),i=pa(e);return i>r?n=OT(e.min,e.max-r,t.min):r>i&&(n=OT(t.min,t.max-i,e.min)),vy(0,1,n)}function j7e(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const cD=.35;function q7e(t=cD){return t===!1?t=0:t===!0&&(t=cD),{x:CG(t,"left","right"),y:CG(t,"top","bottom")}}function CG(t,e,n){return{min:MG(t,e),max:MG(t,n)}}function MG(t,e){return typeof t=="number"?t:t[e]||0}const RG=()=>({translate:0,scale:1,origin:0,originPoint:0}),A_=()=>({x:RG(),y:RG()}),IG=()=>({min:0,max:0}),gi=()=>({x:IG(),y:IG()});function su(t){return[t("x"),t("y")]}function HZ({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function K7e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Q7e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jI(t){return t===void 0||t===1}function fD({scale:t,scaleX:e,scaleY:n}){return!jI(t)||!jI(e)||!jI(n)}function Xd(t){return fD(t)||GZ(t)||t.z||t.rotate||t.rotateX||t.rotateY}function GZ(t){return LG(t.x)||LG(t.y)}function LG(t){return t&&t!=="0%"}function FT(t,e,n){const r=t-n,i=e*r;return n+i}function PG(t,e,n,r,i){return i!==void 0&&(t=FT(t,i,r)),FT(t,n,r)+e}function hD(t,e=0,n=1,r,i){t.min=PG(t.min,e,n,r,i),t.max=PG(t.max,e,n,r,i)}function zZ(t,{x:e,y:n}){hD(t.x,e.translate,e.scale,e.originPoint),hD(t.y,n.translate,n.scale,n.originPoint)}function J7e(t,e,n,r=!1){var i,s;const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let u=0;u<o;u++)a=n[u],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&p0(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,zZ(t,l)),r&&Xd(a.latestValues)&&p0(t,a.latestValues));e.x=DG(e.x),e.y=DG(e.y)}function DG(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ff(t,e){t.min=t.min+e,t.max=t.max+e}function BG(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Fr(t.min,t.max,s);hD(t,e[n],e[r],o,e.scale)}const X7e=["x","scaleX","originX"],Y7e=["y","scaleY","originY"];function p0(t,e){BG(t.x,e,X7e),BG(t.y,e,Y7e)}function $Z(t,e){return HZ(Q7e(t.getBoundingClientRect(),e))}function Z7e(t,e,n){const r=$Z(t,n),{scroll:i}=e;return i&&(Ff(r.x,i.offset.x),Ff(r.y,i.offset.y)),r}const eWe=new WeakMap;class tWe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gi(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const r=a=>{this.stopAnimation(),n&&this.snapToCursor(FF(a,"page").point)},i=(a,l)=>{var u;const{drag:f,dragPropagation:c,onDragStart:h}=this.getProps();f&&!c&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=aZ(f),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),su(g=>{var y,_;let x=this.getAxisMotionValue(g).get()||0;if(Tu.test(x)){const w=(_=(y=this.visualElement.projection)===null||y===void 0?void 0:y.layout)===null||_===void 0?void 0:_.layoutBox[g];w&&(x=pa(w)*(parseFloat(x)/100))}this.originPoint[g]=x}),h==null||h(a,l),(u=this.visualElement.animationState)===null||u===void 0||u.setActive(rr.Drag,!0))},s=(a,l)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:c,onDrag:h}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:g}=l;if(f&&this.currentDirection===null){this.currentDirection=nWe(g),this.currentDirection!==null&&(c==null||c(this.currentDirection));return}this.updateAxis("x",l.point,g),this.updateAxis("y",l.point,g),this.visualElement.render(),h==null||h(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new NZ(e,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s==null||s(e,n)}cancel(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(rr.Drag,!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!mA(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=z7e(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&h0(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=$7e(r.layoutBox,e):this.constraints=!1,this.elastic=q7e(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&su(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=j7e(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!h0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Z7e(r,i.root,this.visualElement.getTransformPagePoint());let o=V7e(i.layout.layoutBox,s);if(n){const a=n(K7e(o));this.hasMutatedConstraints=!!a,a&&(o=HZ(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=su(f=>{if(!mA(f,n,this.currentDirection))return;let c=(l==null?void 0:l[f])||{};o&&(c={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,y={type:"inertia",velocity:r?e[f]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...c};return this.startAxisValueAnimation(f,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return KF(e,r,0,n)}stopAnimation(){su(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var n;const r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,((n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])||0)}snapToCursor(e){su(n=>{const{drag:r}=this.getProps();if(!mA(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Fr(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!h0(r)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};su(a=>{const l=this.getAxisMotionValue(a);if(l){const u=l.get();s[a]=W7e({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),su(a=>{if(!mA(a,n,null))return;const l=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];l.set(Fr(u,f,s[a]))})}addListeners(){var e;if(!this.visualElement.current)return;eWe.set(this.visualElement,this);const n=this.visualElement.current,r=L0(n,"pointerdown",u=>{const{drag:f,dragListener:c=!0}=this.getProps();f&&c&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();h0(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&((e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout()),i();const a=UM(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(su(c=>{const h=this.getAxisMotionValue(c);!h||(this.originPoint[c]+=u[c].translate,h.set(h.get()+u[c].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=cD,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function mA(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function nWe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function rWe(t){const{dragControls:e,visualElement:n}=t,r=NM(()=>new tWe(n));z.exports.useEffect(()=>e&&e.subscribe(r),[r,e]),z.exports.useEffect(()=>r.addListeners(),[r])}function iWe({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:r,visualElement:i}){const s=t||e||n||r,o=z.exports.useRef(null),{transformPagePoint:a}=z.exports.useContext(RF),l={onSessionStart:r,onStart:e,onMove:t,onEnd:(f,c)=>{o.current=null,n&&n(f,c)}};z.exports.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function u(f){o.current=new NZ(f,l,{transformPagePoint:a})}LT(i,"pointerdown",s&&u),cZ(()=>o.current&&o.current.end())}const sWe={pan:Xf(iWe),drag:Xf(rWe)};function dD(t){return typeof t=="string"&&t.startsWith("var(--")}const VZ=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function oWe(t){const e=VZ.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function pD(t,e,n=1){const[r,i]=oWe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():dD(i)?pD(i,e,n+1):i}function aWe(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!dD(s))return;const o=pD(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!dD(s))continue;const o=pD(s,r);!o||(e[i]=o,n&&n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const lWe=new Set(["width","height","top","left","right","bottom","x","y"]),WZ=t=>lWe.has(t),uWe=t=>Object.keys(t).some(WZ),jZ=(t,e)=>{t.set(e,!1),t.set(e)},OG=t=>t===fm||t===Gt;var kG;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(kG||(kG={}));const FG=(t,e)=>parseFloat(t.split(", ")[e]),NG=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return FG(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?FG(s[1],t):0}},cWe=new Set(["x","y","z"]),fWe=RT.filter(t=>!cWe.has(t));function hWe(t){const e=[];return fWe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const UG={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:NG(4,13),y:NG(5,14)},dWe=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=UG[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const f=e.getValue(u);jZ(f,a[u]),t[u]=UG[u](l,s)}),t},pWe=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(WZ);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let f=n[l],c=B1(f);const h=e[l];let g;if(Mx(h)){const y=h.length,_=h[0]===null?1:0;f=h[_],c=B1(f);for(let x=_;x<y;x++)g?DT(B1(h[x])===g):g=B1(h[x])}else g=B1(h);if(c!==g)if(OG(c)&&OG(g)){const y=u.get();typeof y=="string"&&u.set(parseFloat(y)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&g===Gt&&(e[l]=h.map(parseFloat))}else(c==null?void 0:c.transform)&&(g==null?void 0:g.transform)&&(f===0||h===0)?f===0?u.set(g.transform(f)):e[l]=c.transform(h):(o||(s=hWe(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],jZ(u,h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=dWe(e,t,a);return s.length&&s.forEach(([f,c])=>{t.getValue(f).set(c)}),t.render(),cm&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function mWe(t,e,n,r){return uWe(e)?pWe(t,e,n,r):{target:e,transitionEnd:r}}const gWe=(t,e,n,r)=>{const i=aWe(t,e,r);return e=i.target,r=i.transitionEnd,mWe(t,e,n,r)},mD={current:null},qZ={current:!1};function yWe(){if(qZ.current=!0,!!cm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mD.current=t.matches;t.addListener(e),e()}else mD.current=!1}function vWe(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Bu(s))t.addValue(i,s),kT(r)&&r.add(i);else if(Bu(o))t.addValue(i,_y(s)),kT(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,_y(a!==void 0?a:s))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const KZ=Object.keys(Tx),_We=KZ.length,HG=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xWe{constructor({parent:e,props:n,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{!this.current||(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Cl.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=FM(n),this.isVariantNode=HY(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n);for(const f in u){const c=u[f];o[f]!==void 0&&Bu(c)&&(c.set(o[f],!1),kT(l)&&l.add(f))}}scrapeMotionValuesFromProps(e){return{}}mount(e){var n;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),qZ.current||yWe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mD.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,n,r;(e=this.projection)===null||e===void 0||e.unmount(),Mh.update(this.notifyUpdate),Mh.render(this.render),this.valueSubscriptions.forEach(i=>i()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,n){const r=av.has(e),i=n.onChange(o=>{this.latestValues[e]=o,this.props.onUpdate&&Cl.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.onRenderRequest(this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures(e,n,r,i,s,o){const a=[];for(let l=0;l<_We;l++){const u=KZ[l],{isEnabled:f,Component:c}=Tx[u];f(e)&&c&&a.push(z.exports.createElement(c,{key:u,...e,visualElement:this}))}if(!this.projection&&s){this.projection=new s(i,this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:f,dragConstraints:c,layoutScroll:h}=e;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:Boolean(f)||c&&h0(c),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,layoutScroll:h})}return a}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(let n=0;n<HG.length;n++){const r=HG[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i=e["on"+r];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=vWe(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}getProps(){return this.props}getVariant(e){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var n,r;if(e)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const s=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const i={};for(let s=0;s<wWe;s++){const o=QZ[s],a=this.props[o];(Ex(a)||a===!1)&&(i[o]=a)}return i}addVariantChild(e){var n;const r=this.getClosestVariantNode();if(r)return(n=r.variantChildren)===null||n===void 0||n.add(e),()=>r.variantChildren.delete(e)}addValue(e,n){this.hasValue(e)&&this.removeValue(e),this.values.set(e,n),this.latestValues[e]=n.get(),this.bindToMotionValue(e,n)}removeValue(e){var n;this.values.delete(e),(n=this.valueSubscriptions.get(e))===null||n===void 0||n(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_y(n),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=kF(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Bu(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new w_),this.events[e].add(n)}notify(e,...n){var r;(r=this.events[e])===null||r===void 0||r.notify(...n)}}const QZ=["initial",...XF],wWe=QZ.length;class JZ extends xWe{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){var r;return(r=e.style)===null||r===void 0?void 0:r[n]}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=T7e(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){A7e(this,r,o);const a=gWe(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function bWe(t){return window.getComputedStyle(t)}class SWe extends JZ{readValueFromInstance(e,n){if(av.has(n)){const r=WF(n);return r&&r.default||0}else{const r=bWe(e),i=(VY(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return $Z(e,n)}build(e,n,r,i){LF(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e){return OF(e)}renderInstance(e,n,r,i){JY(e,n,r,i)}}class AWe extends JZ{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){var r;return av.has(n)?((r=WF(n))===null||r===void 0?void 0:r.default)||0:(n=XY.has(n)?n:QY(n),e.getAttribute(n))}measureInstanceViewportBox(){return gi()}scrapeMotionValuesFromProps(e){return ZY(e)}build(e,n,r,i){DF(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){YY(e,n,r,i)}mount(e){this.isSVGTag=BF(e.tagName),super.mount(e)}}const EWe=(t,e)=>IF(t)?new AWe(e,{enableHardwareAcceleration:!1}):new SWe(e,{enableHardwareAcceleration:!0});function GG(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const O1={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Gt.test(t))t=parseFloat(t);else return t;const n=GG(t,e.target.x),r=GG(t,e.target.y);return`${n}% ${r}%`}},zG="_$css",TWe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),s=[];i&&(t=t.replace(VZ,g=>(s.push(g),zG)));const o=Ch.parse(t);if(o.length>5)return r;const a=Ch.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=f;const c=Fr(u,f,.5);typeof o[2+l]=="number"&&(o[2+l]/=c),typeof o[3+l]=="number"&&(o[3+l]/=c);let h=a(o);if(i){let g=0;h=h.replace(zG,()=>{const y=s[g];return g++,y})}return h}};class CWe extends ut.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s$e(RWe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),v_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Cl.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function MWe(t){const[e,n]=fZ(),r=z.exports.useContext(GY);return W(CWe,{...t,layoutGroup:r,switchLayoutGroup:z.exports.useContext(zY),isPresent:e,safeToRemove:n})}const RWe={borderRadius:{...O1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:O1,borderTopRightRadius:O1,borderBottomLeftRadius:O1,borderBottomRightRadius:O1,boxShadow:TWe},IWe={measureLayout:MWe};function LWe(t,e,n={}){const r=Bu(t)?t:_y(t);return KF("",r,e,n),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const XZ=["TopLeft","TopRight","BottomLeft","BottomRight"],PWe=XZ.length,$G=t=>typeof t=="string"?parseFloat(t):t,VG=t=>typeof t=="number"||Gt.test(t);function DWe(t,e,n,r,i,s){i?(t.opacity=Fr(0,n.opacity!==void 0?n.opacity:1,BWe(r)),t.opacityExit=Fr(e.opacity!==void 0?e.opacity:1,0,OWe(r))):s&&(t.opacity=Fr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<PWe;o++){const a=`border${XZ[o]}Radius`;let l=WG(e,a),u=WG(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||VG(l)===VG(u)?(t[a]=Math.max(Fr($G(l),$G(u),r),0),(Tu.test(u)||Tu.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Fr(e.rotate||0,n.rotate||0,r))}function WG(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BWe=YZ(0,.5,zF),OWe=YZ(.5,.95,NF);function YZ(t,e,n){return r=>r<t?0:r>e?1:n(OT(t,e,r))}function jG(t,e){t.min=e.min,t.max=e.max}function ul(t,e){jG(t.x,e.x),jG(t.y,e.y)}function qG(t,e,n,r,i){return t-=e,t=FT(t,1/n,r),i!==void 0&&(t=FT(t,1/i,r)),t}function kWe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Tu.test(e)&&(e=parseFloat(e),e=Fr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Fr(s.min,s.max,r);t===s&&(a-=e),t.min=qG(t.min,e,n,a,i),t.max=qG(t.max,e,n,a,i)}function KG(t,e,[n,r,i],s,o){kWe(t,e[n],e[r],e[i],e.scale,s,o)}const FWe=["x","scaleX","originX"],NWe=["y","scaleY","originY"];function QG(t,e,n,r){KG(t.x,e,FWe,n==null?void 0:n.x,r==null?void 0:r.x),KG(t.y,e,NWe,n==null?void 0:n.y,r==null?void 0:r.y)}function JG(t){return t.translate===0&&t.scale===1}function ZZ(t){return JG(t.x)&&JG(t.y)}function eee(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function XG(t){return pa(t.x)/pa(t.y)}class UWe{constructor(){this.members=[]}add(e){QF(this.members,e),e.scheduleRender()}remove(e){if(JF(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var n,r,i,s,o;(r=(n=e.options).onExitComplete)===null||r===void 0||r.call(n),(o=(i=e.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YG(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:f}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),f&&(r+=`rotateY(${f}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const HWe=(t,e)=>t.depth-e.depth;class GWe{constructor(){this.children=[],this.isDirty=!1}add(e){QF(this.children,e),this.isDirty=!0}remove(e){JF(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(HWe),this.isDirty=!1,this.children.forEach(e)}}const ZG=["","X","Y","Z"],ez=1e3;let zWe=0;function tee({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=zWe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(WWe),this.nodes.forEach(KWe),this.nodes.forEach(QWe)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new GWe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new w_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:u,layout:f,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(f||u)&&(this.isLayoutDirty=!0),t){let h;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=EZ(g,250),v_.hasAnimatedSinceResize&&(v_.hasAnimatedSinceResize=!1,this.nodes.forEach(nz))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&c&&(u||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeTargetChanged:y,layout:_})=>{var x,w,b,E,C;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=(w=(x=this.options.transition)!==null&&x!==void 0?x:c.getDefaultTransition())!==null&&w!==void 0?w:eje,{onLayoutAnimationStart:P,onLayoutAnimationComplete:D}=c.getProps(),L=!this.targetLayout||!eee(this.targetLayout,_)||y,O=!g&&y;if(((b=this.resumeFrom)===null||b===void 0?void 0:b.instance)||O||g&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,O);const q={...qF(M,"layout"),onPlay:P,onComplete:D};c.shouldReduceMotion&&(q.delay=0,q.type=!1),this.startAnimation(q)}else!g&&this.animationProgress===0&&nz(this),this.isLead()&&((C=(E=this.options).onExitComplete)===null||C===void 0||C.call(E));this.targetLayout=_})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Mh.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(JWe),this.animationId++)}willUpdate(o=!0){var a,l,u;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot")}const{layoutId:f,layout:c}=this.options;if(f===void 0&&!c)return;const h=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;this.prevTransformTemplateValue=h==null?void 0:h(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tz);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(tje),this.potentialNodes.clear()),this.nodes.forEach(qWe),this.nodes.forEach($We),this.nodes.forEach(VWe),this.clearAllSnapshots(),HI.update(),HI.preRender(),HI.render())}clearAllSnapshots(){this.nodes.forEach(jWe),this.sharedNodes.forEach(XWe)}scheduleUpdateProjection(){Cl.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Cl.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){var o;if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!ZZ(this.projectionDelta),u=(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate,f=u==null?void 0:u(this.latestValues,""),c=f!==this.prevTransformTemplateValue;a&&(l||Xd(this.latestValues)||c)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),nje(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return gi();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ff(a.x,l.offset.x),Ff(a.y,l.offset.y)),a}removeElementScroll(o){const a=gi();ul(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:f,options:c}=u;if(u!==this.root&&f&&c.layoutScroll){if(f.isRoot){ul(a,o);const{scroll:h}=this.root;h&&(Ff(a.x,-h.offset.x),Ff(a.y,-h.offset.y))}Ff(a.x,f.offset.x),Ff(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const l=gi();ul(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&p0(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Xd(f.latestValues)&&p0(l,f.latestValues)}return Xd(this.latestValues)&&p0(l,this.latestValues),l}removeTransform(o){var a;const l=gi();ul(l,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!Xd(f.latestValues))continue;fD(f.latestValues)&&f.updateSnapshot();const c=gi(),h=f.measurePageBox();ul(c,h),QG(l,f.latestValues,(a=f.snapshot)===null||a===void 0?void 0:a.layoutBox,c)}return Xd(this.latestValues)&&QG(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:u}=this.options;if(!(!this.layout||!(l||u))){if(!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout?(this.relativeParent=f,this.relativeTarget=gi(),this.relativeTargetOrigin=gi(),S_(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),ul(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gi(),this.targetWithTransforms=gi()),this.relativeTarget&&this.relativeTargetOrigin&&((o=this.relativeParent)===null||o===void 0?void 0:o.target)?G7e(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ul(this.target,this.layout.layoutBox),zZ(this.target,this.targetDelta)):ul(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&Boolean(f.resumingFrom)===Boolean(this.resumingFrom)&&!f.options.layoutScroll&&f.target?(this.relativeParent=f,this.relativeTarget=gi(),this.relativeTargetOrigin=gi(),S_(this.relativeTargetOrigin,this.target,f.target),ul(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fD(this.parent.latestValues)||GZ(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{isProjectionDirty:a,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const u=this.getLead(),f=Boolean(this.resumingFrom)||this!==u;let c=!0;if(a&&(c=!1),f&&l&&(c=!1),c)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;ul(this.layoutCorrected,this.layout.layoutBox),J7e(this.layoutCorrected,this.treeScale,this.path,f);const{target:y}=u;if(!y)return;this.projectionDelta||(this.projectionDelta=A_(),this.projectionDeltaWithTransform=A_());const _=this.treeScale.x,x=this.treeScale.y,w=this.projectionTransform;b_(this.projectionDelta,this.layoutCorrected,y,this.latestValues),this.projectionTransform=YG(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==_||this.treeScale.y!==x)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,u;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l,u;const f=this.snapshot,c=(f==null?void 0:f.latestValues)||{},h={...this.latestValues},g=A_();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;const y=gi(),_=(f==null?void 0:f.source)!==((l=this.layout)===null||l===void 0?void 0:l.source),x=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,w=Boolean(_&&!x&&this.options.crossfade===!0&&!this.path.some(ZWe));this.animationProgress=0,this.mixTargetDelta=b=>{var E;const C=b/1e3;rz(g.x,o.x,C),rz(g.y,o.y,C),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((E=this.relativeParent)===null||E===void 0?void 0:E.layout)&&(S_(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),YWe(this.relativeTarget,this.relativeTargetOrigin,y,C)),_&&(this.animationValues=h,DWe(h,c,this.latestValues,C,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(Mh.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cl.update(()=>{v_.hasAnimatedSinceResize=!0,this.currentAnimation=LWe(0,ez,{...o,onUpdate:u=>{var f;this.mixTargetDelta(u),(f=o.onUpdate)===null||f===void 0||f.call(o,u)},onComplete:()=>{var u;(u=o.onComplete)===null||u===void 0||u.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,ez),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:f}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&nee(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||gi();const c=pa(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+c;const h=pa(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}ul(a,l),p0(a,f),b_(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){var l,u,f;this.sharedNodes.has(o)||this.sharedNodes.set(o,new UWe),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(f=(u=a.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||f===void 0?void 0:f.call(u,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let f=0;f<ZG.length;f++){const c="rotate"+ZG[f];l[c]&&(u[c]=l[c],o.setStaticValue(c,0))}o==null||o.render();for(const f in u)o.setStaticValue(f,u[f]);o.scheduleRender()}getProjectionStyles(o={}){var a,l,u;const f={};if(!this.instance||this.isSVG)return f;if(this.isVisible)f.visibility="";else return{visibility:"hidden"};const c=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=oE(o.pointerEvents)||"",f.transform=c?c(this.latestValues,""):"none",f;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=oE(o.pointerEvents)||""),this.hasProjected&&!Xd(this.latestValues)&&(x.transform=c?c({},""):"none",this.hasProjected=!1),x}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),f.transform=YG(this.projectionDeltaWithTransform,this.treeScale,g),c&&(f.transform=c(g,f.transform));const{x:y,y:_}=this.projectionDelta;f.transformOrigin=`${y.origin*100}% ${_.origin*100}% 0`,h.animationValues?f.opacity=h===this?(u=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:f.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in MT){if(g[x]===void 0)continue;const{correct:w,applyTo:b}=MT[x],E=w(g[x],h);if(b){const C=b.length;for(let M=0;M<C;M++)f[b[M]]=E}else f[x]=E}return this.options.layoutId&&(f.pointerEvents=h===this?oE(o.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(tz),this.root.sharedNodes.clear()}}}function $We(t){t.updateLayout()}function VWe(t){var e,n,r;const i=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options,l=i.source!==t.layout.source;a==="size"?su(g=>{const y=l?i.measuredBox[g]:i.layoutBox[g],_=pa(y);y.min=s[g].min,y.max=y.min+_}):nee(a,i.layoutBox,s)&&su(g=>{const y=l?i.measuredBox[g]:i.layoutBox[g],_=pa(s[g]);y.max=y.min+_});const u=A_();b_(u,s,i.layoutBox);const f=A_();l?b_(f,t.applyTransform(o,!0),i.measuredBox):b_(f,s,i.layoutBox);const c=!ZZ(u);let h=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:_}=g;if(y&&_){const x=gi();S_(x,i.layoutBox,y.layoutBox);const w=gi();S_(w,s,_.layoutBox),eee(x,w)||(h=!0)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:f,layoutDelta:u,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else t.isLead()&&((r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n));t.options.transition=void 0}function WWe(t){t.isProjectionDirty||(t.isProjectionDirty=Boolean(t.parent&&t.parent.isProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=Boolean(t.parent&&t.parent.isTransformDirty))}function jWe(t){t.clearSnapshot()}function tz(t){t.clearMeasurements()}function qWe(t){const{visualElement:e}=t.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nz(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function KWe(t){t.resolveTargetDelta()}function QWe(t){t.calcProjection()}function JWe(t){t.resetRotation()}function XWe(t){t.removeLeadSnapshot()}function rz(t,e,n){t.translate=Fr(e.translate,0,n),t.scale=Fr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iz(t,e,n,r){t.min=Fr(e.min,n.min,r),t.max=Fr(e.max,n.max,r)}function YWe(t,e,n,r){iz(t.x,e.x,n.x,r),iz(t.y,e.y,n.y,r)}function ZWe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eje={duration:.45,ease:[.4,0,.1,1]};function tje(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(Boolean(t.path[s].instance)){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function sz(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function nje(t){sz(t.x),sz(t.y)}function nee(t,e,n){return t==="position"||t==="preserve-aspect"&&!uD(XG(e),XG(n),.2)}const rje=tee({attachResizeListener:(t,e)=>UM(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qI={current:void 0},ije=tee({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qI.current){const t=new rje(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),qI.current=t}return qI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),sje={...F7e,...sVe,...sWe,...IWe},oje=r$e((t,e)=>B$e(t,e,sje,EWe,ije));class aje{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,n){this.componentControls.forEach(r=>{r.start(e.nativeEvent||e,n)})}}const lje=()=>new aje;function uje(){return NM(lje)}var cje=function(e){e===void 0&&(e={});var n=Ey(),r=e,i=r.defaultIndex,s=i===void 0?0:i,o=n.theme&&n.theme.breakpoints||b$;if(typeof s!="number")throw new TypeError("Default breakpoint index should be a number. Got: "+s+", "+typeof s);if(s<0||s>o.length-1)throw new RangeError("Default breakpoint index out of range. Theme has "+o.length+" breakpoints, got index "+s);var a=z.exports.useState(s),l=a[0],u=a[1];return z.exports.useEffect(function(){var f=function(){return o.filter(function(g){var y=g.includes("@media")?g.replace("@media ",""):"screen and (min-width: "+g+")";return window.matchMedia(y).matches}).length},c=function(){var g=f();l!==g&&u(g)};return c(),window.addEventListener("resize",c),function(){return window.removeEventListener("resize",c)}},[o,l]),l};function fje(t,e){e===void 0&&(e={});var n=Ey(),r=n.theme,i=typeof t=="function"?t(r):t,s=cje(e);return i[s>=i.length?i.length-1:s]}const oz=(t,e)=>{const n=Math.random()*(e-t)+t;return`${Math.random()>.5?n:n*-1}%`},hje=()=>{const[t,e]=z.exports.useState(!1),n=tE(a=>a.activeIcon),r=uje();z.exports.useEffect(()=>{e(!1)},[n]);const i=fje([!0,null,!1]),s=YF(n),o=!!n&&!!s;return o?Z("div",{sx:{flex:1,height:"100%",overflow:"hidden",display:"flex",flexDirection:"row",alignItems:["flex-end",null,"center"],justifyContent:"center",width:"100%"},children:Ke(oje.div,{drag:!0,style:i?{x:0,y:-20}:{x:oz(30,40),y:oz(30,40)},sx:{backdropFilter:"blur(10px)",display:"flex",flexDirection:"column",pointerEvents:"all",userSelect:"none"},dragListener:!1,dragControls:r,children:[" ",Z("div",{onPointerDown:a=>{r.start(a)},sx:{width:"100%",height:"20px",borderWidth:"0px",borderBottomWidth:"0.5px",borderColor:"lime",borderStyle:"solid","&:hover":{cursor:"grab"}}}),Ke("div",{sx:{p:"8px"},children:[Z("h2",{sx:{my:"2px"},children:s==null?void 0:s.name}),s&&Ke(z.exports.Fragment,{children:[t?Z(NY,{productId:s.productId}):o&&Z(zze,{...s,onClickButton:()=>{e(!0)}})," "]})]})]})}):null},dje=[{name:"night01",productId:"ticket-shell-night-1",price:void 0,content:{description:"a keycard to shelltech night01",fields:[["@","SE London"],["\u2764","14.10.22"],["\uA4A1\u2313\uA4A1","two shell"],["\uA4A1\u2313\uA4A1","ghost phone"],["\uA4A1\u2313\uA4A1","surati"],["\uA4A1\u2313\uA4A1","two shell"],["\uA4A1\u2313\uA4A1","eternal"]]},color:"orange",isBuyable:!1,showStock:!1},{name:"night02",productId:"ticket-shell-night-2",price:void 0,content:{description:"a keycard to shelltech night02",fields:[["@","SE London"],["\u2764","21.10.22"],["\uA4A1\u2313\uA4A1","3step"],["\uA4A1\u2313\uA4A1","iona"],["\uA4A1\u2313\uA4A1","two shell"],["\uA4A1\u2313\uA4A1","danielle"],["\uA4A1\u2313\uA4A1","kit"]]},color:"lime",isBuyable:!1,showStock:!1},{name:"night03",productId:"ticket-shell-night-3",price:1500,content:{description:"a keycard to shelltech night03",fields:[["@","SE London"],["\u2764","25.11.22"],["\uA4A1\u2313\uA4A1","one shell"],["\uA4A1\u2313\uA4A1","ahadadream"],["\uA4A1\u2313\uA4A1","floating riri"]]},color:"red",isBuyable:!1,showStock:!1},{name:"night04",productId:"ticket-shell-night-4",price:1500,content:{description:"a keycard to shelltech night04",fields:[["location","SE London"],["date","26.11.22"]]},color:"white",isBuyable:!1,showStock:!1},{name:"SkylineSoul\u2661",productId:"ticket-skyline-soul",price:700,content:{description:"a keycard to SkylineSoul\u2661",fields:[["location","venue mot"],["date","02.02.23"],["\u{1F557}","20.00"],["\xA3","7.00"]]},color:"blue",isBuyable:!0,showStock:!0},{name:"cloudgirl",productId:"digital-cloudgirl",price:100,color:"lime",isBuyable:!0,showStock:!0,content:{description:":}",fields:[["\u{1F4C1}","CloudGirl.mpeg"],["\xA3","1"]]}}],YF=t=>{if(!!t)return dje.find(e=>e.productId===t)};var ree={exports:{}},ZF={exports:{}},iee=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},pje=iee,eN=Object.prototype.toString,tN=function(t){return function(e){var n=eN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function hm(t){return t=t.toLowerCase(),function(n){return tN(n)===t}}function nN(t){return Array.isArray(t)}function NT(t){return typeof t>"u"}function mje(t){return t!==null&&!NT(t)&&t.constructor!==null&&!NT(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var see=hm("ArrayBuffer");function gje(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&see(t.buffer),e}function yje(t){return typeof t=="string"}function vje(t){return typeof t=="number"}function oee(t){return t!==null&&typeof t=="object"}function aE(t){if(tN(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var _je=hm("Date"),xje=hm("File"),wje=hm("Blob"),bje=hm("FileList");function rN(t){return eN.call(t)==="[object Function]"}function Sje(t){return oee(t)&&rN(t.pipe)}function Aje(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||eN.call(t)===e||rN(t.toString)&&t.toString()===e)}var Eje=hm("URLSearchParams");function Tje(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Cje(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function iN(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),nN(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function gD(){var t={};function e(i,s){aE(t[s])&&aE(i)?t[s]=gD(t[s],i):aE(i)?t[s]=gD({},i):nN(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)iN(arguments[n],e);return t}function Mje(t,e,n){return iN(e,function(i,s){n&&typeof i=="function"?t[s]=pje(i,n):t[s]=i}),t}function Rje(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function Ije(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function Lje(t,e,n){var r,i,s,o={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)s=r[i],o[s]||(e[s]=t[s],o[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function Pje(t,e,n){t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return r!==-1&&r===n}function Dje(t){if(!t)return null;var e=t.length;if(NT(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n}var Bje=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),us={isArray:nN,isArrayBuffer:see,isBuffer:mje,isFormData:Aje,isArrayBufferView:gje,isString:yje,isNumber:vje,isObject:oee,isPlainObject:aE,isUndefined:NT,isDate:_je,isFile:xje,isBlob:wje,isFunction:rN,isStream:Sje,isURLSearchParams:Eje,isStandardBrowserEnv:Cje,forEach:iN,merge:gD,extend:Mje,trim:Tje,stripBOM:Rje,inherits:Ije,toFlatObject:Lje,kindOf:tN,kindOfTest:hm,endsWith:Pje,toArray:Dje,isTypedArray:Bje,isFileList:bje},wg=us;function az(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var aee=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(wg.isURLSearchParams(n))i=n.toString();else{var s=[];wg.forEach(n,function(l,u){l===null||typeof l>"u"||(wg.isArray(l)?u=u+"[]":l=[l],wg.forEach(l,function(c){wg.isDate(c)?c=c.toISOString():wg.isObject(c)&&(c=JSON.stringify(c)),s.push(az(u)+"="+az(c))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Oje=us;function $M(){this.handlers=[]}$M.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};$M.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};$M.prototype.forEach=function(e){Oje.forEach(this.handlers,function(r){r!==null&&e(r)})};var kje=$M,Fje=us,Nje=function(e,n){Fje.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},lee=us;function xy(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}lee.inherits(xy,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var uee=xy.prototype,cee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){cee[t]={value:t}});Object.defineProperties(xy,cee);Object.defineProperty(uee,"isAxiosError",{value:!0});xy.from=function(t,e,n,r,i,s){var o=Object.create(uee);return lee.toFlatObject(t,o,function(l){return l!==Error.prototype}),xy.call(o,t.message,e,n,r,i),o.name=t.name,s&&Object.assign(o,s),o};var lv=xy,fee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cl=us;function Uje(t,e){e=e||new FormData;var n=[];function r(s){return s===null?"":cl.isDate(s)?s.toISOString():cl.isArrayBuffer(s)||cl.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function i(s,o){if(cl.isPlainObject(s)||cl.isArray(s)){if(n.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);n.push(s),cl.forEach(s,function(l,u){if(!cl.isUndefined(l)){var f=o?o+"."+u:u,c;if(l&&!o&&typeof l=="object"){if(cl.endsWith(u,"{}"))l=JSON.stringify(l);else if(cl.endsWith(u,"[]")&&(c=cl.toArray(l))){c.forEach(function(h){!cl.isUndefined(h)&&e.append(f,r(h))});return}}i(l,f)}}),n.pop()}else e.append(o,r(s))}return i(t),e}var hee=Uje,KI,lz;function Hje(){if(lz)return KI;lz=1;var t=lv;return KI=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},KI}var QI,uz;function Gje(){if(uz)return QI;uz=1;var t=us;return QI=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,l){var u=[];u.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),t.isString(o)&&u.push("path="+o),t.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),QI}var zje=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},$je=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},Vje=zje,Wje=$je,dee=function(e,n){return e&&!Vje(n)?Wje(e,n):n},JI,cz;function jje(){if(cz)return JI;cz=1;var t=us,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return JI=function(r){var i={},s,o,a;return r&&t.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),s=t.trim(u.substr(0,a)).toLowerCase(),o=t.trim(u.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},JI}var XI,fz;function qje(){if(fz)return XI;fz=1;var t=us;return XI=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var l=t.isString(a)?s(a):a;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}(),XI}var YI,hz;function VM(){if(hz)return YI;hz=1;var t=lv,e=us;function n(r){t.call(this,r==null?"canceled":r,t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),YI=n,YI}var ZI,dz;function Kje(){return dz||(dz=1,ZI=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),ZI}var eL,pz;function mz(){if(pz)return eL;pz=1;var t=us,e=Hje(),n=Gje(),r=aee,i=dee,s=jje(),o=qje(),a=fee,l=lv,u=VM(),f=Kje();return eL=function(h){return new Promise(function(y,_){var x=h.data,w=h.headers,b=h.responseType,E;function C(){h.cancelToken&&h.cancelToken.unsubscribe(E),h.signal&&h.signal.removeEventListener("abort",E)}t.isFormData(x)&&t.isStandardBrowserEnv()&&delete w["Content-Type"];var M=new XMLHttpRequest;if(h.auth){var P=h.auth.username||"",D=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";w.Authorization="Basic "+btoa(P+":"+D)}var L=i(h.baseURL,h.url);M.open(h.method.toUpperCase(),r(L,h.params,h.paramsSerializer),!0),M.timeout=h.timeout;function O(){if(!!M){var oe="getAllResponseHeaders"in M?s(M.getAllResponseHeaders()):null,le=!b||b==="text"||b==="json"?M.responseText:M.response,F={data:le,status:M.status,statusText:M.statusText,headers:oe,config:h,request:M};e(function(H){y(H),C()},function(H){_(H),C()},F),M=null}}if("onloadend"in M?M.onloadend=O:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(O)},M.onabort=function(){!M||(_(new l("Request aborted",l.ECONNABORTED,h,M)),M=null)},M.onerror=function(){_(new l("Network Error",l.ERR_NETWORK,h,M,M)),M=null},M.ontimeout=function(){var le=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded",F=h.transitional||a;h.timeoutErrorMessage&&(le=h.timeoutErrorMessage),_(new l(le,F.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,h,M)),M=null},t.isStandardBrowserEnv()){var q=(h.withCredentials||o(L))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;q&&(w[h.xsrfHeaderName]=q)}"setRequestHeader"in M&&t.forEach(w,function(le,F){typeof x>"u"&&F.toLowerCase()==="content-type"?delete w[F]:M.setRequestHeader(F,le)}),t.isUndefined(h.withCredentials)||(M.withCredentials=!!h.withCredentials),b&&b!=="json"&&(M.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&M.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&M.upload&&M.upload.addEventListener("progress",h.onUploadProgress),(h.cancelToken||h.signal)&&(E=function(oe){!M||(_(!oe||oe&&oe.type?new u:oe),M.abort(),M=null)},h.cancelToken&&h.cancelToken.subscribe(E),h.signal&&(h.signal.aborted?E():h.signal.addEventListener("abort",E))),x||(x=null);var j=f(L);if(j&&["http","https","file"].indexOf(j)===-1){_(new l("Unsupported protocol "+j+":",l.ERR_BAD_REQUEST,h));return}M.send(x)})},eL}var tL,gz;function Qje(){return gz||(gz=1,tL=null),tL}var Oi=us,yz=Nje,vz=lv,Jje=fee,Xje=hee,Yje={"Content-Type":"application/x-www-form-urlencoded"};function _z(t,e){!Oi.isUndefined(t)&&Oi.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function Zje(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=mz()),t}function eqe(t,e,n){if(Oi.isString(t))try{return(e||JSON.parse)(t),Oi.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var WM={transitional:Jje,adapter:Zje(),transformRequest:[function(e,n){if(yz(n,"Accept"),yz(n,"Content-Type"),Oi.isFormData(e)||Oi.isArrayBuffer(e)||Oi.isBuffer(e)||Oi.isStream(e)||Oi.isFile(e)||Oi.isBlob(e))return e;if(Oi.isArrayBufferView(e))return e.buffer;if(Oi.isURLSearchParams(e))return _z(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=Oi.isObject(e),i=n&&n["Content-Type"],s;if((s=Oi.isFileList(e))||r&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return Xje(s?{"files[]":e}:e,o&&new o)}else if(r||i==="application/json")return _z(n,"application/json"),eqe(e);return e}],transformResponse:[function(e){var n=this.transitional||WM.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&Oi.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?vz.from(o,vz.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qje()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Oi.forEach(["delete","get","head"],function(e){WM.headers[e]={}});Oi.forEach(["post","put","patch"],function(e){WM.headers[e]=Oi.merge(Yje)});var sN=WM,tqe=us,nqe=sN,rqe=function(e,n,r){var i=this||nqe;return tqe.forEach(r,function(o){e=o.call(i,e,n)}),e},nL,xz;function pee(){return xz||(xz=1,nL=function(e){return!!(e&&e.__CANCEL__)}),nL}var wz=us,rL=rqe,iqe=pee(),sqe=sN,oqe=VM();function iL(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new oqe}var aqe=function(e){iL(e),e.headers=e.headers||{},e.data=rL.call(e,e.data,e.headers,e.transformRequest),e.headers=wz.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),wz.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||sqe.adapter;return n(e).then(function(i){return iL(e),i.data=rL.call(e,i.data,i.headers,e.transformResponse),i},function(i){return iqe(i)||(iL(e),i&&i.response&&(i.response.data=rL.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Yo=us,mee=function(e,n){n=n||{};var r={};function i(f,c){return Yo.isPlainObject(f)&&Yo.isPlainObject(c)?Yo.merge(f,c):Yo.isPlainObject(c)?Yo.merge({},c):Yo.isArray(c)?c.slice():c}function s(f){if(Yo.isUndefined(n[f])){if(!Yo.isUndefined(e[f]))return i(void 0,e[f])}else return i(e[f],n[f])}function o(f){if(!Yo.isUndefined(n[f]))return i(void 0,n[f])}function a(f){if(Yo.isUndefined(n[f])){if(!Yo.isUndefined(e[f]))return i(void 0,e[f])}else return i(void 0,n[f])}function l(f){if(f in n)return i(e[f],n[f]);if(f in e)return i(void 0,e[f])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return Yo.forEach(Object.keys(e).concat(Object.keys(n)),function(c){var h=u[c]||s,g=h(c);Yo.isUndefined(g)&&h!==l||(r[c]=g)}),r},sL,bz;function gee(){return bz||(bz=1,sL={version:"0.27.2"}),sL}var lqe=gee().version,Nf=lv,oN={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){oN[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var Sz={};oN.transitional=function(e,n,r){function i(s,o){return"[Axios v"+lqe+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new Nf(i(o," has been removed"+(n?" in "+n:"")),Nf.ERR_DEPRECATED);return n&&!Sz[o]&&(Sz[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function uqe(t,e,n){if(typeof t!="object")throw new Nf("options must be an object",Nf.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Nf("option "+s+" must be "+l,Nf.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Nf("Unknown option "+s,Nf.ERR_BAD_OPTION)}}var cqe={assertOptions:uqe,validators:oN},yee=us,fqe=aee,Az=kje,Ez=aqe,jM=mee,hqe=dee,vee=cqe,bg=vee.validators;function wy(t){this.defaults=t,this.interceptors={request:new Az,response:new Az}}wy.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=jM(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&vee.assertOptions(r,{silentJSONParsing:bg.transitional(bg.boolean),forcedJSONParsing:bg.transitional(bg.boolean),clarifyTimeoutError:bg.transitional(bg.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(s=s&&g.synchronous,i.unshift(g.fulfilled,g.rejected))});var o=[];this.interceptors.response.forEach(function(g){o.push(g.fulfilled,g.rejected)});var a;if(!s){var l=[Ez,void 0];for(Array.prototype.unshift.apply(l,i),l=l.concat(o),a=Promise.resolve(n);l.length;)a=a.then(l.shift(),l.shift());return a}for(var u=n;i.length;){var f=i.shift(),c=i.shift();try{u=f(u)}catch(h){c(h);break}}try{a=Ez(u)}catch(h){return Promise.reject(h)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};wy.prototype.getUri=function(e){e=jM(this.defaults,e);var n=hqe(e.baseURL,e.url);return fqe(n,e.params,e.paramsSerializer)};yee.forEach(["delete","get","head","options"],function(e){wy.prototype[e]=function(n,r){return this.request(jM(r||{},{method:e,url:n,data:(r||{}).data}))}});yee.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(jM(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}wy.prototype[e]=n(),wy.prototype[e+"Form"]=n(!0)});var dqe=wy,oL,Tz;function pqe(){if(Tz)return oL;Tz=1;var t=VM();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(!!i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(l){i.subscribe(l),o=l}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(!!this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},oL=e,oL}var aL,Cz;function mqe(){return Cz||(Cz=1,aL=function(e){return function(r){return e.apply(null,r)}}),aL}var lL,Mz;function gqe(){if(Mz)return lL;Mz=1;var t=us;return lL=function(n){return t.isObject(n)&&n.isAxiosError===!0},lL}var Rz=us,yqe=iee,lE=dqe,vqe=mee,_qe=sN;function _ee(t){var e=new lE(t),n=yqe(lE.prototype.request,e);return Rz.extend(n,lE.prototype,e),Rz.extend(n,e),n.create=function(i){return _ee(vqe(t,i))},n}var Io=_ee(_qe);Io.Axios=lE;Io.CanceledError=VM();Io.CancelToken=pqe();Io.isCancel=pee();Io.VERSION=gee().version;Io.toFormData=hee;Io.AxiosError=lv;Io.Cancel=Io.CanceledError;Io.all=function(e){return Promise.all(e)};Io.spread=mqe();Io.isAxiosError=gqe();ZF.exports=Io;ZF.exports.default=Io;(function(t){t.exports=ZF.exports})(ree);const xqe=by(ree.exports),wqe=({logFns:t})=>{const{pushLine:e,logProps:n,isDoneInit:r}=t,{data:i}=xee();return z.exports.useEffect(()=>{var s,o;!i||r||(e(`hello ${pu((s=i==null?void 0:i.ip)!=null?s:"","#ff6600")}`),e(`location: ${pu((o=i==null?void 0:i.location)!=null?o:"unknown","#a1b903")}`),e(""),e(`welcome to ${pu("shell.tech","#f5006d")}`),e(""),e(`enter ${pu("passcode","#60c1cc")} to access`,!0))},[i]),Z(z.exports.Fragment,{children:Z(bp,{sx:{maxHeight:["150px","220px"],overflow:"hidden",height:["300px",null,"auto"],zIndex:1,flexDirection:"column",width:"100%"},children:Z("div",{sx:{fontFamily:"monospace",fontSize:"shell",flex:1,display:"flex",flexDirection:"column",pointerEvents:"all",whiteSpace:["initial",null,"nowrap"],height:"100%",mb:["8px 8px","20px 20px"]},children:Z("div",{sx:{flex:1,height:"100%"},children:Z(SQ,{...n})})})})})},xee=()=>ca(["user-meta"],async()=>{try{const e=await xqe.get("https://geolocation-db.com/json/");return{location:`${e.data.city} ${e.data.latitude} ${e.data.longitude}`,ip:e.data.IPv4}}catch{return{location:"unknown",ip:"unknown"}}},{retry:!1}),bqe=new RM.GraphQLClient("https://graphql.contentful.com/content/v1/spaces/tgf8h0ayfqy8/",{headers:{authorization:"Bearer -DwCDP58InjTAynoaxBw4J78Ssan055bhTLEmo2RG6U"}});async function Sqe(t,e){return await bqe.request(t,{...e})}function Aqe(t,e,n,r){return ca(t,async()=>await Sqe(e,n),r)}const Eqe=[{command:"skyline",__type:"stateChange",state:"icons-tickets",isEnabled:!0},{command:"chat",__type:"stateChange",state:"chat",isEnabled:!0},{command:"upload",__type:"stateChange",state:"upload",isEnabled:!0},{command:"passcode",__type:"stateChange",state:"shellplayer",isEnabled:!0}],Tqe=({initialActions:t,execute:e,onError:n})=>{const[r,i]=z.exports.useState(t),s=u=>r.find(({command:f})=>u===f.toLowerCase()),o=async u=>{const f=s(u.toLowerCase());if(f)return f;const c=await zBe({command:u}).then(({data:h})=>h).catch(h=>{console.error(h),n("Server error")});if(!c)throw new Error("Action not found");return c};return{attemptExecuteAction:async u=>{var h;const f=await o(u);if(!f)throw new Error("command not found");(h=f.onSubmit)==null||h.call(f);const c=e[f.__type];c(f)},attemptGetAction:o,addActions:u=>{i([...r,...u.filter(f=>!r.find(({command:c})=>c===f.command))])}}},Cqe=RM.gql`
  query {
    linkCollection {
      items {
        passcode
        url
      }
    }
  }
`,Mqe=({logFns:t})=>{var g;const[e,n]=Vh(),{pushLine:r,setLogLoading:i}=t,{attemptExecuteAction:s,addActions:o,attemptGetAction:a}=Tqe({initialActions:[...Eqe],execute:{link:y=>{r(`${YBe("here",y.link)} is your link`),i(!1)},stateChange:y=>{const _=n(y.state);r(`${pu(_.message,_.isSuccess?"green":"red")}`),i(!1)}},onError:y=>{r(pu(y,"red")),i(!1)}}),l=async y=>(i(!0),await s(y.length>0?y:"null")),{data:u,isLoading:f,error:c}=Aqe("contentful-qs",Cqe),h=f||(g=u==null?void 0:u.linkCollection)==null?void 0:g.items;return z.exports.useEffect(()=>{f||!h||o(h.map(y=>({__type:"link",command:y.passcode,link:y.url})))},[h]),c&&console.error(c),{submitCommand:l,attemptGetAction:a}},Rqe=()=>{const[t,e]=z.exports.useState(!1),[n,r]=z.exports.useState(),i=xee(),[s,o]=z.exports.useState(),a=z.exports.useRef(null),l=(u,f,c)=>{var y,_,x;if(u.size>20*1024*1024){o("File too big");return}o(void 0),r(void 0);const h=vQ(_Q,`/user-uploads/${Iqe(u.name)}`);MBe(h,u,{customMetadata:{infoText:c!=null?c:"",ip:(y=i.data)==null?void 0:y.ip,location:(x=(_=i.data)==null?void 0:_.location)!=null?x:"unknown"}}).on("state_changed",w=>{const b=Math.round(w.bytesTransferred/w.totalBytes*100);b===100&&f(),r(b)},w=>{o(w.message),r(void 0)})};return Z("div",{sx:{minWidth:"200px",maxWidth:"250px",mx:"auto",backgroundColor:"#ffffff24",backdropFilter:"blur(6px)",p:"14px",pointerEvents:"all"},children:t?Z("p",{sx:{color:"green"},children:"thanks"}):Z("form",{ref:a,onSubmit:u=>{if(u.preventDefault(),!(1 in u.target)||!(0 in u.target))return null;const f=u.target[1].value,c=u.target[0].files[0];l(c,()=>{e(!0)},f)},children:Ke("div",{sx:{gap:"8px",display:"flex",flexDirection:"column"},children:[n&&n!==100&&Ke("p",{children:["progress: ",n]}),n===100&&Z("p",{sx:{color:"green"},children:"Done"}),s&&Z("p",{sx:{color:"red"},children:s}),Z("p",{children:"max: 20mb"}),Z(Vae,{name:"file",id:"file",required:!0,placeholder:"click",type:"file",sx:{borderRadius:0,borderColor:"text",p:"8px","::file-selector-button":{display:"none",borderWidth:"100px"}}}),Z("textarea",{sx:{resize:"none",backgroundColor:"unset",color:"text"},name:"info",placeholder:"info"}),Z(As,{type:"submit",disabled:n!==void 0,children:"Submit"})]})})})},Iqe=t=>t.replace("/","").replace("\\",""),gA=["chat","icons-tickets","icons-digital","icons-jewlerry","portal"].reverse(),Lqe=()=>{const[t,e]=Vh(),n=a=>{const l=gA.includes(t.id)?gA.indexOf(t.id):void 0;if(l===void 0)return;const u=l+(a==="up"?1:-1);u>gA.length||u<0||e(gA[u])},r=a=>{var u,f,c;const l=(f=(u=document.activeElement)==null?void 0:u.className)==null?void 0:f.toLowerCase();if(((c=document.activeElement)==null?void 0:c.tagName)!=="INPUT"&&!(l&&(l.includes("input")||l.includes("chat")))){if([" ","w","W","ArrowUp"].includes(a.key)){n("down");return}if(["s","S","ArrowDown"].includes(a.key)){n("up");return}a.key==="Escape"&&e("idle")}},i=z.exports.useRef(0),s=a=>{a.target&&"tagName"in a.target&&a.target.tagName!=="CANVAS"&&(i.current=void 0),i.current=a.targetTouches[0].screenY},o=a=>{if(a.changedTouches.length>1)return;const l=a.changedTouches[0].screenY;if(!!i.current&&(l>i.current+200&&n("up"),l<i.current-200)){if(t.id==="chat")return;n("down")}};z.exports.useEffect(()=>(document.addEventListener("touchstart",s),document.addEventListener("touchend",o),document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r),document.removeEventListener("touchend",o),document.removeEventListener("touchstart",s)}),[t])},Pqe=()=>{var i;Lqe();const t=AQ(),[e]=Vh(),{submitCommand:n,attemptGetAction:r}=Mqe({logFns:t});return Ke("div",{sx:{display:"flex",flex:1,height:"100%",flexDirection:"column",alignItems:["center",null,"flex-start"]},children:[Z("div",{sx:{position:["relative"],width:"100%"},children:Z("div",{sx:{transform:e.isShellVisible?"":"translateX(-100%)",transition:"all 1s",position:"absolute",transitionDelay:"2s",visibility:e.isShellVisible?"visible":"hidden"},children:Z("div",{sx:{maxWidth:["100%",null,"500px"],p:"12px",opacity:.4},children:Z(wqe,{logFns:t})})})}),Ke("div",{sx:{flex:1,position:["relative",null,"absolute"],bottom:0,left:0,right:0,top:0,display:"flex",justifyContent:["center"],alignItems:"center",flexDirection:"column",width:"100%",height:"100%"},children:[Z(Dqe,{isOpen:(i=e.isShellVisible)!=null?i:!1,children:Z(L9e,{onSubmit:n,onCheck:r})}),Z(Bqe,{isOpen:e.id==="upload",children:Z(Rqe,{})}),Z(Oqe,{isOpen:e.id==="shellplayer",children:Z(IY,{})}),Z(Fqe,{isOpen:e.id==="chat",children:Z(TQ,{})}),Z(kqe,{isOpen:e.id==="portal",children:Z(mze,{pushLine:t.pushLine})}),e.id.includes("icons")&&Z(hje,{})]})]})},Dqe=({isOpen:t,children:e})=>{const[n,r]=z.exports.useState(!1),[i,s]=z.exports.useState(!1),[o,a]=z.exports.useState(0);return ku(),z.exports.useEffect(()=>{r(!0),t&&s(!0)},[t]),t?Z("div",{sx:{position:"absolute",marginTop:"-40px"},onTransitionEnd:()=>{r(!1),a(o+1)},children:Z("div",{children:e})}):null},Bqe=({isOpen:t,children:e})=>{const[n]=b9e("soundfx/form-open.mpeg");return z.exports.useEffect(()=>{!t||n()},[t]),Z("div",{sx:{},children:Z("div",{sx:{transition:"all 1s",transform:t?"rotate3d(0, 0, 0)":"rotate3d(0,1,0,90deg)"},children:t&&e})})},Oqe=({isOpen:t,children:e})=>Z("div",{sx:{},children:Z("div",{sx:{transition:"all 1s",transform:t?"scale(100%)":"scale(0)"},children:t&&e})}),kqe=({isOpen:t,children:e})=>Z("div",{sx:{display:t?"flex":"none",opacity:t?1:0,transition:"all 2s",transitionDelay:"4s",transform:t?"scale(1)":"scale(0)"},children:t&&e}),Fqe=({isOpen:t,children:e})=>Z("div",{sx:{display:t?"block":"none"},children:Z("div",{sx:{opacity:t?1:0,transition:"all 2s",transitionDelay:"1s",height:["100%",null,"auto"],transform:t?"scale(1)":"scale(0)",transformOrigin:"center"},children:t&&e})}),Nqe=()=>Ke("div",{sx:{WebkitOverflowScrolling:"touch",overflow:"hidden",touchAction:"none",maxHeight:"-webkit-fill-available",position:"relative",height:Uqe()?window.innerHeight:"100vh",width:"100vw",display:"flex"},children:[Z("div",{sx:{flex:1,zIndex:1,pointerEvents:"none",position:"relative"},children:Z(Pqe,{})}),Z("div",{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:0,touchAction:"none"},children:Z(z.exports.Suspense,{children:Z(p9e,{})})})]}),Uqe=()=>{const t=window.navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)},Hqe=()=>W(Nqe,{}),Gqe=()=>{const[t,e]=ku(),[n,r]=z.exports.useState(""),i=[{title:"Text",Component:s=>Z("p",{children:s.children}),props:[{children:"Hello World"}]},{title:"Button",Component:As,props:[{children:"button"}]},{title:"Input",Component:Sx,props:[{value:n,onChange:r,placeholder:"input"}]}];return Ke(z.exports.Fragment,{children:[Ke(bp,{sx:{gridGap:"10px"},children:[Z(As,{onClick:()=>{e("dark")},children:"Dark Mode"}),Z(As,{onClick:()=>{e("light")},children:"Light Mode"})]}),Ke("div",{sx:{width:"100%",p:"gutter",backgroundColor:"background"},children:[Z("p",{children:"payment form:"}),Z("div",{sx:{maxWidth:"300px",my:"64px"},children:Z(NY,{productId:"ticket-shell-night-1"})}),i.map(({title:s,Component:o,props:a})=>a.map((l,u)=>Z(o,{...l},u)))]})]})},Iz={pods:"https://videos.ctfassets.net/tgf8h0ayfqy8/5s5fcOQIcpWT0SxOba4oXn/175a5bbd4e062f27d84a8c1247c8e0ae/PODSrf31.mp4"},zqe=({slug:t})=>{const e=t in Iz?Iz[t]:void 0;return e?Ke("div",{sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",width:"100%"},children:[Z(cu,{sx:{flex:1,display:"relative",position:"relative"},children:Z("video",{src:e,controls:!0,sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}),Z(As,{sx:{py:"20px"},onClick:()=>{window.close()},children:"Close"})]}):null};let uL;const $qe=async()=>(uL||(uL=BY("pk_test_51L2eKiBsYFY1syaGMnKGqOTYGht9uQdf2YjyPe8GGvXr5Ocf2H4E7n3Zn0KqUBlHO48jQFyq1Iu7CdlDOMEw0PlH00xvSpOjhS")),await uL),Vqe=()=>{const e={lineItems:[{price:"price_1L33HvBsYFY1syaGdBLTKPzw",quantity:1}],mode:"payment",successUrl:`${window.location.origin}/success`,cancelUrl:`${window.location.origin}/cancel`},n=async()=>{const r=await $qe(),{error:i}=await r.redirectToCheckout(e);i&&console.error(i)};return W("button",{onClick:()=>{n().catch(console.error)},children:"Buy"})},Wqe=()=>{const{data:t,isLoading:e}=ca("logUrl",async()=>await qBe());return ca("fetchLog",async()=>{if(!!t)return await fetch(t.data).then(async n=>await n.text())},{enabled:!!t}),Z("p",{children:"\u{1F480}"})},Lz=()=>St("div",{children:[W("h1",{children:"Privacy Policy of shell.tech."}),W("p",{children:"shell.tech operates the http://shell.tech website, which provides the SERVICE."}),W("p",{children:"This page is used to inform website visitors regarding our policies with the collection, use, and disclosure of Personal Information if anyone decided to use our Service, the shell.tech website."}),W("p",{children:"If you choose to use our Service, then you agree to the collection and use of information in relation with this policy. The Personal Information that we collect are used for providing and improving the Service. We will not use or share your information with anyone except as described in this Privacy Policy."}),W("h2",{children:"Information Collection and Use"}),W("p",{children:"For a better experience while using our Service, we may require you to provide us with certain personally identifiable information, including but not limited to your name, phone number, email, and postal address. The information that we collect will be used to contact or identify you."}),W("h2",{children:"Log Data"}),W("p",{children:'We want to inform you that whenever you visit our Service, we collect information that your browser sends to us that is called Log Data. This Log Data may include information such as your computer\u2019s Internet Protocol ("IP") address, browser version, pages of our Service that you visit, the time and date of your visit, the time spent on those pages, and other statistics.'}),W("h2",{children:"Cookies"}),W("p",{children:"Cookies are files with small amount of data that is commonly used an anonymous unique identifier. These are sent to your browser from the website that you visit and are stored on your computer\u2019s hard drive."}),W("p",{children:'Our website uses these "cookies" to collection information and to improve our Service. You have the option to either accept or refuse these cookies, and know when a cookie is being sent to your computer. If you choose to refuse our cookies, you may not be able to use some portions of our Service.'}),W("h2",{children:"Service Providers"}),W("p",{children:"We may employ third-party companies and individuals due to the following reasons:"}),St("ul",{children:[W("li",{children:"To facilitate our Service;"}),W("li",{children:"To provide the Service on our behalf;"}),W("li",{children:"To perform Service-related services; or"}),W("li",{children:"To assist us in analyzing how our Service is used."})]}),W("p",{children:"We want to inform our Service users that these third parties have access to your Personal Information. The reason is to perform the tasks assigned to them on our behalf. However, they are obligated not to disclose or use the information for any other purpose."}),W("h2",{children:"Security"}),W("p",{children:"We value your trust in providing us your Personal Information, thus we are striving to use commercially acceptable means of protecting it. But remember that no method of transmission over the internet, or method of electronic storage is 100% secure and reliable, and we cannot guarantee its absolute security."}),W("h2",{children:"Links to Other Sites"}),W("p",{children:"Our Service may contain links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by us. Therefore, we strongly advise you to review the Privacy Policy of these websites. We have no control over, and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services."}),W("p",{children:"Children's Privacy"}),W("p",{children:"Our Services do not address anyone under the age of 13. We do not knowingly collect personal identifiable information from children under 13. In the case we discover that a child under 13 has provided us with personal information, we immediately delete this from our servers. If you are a parent or guardian and you are aware that your child has provided us with personal information, please contact us so that we will be able to do necessary actions."}),W("h2",{children:"Changes to This Privacy Policy"}),W("p",{children:"We may update our Privacy Policy from time to time. Thus, we advise you to review this page periodically for any changes. We will notify you of any changes by posting the new Privacy Policy on this page. These changes are effective immediately, after they are posted on this page."}),W("h2",{children:"Contact Us"}),W("p",{children:"If you have any questions or suggestions about our Privacy Policy, do not hesitate to contact us."})]});var UT={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var c=this||n;return c._counter=1e3,c._html5AudioPool=[],c.html5PoolSize=10,c._codecs={},c._howls=[],c._muted=!1,c._volume=1,c._canPlayEvent="canplaythrough",c._navigator=typeof window<"u"&&window.navigator?window.navigator:null,c.masterGain=null,c.noAudio=!1,c.usingWebAudio=!0,c.autoSuspend=!0,c.ctx=null,c.autoUnlock=!0,c._setup(),c},volume:function(c){var h=this||n;if(c=parseFloat(c),h.ctx||f(),typeof c<"u"&&c>=0&&c<=1){if(h._volume=c,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(c,n.ctx.currentTime);for(var g=0;g<h._howls.length;g++)if(!h._howls[g]._webAudio)for(var y=h._howls[g]._getSoundIds(),_=0;_<y.length;_++){var x=h._howls[g]._soundById(y[_]);x&&x._node&&(x._node.volume=x._volume*c)}return h}return h._volume},mute:function(c){var h=this||n;h.ctx||f(),h._muted=c,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(c?0:h._volume,n.ctx.currentTime);for(var g=0;g<h._howls.length;g++)if(!h._howls[g]._webAudio)for(var y=h._howls[g]._getSoundIds(),_=0;_<y.length;_++){var x=h._howls[g]._soundById(y[_]);x&&x._node&&(x._node.muted=c?!0:x._muted)}return h},stop:function(){for(var c=this||n,h=0;h<c._howls.length;h++)c._howls[h].stop();return c},unload:function(){for(var c=this||n,h=c._howls.length-1;h>=0;h--)c._howls[h].unload();return c.usingWebAudio&&c.ctx&&typeof c.ctx.close<"u"&&(c.ctx.close(),c.ctx=null,f()),c},codecs:function(c){return(this||n)._codecs[c.replace(/^x-/,"")]},_setup:function(){var c=this||n;if(c.state=c.ctx&&c.ctx.state||"suspended",c._autoSuspend(),!c.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(c._canPlayEvent="canplay")}catch{c.noAudio=!0}else c.noAudio=!0;try{var h=new Audio;h.muted&&(c.noAudio=!0)}catch{}return c.noAudio||c._setupCodecs(),c},_setupCodecs:function(){var c=this||n,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return c}if(!h||typeof h.canPlayType!="function")return c;var g=h.canPlayType("audio/mpeg;").replace(/^no$/,""),y=c._navigator?c._navigator.userAgent:"",_=y.match(/OPR\/([0-6].)/g),x=_&&parseInt(_[0].split("/")[1],10)<33,w=y.indexOf("Safari")!==-1&&y.indexOf("Chrome")===-1,b=y.match(/Version\/(.*?) /),E=w&&b&&parseInt(b[1],10)<15;return c._codecs={mp3:!!(!x&&(g||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!g,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!E&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!E&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},c},_unlockAudio:function(){var c=this||n;if(!(c._audioUnlocked||!c.ctx)){c._audioUnlocked=!1,c.autoUnlock=!1,!c._mobileUnloaded&&c.ctx.sampleRate!==44100&&(c._mobileUnloaded=!0,c.unload()),c._scratchBuffer=c.ctx.createBuffer(1,1,22050);var h=function(g){for(;c._html5AudioPool.length<c.html5PoolSize;)try{var y=new Audio;y._unlocked=!0,c._releaseHtml5Audio(y)}catch{c.noAudio=!0;break}for(var _=0;_<c._howls.length;_++)if(!c._howls[_]._webAudio)for(var x=c._howls[_]._getSoundIds(),w=0;w<x.length;w++){var b=c._howls[_]._soundById(x[w]);b&&b._node&&!b._node._unlocked&&(b._node._unlocked=!0,b._node.load())}c._autoResume();var E=c.ctx.createBufferSource();E.buffer=c._scratchBuffer,E.connect(c.ctx.destination),typeof E.start>"u"?E.noteOn(0):E.start(0),typeof c.ctx.resume=="function"&&c.ctx.resume(),E.onended=function(){E.disconnect(0),c._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var C=0;C<c._howls.length;C++)c._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),c}},_obtainHtml5Audio:function(){var c=this||n;if(c._html5AudioPool.length)return c._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(c){var h=this||n;return c._unlocked&&h._html5AudioPool.push(c),h},_autoSuspend:function(){var c=this;if(!(!c.autoSuspend||!c.ctx||typeof c.ctx.suspend>"u"||!n.usingWebAudio)){for(var h=0;h<c._howls.length;h++)if(c._howls[h]._webAudio){for(var g=0;g<c._howls[h]._sounds.length;g++)if(!c._howls[h]._sounds[g]._paused)return c}return c._suspendTimer&&clearTimeout(c._suspendTimer),c._suspendTimer=setTimeout(function(){if(!!c.autoSuspend){c._suspendTimer=null,c.state="suspending";var y=function(){c.state="suspended",c._resumeAfterSuspend&&(delete c._resumeAfterSuspend,c._autoResume())};c.ctx.suspend().then(y,y)}},3e4),c}},_autoResume:function(){var c=this;if(!(!c.ctx||typeof c.ctx.resume>"u"||!n.usingWebAudio))return c.state==="running"&&c.ctx.state!=="interrupted"&&c._suspendTimer?(clearTimeout(c._suspendTimer),c._suspendTimer=null):c.state==="suspended"||c.state==="running"&&c.ctx.state==="interrupted"?(c.ctx.resume().then(function(){c.state="running";for(var h=0;h<c._howls.length;h++)c._howls[h]._emit("resume")}),c._suspendTimer&&(clearTimeout(c._suspendTimer),c._suspendTimer=null)):c.state==="suspending"&&(c._resumeAfterSuspend=!0),c}};var n=new e,r=function(c){var h=this;if(!c.src||c.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(c)};r.prototype={init:function(c){var h=this;return n.ctx||f(),h._autoplay=c.autoplay||!1,h._format=typeof c.format!="string"?c.format:[c.format],h._html5=c.html5||!1,h._muted=c.mute||!1,h._loop=c.loop||!1,h._pool=c.pool||5,h._preload=typeof c.preload=="boolean"||c.preload==="metadata"?c.preload:!0,h._rate=c.rate||1,h._sprite=c.sprite||{},h._src=typeof c.src!="string"?c.src:[c.src],h._volume=c.volume!==void 0?c.volume:1,h._xhr={method:c.xhr&&c.xhr.method?c.xhr.method:"GET",headers:c.xhr&&c.xhr.headers?c.xhr.headers:null,withCredentials:c.xhr&&c.xhr.withCredentials?c.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=c.onend?[{fn:c.onend}]:[],h._onfade=c.onfade?[{fn:c.onfade}]:[],h._onload=c.onload?[{fn:c.onload}]:[],h._onloaderror=c.onloaderror?[{fn:c.onloaderror}]:[],h._onplayerror=c.onplayerror?[{fn:c.onplayerror}]:[],h._onpause=c.onpause?[{fn:c.onpause}]:[],h._onplay=c.onplay?[{fn:c.onplay}]:[],h._onstop=c.onstop?[{fn:c.onstop}]:[],h._onmute=c.onmute?[{fn:c.onmute}]:[],h._onvolume=c.onvolume?[{fn:c.onvolume}]:[],h._onrate=c.onrate?[{fn:c.onrate}]:[],h._onseek=c.onseek?[{fn:c.onseek}]:[],h._onunlock=c.onunlock?[{fn:c.onunlock}]:[],h._onresume=[],h._webAudio=n.usingWebAudio&&!h._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var c=this,h=null;if(n.noAudio){c._emit("loaderror",null,"No audio support.");return}typeof c._src=="string"&&(c._src=[c._src]);for(var g=0;g<c._src.length;g++){var y,_;if(c._format&&c._format[g])y=c._format[g];else{if(_=c._src[g],typeof _!="string"){c._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}y=/^data:audio\/([^;,]+);/i.exec(_),y||(y=/\.([^.]+)$/.exec(_.split("?",1)[0])),y&&(y=y[1].toLowerCase())}if(y||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),y&&n.codecs(y)){h=c._src[g];break}}if(!h){c._emit("loaderror",null,"No codec support for selected audio sources.");return}return c._src=h,c._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(c._html5=!0,c._webAudio=!1),new i(c),c._webAudio&&o(c),c},play:function(c,h){var g=this,y=null;if(typeof c=="number")y=c,c=null;else{if(typeof c=="string"&&g._state==="loaded"&&!g._sprite[c])return null;if(typeof c>"u"&&(c="__default",!g._playLock)){for(var _=0,x=0;x<g._sounds.length;x++)g._sounds[x]._paused&&!g._sounds[x]._ended&&(_++,y=g._sounds[x]._id);_===1?c=null:y=null}}var w=y?g._soundById(y):g._inactiveSound();if(!w)return null;if(y&&!c&&(c=w._sprite||"__default"),g._state!=="loaded"){w._sprite=c,w._ended=!1;var b=w._id;return g._queue.push({event:"play",action:function(){g.play(b)}}),b}if(y&&!w._paused)return h||g._loadQueue("play"),w._id;g._webAudio&&n._autoResume();var E=Math.max(0,w._seek>0?w._seek:g._sprite[c][0]/1e3),C=Math.max(0,(g._sprite[c][0]+g._sprite[c][1])/1e3-E),M=C*1e3/Math.abs(w._rate),P=g._sprite[c][0]/1e3,D=(g._sprite[c][0]+g._sprite[c][1])/1e3;w._sprite=c,w._ended=!1;var L=function(){w._paused=!1,w._seek=E,w._start=P,w._stop=D,w._loop=!!(w._loop||g._sprite[c][2])};if(E>=D){g._ended(w);return}var O=w._node;if(g._webAudio){var q=function(){g._playLock=!1,L(),g._refreshBuffer(w);var F=w._muted||g._muted?0:w._volume;O.gain.setValueAtTime(F,n.ctx.currentTime),w._playStart=n.ctx.currentTime,typeof O.bufferSource.start>"u"?w._loop?O.bufferSource.noteGrainOn(0,E,86400):O.bufferSource.noteGrainOn(0,E,C):w._loop?O.bufferSource.start(0,E,86400):O.bufferSource.start(0,E,C),M!==1/0&&(g._endTimers[w._id]=setTimeout(g._ended.bind(g,w),M)),h||setTimeout(function(){g._emit("play",w._id),g._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?q():(g._playLock=!0,g.once("resume",q),g._clearTimer(w._id))}else{var j=function(){O.currentTime=E,O.muted=w._muted||g._muted||n._muted||O.muted,O.volume=w._volume*n.volume(),O.playbackRate=w._rate;try{var F=O.play();if(F&&typeof Promise<"u"&&(F instanceof Promise||typeof F.then=="function")?(g._playLock=!0,L(),F.then(function(){g._playLock=!1,O._unlocked=!0,h?g._loadQueue():g._emit("play",w._id)}).catch(function(){g._playLock=!1,g._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),w._ended=!0,w._paused=!0})):h||(g._playLock=!1,L(),g._emit("play",w._id)),O.playbackRate=w._rate,O.paused){g._emit("playerror",w._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}c!=="__default"||w._loop?g._endTimers[w._id]=setTimeout(g._ended.bind(g,w),M):(g._endTimers[w._id]=function(){g._ended(w),O.removeEventListener("ended",g._endTimers[w._id],!1)},O.addEventListener("ended",g._endTimers[w._id],!1))}catch(Y){g._emit("playerror",w._id,Y)}};O.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(O.src=g._src,O.load());var oe=window&&window.ejecta||!O.readyState&&n._navigator.isCocoonJS;if(O.readyState>=3||oe)j();else{g._playLock=!0,g._state="loading";var le=function(){g._state="loaded",j(),O.removeEventListener(n._canPlayEvent,le,!1)};O.addEventListener(n._canPlayEvent,le,!1),g._clearTimer(w._id)}}return w._id},pause:function(c){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(c)}}),h;for(var g=h._getSoundIds(c),y=0;y<g.length;y++){h._clearTimer(g[y]);var _=h._soundById(g[y]);if(_&&!_._paused&&(_._seek=h.seek(g[y]),_._rateSeek=0,_._paused=!0,h._stopFade(g[y]),_._node))if(h._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),h._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||h._emit("pause",_?_._id:null)}return h},stop:function(c,h){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"stop",action:function(){g.stop(c)}}),g;for(var y=g._getSoundIds(c),_=0;_<y.length;_++){g._clearTimer(y[_]);var x=g._soundById(y[_]);x&&(x._seek=x._start||0,x._rateSeek=0,x._paused=!0,x._ended=!0,g._stopFade(y[_]),x._node&&(g._webAudio?x._node.bufferSource&&(typeof x._node.bufferSource.stop>"u"?x._node.bufferSource.noteOff(0):x._node.bufferSource.stop(0),g._cleanBuffer(x._node)):(!isNaN(x._node.duration)||x._node.duration===1/0)&&(x._node.currentTime=x._start||0,x._node.pause(),x._node.duration===1/0&&g._clearSound(x._node))),h||g._emit("stop",x._id))}return g},mute:function(c,h){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"mute",action:function(){g.mute(c,h)}}),g;if(typeof h>"u")if(typeof c=="boolean")g._muted=c;else return g._muted;for(var y=g._getSoundIds(h),_=0;_<y.length;_++){var x=g._soundById(y[_]);x&&(x._muted=c,x._interval&&g._stopFade(x._id),g._webAudio&&x._node?x._node.gain.setValueAtTime(c?0:x._volume,n.ctx.currentTime):x._node&&(x._node.muted=n._muted?!0:c),g._emit("mute",x._id))}return g},volume:function(){var c=this,h=arguments,g,y;if(h.length===0)return c._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var _=c._getSoundIds(),x=_.indexOf(h[0]);x>=0?y=parseInt(h[0],10):g=parseFloat(h[0])}else h.length>=2&&(g=parseFloat(h[0]),y=parseInt(h[1],10));var w;if(typeof g<"u"&&g>=0&&g<=1){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"volume",action:function(){c.volume.apply(c,h)}}),c;typeof y>"u"&&(c._volume=g),y=c._getSoundIds(y);for(var b=0;b<y.length;b++)w=c._soundById(y[b]),w&&(w._volume=g,h[2]||c._stopFade(y[b]),c._webAudio&&w._node&&!w._muted?w._node.gain.setValueAtTime(g,n.ctx.currentTime):w._node&&!w._muted&&(w._node.volume=g*n.volume()),c._emit("volume",w._id))}else return w=y?c._soundById(y):c._sounds[0],w?w._volume:0;return c},fade:function(c,h,g,y){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(c,h,g,y)}}),_;c=Math.min(Math.max(0,parseFloat(c)),1),h=Math.min(Math.max(0,parseFloat(h)),1),g=parseFloat(g),_.volume(c,y);for(var x=_._getSoundIds(y),w=0;w<x.length;w++){var b=_._soundById(x[w]);if(b){if(y||_._stopFade(x[w]),_._webAudio&&!b._muted){var E=n.ctx.currentTime,C=E+g/1e3;b._volume=c,b._node.gain.setValueAtTime(c,E),b._node.gain.linearRampToValueAtTime(h,C)}_._startFadeInterval(b,c,h,g,x[w],typeof y>"u")}}return _},_startFadeInterval:function(c,h,g,y,_,x){var w=this,b=h,E=g-h,C=Math.abs(E/.01),M=Math.max(4,C>0?y/C:y),P=Date.now();c._fadeTo=g,c._interval=setInterval(function(){var D=(Date.now()-P)/y;P=Date.now(),b+=E*D,b=Math.round(b*100)/100,E<0?b=Math.max(g,b):b=Math.min(g,b),w._webAudio?c._volume=b:w.volume(b,c._id,!0),x&&(w._volume=b),(g<h&&b<=g||g>h&&b>=g)&&(clearInterval(c._interval),c._interval=null,c._fadeTo=null,w.volume(g,c._id),w._emit("fade",c._id))},M)},_stopFade:function(c){var h=this,g=h._soundById(c);return g&&g._interval&&(h._webAudio&&g._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(g._interval),g._interval=null,h.volume(g._fadeTo,c),g._fadeTo=null,h._emit("fade",c)),h},loop:function(){var c=this,h=arguments,g,y,_;if(h.length===0)return c._loop;if(h.length===1)if(typeof h[0]=="boolean")g=h[0],c._loop=g;else return _=c._soundById(parseInt(h[0],10)),_?_._loop:!1;else h.length===2&&(g=h[0],y=parseInt(h[1],10));for(var x=c._getSoundIds(y),w=0;w<x.length;w++)_=c._soundById(x[w]),_&&(_._loop=g,c._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=g,g&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,c.playing(x[w])&&(c.pause(x[w],!0),c.play(x[w],!0)))));return c},rate:function(){var c=this,h=arguments,g,y;if(h.length===0)y=c._sounds[0]._id;else if(h.length===1){var _=c._getSoundIds(),x=_.indexOf(h[0]);x>=0?y=parseInt(h[0],10):g=parseFloat(h[0])}else h.length===2&&(g=parseFloat(h[0]),y=parseInt(h[1],10));var w;if(typeof g=="number"){if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"rate",action:function(){c.rate.apply(c,h)}}),c;typeof y>"u"&&(c._rate=g),y=c._getSoundIds(y);for(var b=0;b<y.length;b++)if(w=c._soundById(y[b]),w){c.playing(y[b])&&(w._rateSeek=c.seek(y[b]),w._playStart=c._webAudio?n.ctx.currentTime:w._playStart),w._rate=g,c._webAudio&&w._node&&w._node.bufferSource?w._node.bufferSource.playbackRate.setValueAtTime(g,n.ctx.currentTime):w._node&&(w._node.playbackRate=g);var E=c.seek(y[b]),C=(c._sprite[w._sprite][0]+c._sprite[w._sprite][1])/1e3-E,M=C*1e3/Math.abs(w._rate);(c._endTimers[y[b]]||!w._paused)&&(c._clearTimer(y[b]),c._endTimers[y[b]]=setTimeout(c._ended.bind(c,w),M)),c._emit("rate",w._id)}}else return w=c._soundById(y),w?w._rate:c._rate;return c},seek:function(){var c=this,h=arguments,g,y;if(h.length===0)c._sounds.length&&(y=c._sounds[0]._id);else if(h.length===1){var _=c._getSoundIds(),x=_.indexOf(h[0]);x>=0?y=parseInt(h[0],10):c._sounds.length&&(y=c._sounds[0]._id,g=parseFloat(h[0]))}else h.length===2&&(g=parseFloat(h[0]),y=parseInt(h[1],10));if(typeof y>"u")return 0;if(typeof g=="number"&&(c._state!=="loaded"||c._playLock))return c._queue.push({event:"seek",action:function(){c.seek.apply(c,h)}}),c;var w=c._soundById(y);if(w)if(typeof g=="number"&&g>=0){var b=c.playing(y);b&&c.pause(y,!0),w._seek=g,w._ended=!1,c._clearTimer(y),!c._webAudio&&w._node&&!isNaN(w._node.duration)&&(w._node.currentTime=g);var E=function(){b&&c.play(y,!0),c._emit("seek",y)};if(b&&!c._webAudio){var C=function(){c._playLock?setTimeout(C,0):E()};setTimeout(C,0)}else E()}else if(c._webAudio){var M=c.playing(y)?n.ctx.currentTime-w._playStart:0,P=w._rateSeek?w._rateSeek-w._seek:0;return w._seek+(P+M*Math.abs(w._rate))}else return w._node.currentTime;return c},playing:function(c){var h=this;if(typeof c=="number"){var g=h._soundById(c);return g?!g._paused:!1}for(var y=0;y<h._sounds.length;y++)if(!h._sounds[y]._paused)return!0;return!1},duration:function(c){var h=this,g=h._duration,y=h._soundById(c);return y&&(g=h._sprite[y._sprite][1]/1e3),g},state:function(){return this._state},unload:function(){for(var c=this,h=c._sounds,g=0;g<h.length;g++)h[g]._paused||c.stop(h[g]._id),c._webAudio||(c._clearSound(h[g]._node),h[g]._node.removeEventListener("error",h[g]._errorFn,!1),h[g]._node.removeEventListener(n._canPlayEvent,h[g]._loadFn,!1),h[g]._node.removeEventListener("ended",h[g]._endFn,!1),n._releaseHtml5Audio(h[g]._node)),delete h[g]._node,c._clearTimer(h[g]._id);var y=n._howls.indexOf(c);y>=0&&n._howls.splice(y,1);var _=!0;for(g=0;g<n._howls.length;g++)if(n._howls[g]._src===c._src||c._src.indexOf(n._howls[g]._src)>=0){_=!1;break}return s&&_&&delete s[c._src],n.noAudio=!1,c._state="unloaded",c._sounds=[],c=null,null},on:function(c,h,g,y){var _=this,x=_["_on"+c];return typeof h=="function"&&x.push(y?{id:g,fn:h,once:y}:{id:g,fn:h}),_},off:function(c,h,g){var y=this,_=y["_on"+c],x=0;if(typeof h=="number"&&(g=h,h=null),h||g)for(x=0;x<_.length;x++){var w=g===_[x].id;if(h===_[x].fn&&w||!h&&w){_.splice(x,1);break}}else if(c)y["_on"+c]=[];else{var b=Object.keys(y);for(x=0;x<b.length;x++)b[x].indexOf("_on")===0&&Array.isArray(y[b[x]])&&(y[b[x]]=[])}return y},once:function(c,h,g){var y=this;return y.on(c,h,g,1),y},_emit:function(c,h,g){for(var y=this,_=y["_on"+c],x=_.length-1;x>=0;x--)(!_[x].id||_[x].id===h||c==="load")&&(setTimeout(function(w){w.call(this,h,g)}.bind(y,_[x].fn),0),_[x].once&&y.off(c,_[x].fn,_[x].id));return y._loadQueue(c),y},_loadQueue:function(c){var h=this;if(h._queue.length>0){var g=h._queue[0];g.event===c&&(h._queue.shift(),h._loadQueue()),c||g.action()}return h},_ended:function(c){var h=this,g=c._sprite;if(!h._webAudio&&c._node&&!c._node.paused&&!c._node.ended&&c._node.currentTime<c._stop)return setTimeout(h._ended.bind(h,c),100),h;var y=!!(c._loop||h._sprite[g][2]);if(h._emit("end",c._id),!h._webAudio&&y&&h.stop(c._id,!0).play(c._id),h._webAudio&&y){h._emit("play",c._id),c._seek=c._start||0,c._rateSeek=0,c._playStart=n.ctx.currentTime;var _=(c._stop-c._start)*1e3/Math.abs(c._rate);h._endTimers[c._id]=setTimeout(h._ended.bind(h,c),_)}return h._webAudio&&!y&&(c._paused=!0,c._ended=!0,c._seek=c._start||0,c._rateSeek=0,h._clearTimer(c._id),h._cleanBuffer(c._node),n._autoSuspend()),!h._webAudio&&!y&&h.stop(c._id,!0),h},_clearTimer:function(c){var h=this;if(h._endTimers[c]){if(typeof h._endTimers[c]!="function")clearTimeout(h._endTimers[c]);else{var g=h._soundById(c);g&&g._node&&g._node.removeEventListener("ended",h._endTimers[c],!1)}delete h._endTimers[c]}return h},_soundById:function(c){for(var h=this,g=0;g<h._sounds.length;g++)if(c===h._sounds[g]._id)return h._sounds[g];return null},_inactiveSound:function(){var c=this;c._drain();for(var h=0;h<c._sounds.length;h++)if(c._sounds[h]._ended)return c._sounds[h].reset();return new i(c)},_drain:function(){var c=this,h=c._pool,g=0,y=0;if(!(c._sounds.length<h)){for(y=0;y<c._sounds.length;y++)c._sounds[y]._ended&&g++;for(y=c._sounds.length-1;y>=0;y--){if(g<=h)return;c._sounds[y]._ended&&(c._webAudio&&c._sounds[y]._node&&c._sounds[y]._node.disconnect(0),c._sounds.splice(y,1),g--)}}},_getSoundIds:function(c){var h=this;if(typeof c>"u"){for(var g=[],y=0;y<h._sounds.length;y++)g.push(h._sounds[y]._id);return g}else return[c]},_refreshBuffer:function(c){var h=this;return c._node.bufferSource=n.ctx.createBufferSource(),c._node.bufferSource.buffer=s[h._src],c._panner?c._node.bufferSource.connect(c._panner):c._node.bufferSource.connect(c._node),c._node.bufferSource.loop=c._loop,c._loop&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop||0),c._node.bufferSource.playbackRate.setValueAtTime(c._rate,n.ctx.currentTime),h},_cleanBuffer:function(c){var h=this,g=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&c.bufferSource&&(c.bufferSource.onended=null,c.bufferSource.disconnect(0),g))try{c.bufferSource.buffer=n._scratchBuffer}catch{}return c.bufferSource=null,h},_clearSound:function(c){var h=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);h||(c.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(c){this._parent=c,this.init()};i.prototype={init:function(){var c=this,h=c._parent;return c._muted=h._muted,c._loop=h._loop,c._volume=h._volume,c._rate=h._rate,c._seek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,h._sounds.push(c),c.create(),c},create:function(){var c=this,h=c._parent,g=n._muted||c._muted||c._parent._muted?0:c._volume;return h._webAudio?(c._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),c._node.gain.setValueAtTime(g,n.ctx.currentTime),c._node.paused=!0,c._node.connect(n.masterGain)):n.noAudio||(c._node=n._obtainHtml5Audio(),c._errorFn=c._errorListener.bind(c),c._node.addEventListener("error",c._errorFn,!1),c._loadFn=c._loadListener.bind(c),c._node.addEventListener(n._canPlayEvent,c._loadFn,!1),c._endFn=c._endListener.bind(c),c._node.addEventListener("ended",c._endFn,!1),c._node.src=h._src,c._node.preload=h._preload===!0?"auto":h._preload,c._node.volume=g*n.volume(),c._node.load()),c},reset:function(){var c=this,h=c._parent;return c._muted=h._muted,c._loop=h._loop,c._volume=h._volume,c._rate=h._rate,c._seek=0,c._rateSeek=0,c._paused=!0,c._ended=!0,c._sprite="__default",c._id=++n._counter,c},_errorListener:function(){var c=this;c._parent._emit("loaderror",c._id,c._node.error?c._node.error.code:0),c._node.removeEventListener("error",c._errorFn,!1)},_loadListener:function(){var c=this,h=c._parent;h._duration=Math.ceil(c._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),c._node.removeEventListener(n._canPlayEvent,c._loadFn,!1)},_endListener:function(){var c=this,h=c._parent;h._duration===1/0&&(h._duration=Math.ceil(c._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(c)),c._node.removeEventListener("ended",c._endFn,!1)}};var s={},o=function(c){var h=c._src;if(s[h]){c._duration=s[h].duration,u(c);return}if(/^data:[^;]+;base64,/.test(h)){for(var g=atob(h.split(",")[1]),y=new Uint8Array(g.length),_=0;_<g.length;++_)y[_]=g.charCodeAt(_);l(y.buffer,c)}else{var x=new XMLHttpRequest;x.open(c._xhr.method,h,!0),x.withCredentials=c._xhr.withCredentials,x.responseType="arraybuffer",c._xhr.headers&&Object.keys(c._xhr.headers).forEach(function(w){x.setRequestHeader(w,c._xhr.headers[w])}),x.onload=function(){var w=(x.status+"")[0];if(w!=="0"&&w!=="2"&&w!=="3"){c._emit("loaderror",null,"Failed loading audio file with status: "+x.status+".");return}l(x.response,c)},x.onerror=function(){c._webAudio&&(c._html5=!0,c._webAudio=!1,c._sounds=[],delete s[h],c.load())},a(x)}},a=function(c){try{c.send()}catch{c.onerror()}},l=function(c,h){var g=function(){h._emit("loaderror",null,"Decoding audio data failed.")},y=function(_){_&&h._sounds.length>0?(s[h._src]=_,u(h,_)):g()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(c).then(y).catch(g):n.ctx.decodeAudioData(c,y,g)},u=function(c,h){h&&!c._duration&&(c._duration=h.duration),Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue())},f=function(){if(!!n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var c=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),h=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),g=h?parseInt(h[1],10):null;if(c&&g&&g<9){var y=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!y&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof _n<"u"?(_n.HowlerGlobal=e,_n.Howler=n,_n.Howl=r,_n.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var i=r._howls.length-1;i>=0;i--)r._howls[i].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,i=typeof i!="number"?s._pos[2]:i,typeof n=="number")s._pos=[n,r,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,i,s,o,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var u=l._orientation;if(r=typeof r!="number"?u[1]:r,i=typeof i!="number"?u[2]:i,s=typeof s!="number"?u[3]:s,o=typeof o!="number"?u[4]:o,a=typeof a!="number"?u[5]:a,typeof n=="number")l._orientation=[n,r,i,s,o,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(n,r,i,s,o,a);else return u;return l},Howl.prototype.init=function(n){return function(r){var i=this;return i._orientation=r.orientation||[1,0,0],i._stereo=r.stereo||null,i._pos=r.pos||null,i._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},i._onstereo=r.onstereo?[{fn:r.onstereo}]:[],i._onpos=r.onpos?[{fn:r.onpos}]:[],i._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(n,r)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")i._stereo=n,i._pos=[n,0,0];else return i._stereo;for(var o=i._getSoundIds(r),a=0;a<o.length;a++){var l=i._soundById(o[a]);if(l)if(typeof n=="number")l._stereo=n,l._pos=[n,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&e(l,s),s==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(n,0,0):l._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),i._emit("stereo",l._id);else return l._stereo}return i},Howl.prototype.pos=function(n,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(n,r,i,s)}}),o;if(r=typeof r!="number"?0:r,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof n=="number")o._pos=[n,r,i];else return o._pos;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var u=o._soundById(a[l]);if(u)if(typeof n=="number")u._pos=[n,r,i],u._node&&((!u._panner||u._panner.pan)&&e(u,"spatial"),typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setPosition(n,r,i)),o._emit("pos",u._id);else return u._pos}return o},Howl.prototype.orientation=function(n,r,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(n,r,i,s)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof n=="number")o._orientation=[n,r,i];else return o._orientation;for(var a=o._getSoundIds(s),l=0;l<a.length;l++){var u=o._soundById(a[l]);if(u)if(typeof n=="number")u._orientation=[n,r,i],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),e(u,"spatial")),typeof u._panner.orientationX<"u"?(u._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):u._panner.setOrientation(n,r,i)),o._emit("orientation",u._id);else return u._orientation}return o},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,i,s,o;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")i=r[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),n._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:n._panningModel});else return o=n._soundById(parseInt(r[0],10)),o?o._pannerAttr:n._pannerAttr;else r.length===2&&(i=r[0],s=parseInt(r[1],10));for(var a=n._getSoundIds(s),l=0;l<a.length;l++)if(o=n._soundById(a[l]),o){var u=o._pannerAttr;u={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:u.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:u.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:u.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:u.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:u.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:u.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:u.panningModel};var f=o._panner;f?(f.coneInnerAngle=u.coneInnerAngle,f.coneOuterAngle=u.coneOuterAngle,f.coneOuterGain=u.coneOuterGain,f.distanceModel=u.distanceModel,f.maxDistance=u.maxDistance,f.refDistance=u.refDistance,f.rolloffFactor=u.rolloffFactor,f.panningModel=u.panningModel):(o._pos||(o._pos=n._pos||[0,0,-.5]),e(o,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,i=r._parent;r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,n.call(this),r._stereo?i.stereo(r._stereo):r._pos&&i.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,i=r._parent;return r._orientation=i._orientation,r._stereo=i._stereo,r._pos=i._pos,r._pannerAttr=i._pannerAttr,r._stereo?i.stereo(r._stereo):r._pos?i.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,i._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(UT);const jqe=Vz({__proto__:null,default:UT},[UT]);function pl(){return pl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pl.apply(this,arguments)}function qqe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var yi;(function(t){t[t.START_LOAD=0]="START_LOAD",t[t.ON_LOAD=1]="ON_LOAD",t[t.ON_PLAY=2]="ON_PLAY",t[t.ON_END=3]="ON_END",t[t.ON_PAUSE=4]="ON_PAUSE",t[t.ON_STOP=5]="ON_STOP",t[t.ON_PLAY_ERROR=6]="ON_PLAY_ERROR",t[t.ON_LOAD_ERROR=7]="ON_LOAD_ERROR"})(yi||(yi={}));var Kqe={loading:!0,playing:!1,stopped:!0,ended:!1,error:null,duration:0,ready:!1};function Qqe(t,e){switch(e.type){case yi.START_LOAD:return pl({},t,{loading:!0,stopped:!0,ready:!1,error:null,duration:0});case yi.ON_LOAD:return pl({},t,{loading:!1,duration:e.duration,ended:!1,ready:!0});case yi.ON_PLAY:return pl({},t,{playing:!0,ended:!1,stopped:!1});case yi.ON_STOP:return pl({},t,{stopped:!0,playing:!1});case yi.ON_END:return pl({},t,{stopped:!0,playing:!1,ended:!0});case yi.ON_PAUSE:return pl({},t,{playing:!1});case yi.ON_PLAY_ERROR:return pl({},t,{playing:!1,stopped:!0,error:e.error});case yi.ON_LOAD_ERROR:return pl({},t,{playing:!1,stopped:!0,loading:!1,error:e.error});default:return t}}var Jqe=ut.createContext(null),Xqe=ut.createContext({position:0,setPosition:function(){}});function Yqe(t){var e=t.children,n=t.value,r=z.exports.useState(null),i=r[0],s=r[1],o=z.exports.useReducer(Qqe,Kqe),a=o[0],l=a.loading,u=a.error,f=a.playing,c=a.stopped,h=a.duration,g=a.ready,y=a.ended,_=o[1],x=z.exports.useRef(),w=z.exports.useRef(),b=z.exports.useState(0),E=b[0],C=b[1],M=z.exports.useMemo(function(){return{position:E,setPosition:C}},[E,C]),P=z.exports.useCallback(function(O){return new UT.Howl(O)},[]),D=z.exports.useCallback(function(O){var q=O.src,j=O.autoplay,oe=j===void 0?!1:j,le=O.html5,F=le===void 0?!1:le,Y=qqe(O,["src","autoplay","html5"]),H=!1;if(x.current){var ee=x.current._src,k=Array.isArray(ee)?ee[0]:ee;if(k===q)return;if(l)w.current=x.current,w.current.once("load",function(){var ie;(ie=w.current)===null||ie===void 0||ie.unload()});else{var G;w.current=x.current,(G=w.current)===null||G===void 0||G.unload()}H=x.current.playing(),H&&(x.current.stop(),x.current.off(),x.current=void 0)}_({type:yi.START_LOAD});var $=P(pl({src:q,autoplay:H||oe,html5:F},Y));$._state==="loaded"&&_({type:yi.ON_LOAD,duration:$.duration()}),$.on("load",function(){return void _({type:yi.ON_LOAD,duration:$.duration()})}),$.on("play",function(){return void _({type:yi.ON_PLAY})}),$.on("end",function(){return void _({type:yi.ON_END})}),$.on("pause",function(){return void _({type:yi.ON_PAUSE})}),$.on("stop",function(){return void _({type:yi.ON_STOP})}),$.on("playerror",function(ie,ue){_({type:yi.ON_PLAY_ERROR,error:new Error("[Play error] "+ue)})}),$.on("loaderror",function(ie,ue){_({type:yi.ON_LOAD_ERROR,error:new Error("[Load error] "+ue)})}),s($),x.current=$},[P,l]);z.exports.useEffect(function(){return function(){x.current&&x.current.unload()}},[]);var L=z.exports.useMemo(function(){return n||{player:i,load:D,error:u,loading:l,playing:f,stopped:c,ready:g,duration:h,ended:y}},[l,u,f,c,D,n,i,g,h,y]);return ut.createElement(Jqe.Provider,{value:L},ut.createElement(Xqe.Provider,{value:M},e))}const Zqe=()=>W(Yqe,{children:W(IY,{})});var wee={},bee={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},eKe=bee;function See(t){this.mode=eKe.MODE_8BIT_BYTE,this.data=t}See.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var tKe=See,Aee={L:1,M:0,Q:3,H:2},yA=Aee;function hu(t,e){this.totalCount=t,this.dataCount=e}hu.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];hu.getRSBlocks=function(t,e){var n=hu.getRsBlockTable(t,e);if(n==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,i=new Array,s=0;s<r;s++)for(var o=n[s*3+0],a=n[s*3+1],l=n[s*3+2],u=0;u<o;u++)i.push(new hu(a,l));return i};hu.getRsBlockTable=function(t,e){switch(e){case yA.L:return hu.RS_BLOCK_TABLE[(t-1)*4+0];case yA.M:return hu.RS_BLOCK_TABLE[(t-1)*4+1];case yA.Q:return hu.RS_BLOCK_TABLE[(t-1)*4+2];case yA.H:return hu.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var nKe=hu;function Eee(){this.buffer=new Array,this.length=0}Eee.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var n=0;n<e;n++)this.putBit((t>>>e-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var rKe=Eee,_l={glog:function(t){if(t<1)throw new Error("glog("+t+")");return _l.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return _l.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Yi=0;Yi<8;Yi++)_l.EXP_TABLE[Yi]=1<<Yi;for(var Yi=8;Yi<256;Yi++)_l.EXP_TABLE[Yi]=_l.EXP_TABLE[Yi-4]^_l.EXP_TABLE[Yi-5]^_l.EXP_TABLE[Yi-6]^_l.EXP_TABLE[Yi-8];for(var Yi=0;Yi<255;Yi++)_l.LOG_TABLE[_l.EXP_TABLE[Yi]]=Yi;var Tee=_l,$d=Tee;function uE(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&t[n]==0;)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}uE.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=$d.gexp($d.glog(this.get(n))+$d.glog(t.get(r)));return new uE(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=$d.glog(this.get(0))-$d.glog(t.get(0)),n=new Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(var r=0;r<t.getLength();r++)n[r]^=$d.gexp($d.glog(t.get(r))+e);return new uE(n,0).mod(t)}};var Cee=uE,Oa=bee,Pz=Cee,iKe=Tee,Pf={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ki={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Ki.getBCHDigit(e)-Ki.getBCHDigit(Ki.G15)>=0;)e^=Ki.G15<<Ki.getBCHDigit(e)-Ki.getBCHDigit(Ki.G15);return(t<<10|e)^Ki.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ki.getBCHDigit(e)-Ki.getBCHDigit(Ki.G18)>=0;)e^=Ki.G18<<Ki.getBCHDigit(e)-Ki.getBCHDigit(Ki.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ki.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case Pf.PATTERN000:return(e+n)%2==0;case Pf.PATTERN001:return e%2==0;case Pf.PATTERN010:return n%3==0;case Pf.PATTERN011:return(e+n)%3==0;case Pf.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case Pf.PATTERN101:return e*n%2+e*n%3==0;case Pf.PATTERN110:return(e*n%2+e*n%3)%2==0;case Pf.PATTERN111:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Pz([1],0),n=0;n<t;n++)e=e.multiply(new Pz([1,iKe.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Oa.MODE_NUMBER:return 10;case Oa.MODE_ALPHA_NUM:return 9;case Oa.MODE_8BIT_BYTE:return 8;case Oa.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Oa.MODE_NUMBER:return 12;case Oa.MODE_ALPHA_NUM:return 11;case Oa.MODE_8BIT_BYTE:return 16;case Oa.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Oa.MODE_NUMBER:return 14;case Oa.MODE_ALPHA_NUM:return 13;case Oa.MODE_8BIT_BYTE:return 16;case Oa.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(r,i),a=-1;a<=1;a++)if(!(r+a<0||e<=r+a))for(var l=-1;l<=1;l++)i+l<0||e<=i+l||a==0&&l==0||o==t.isDark(r+a,i+l)&&s++;s>5&&(n+=3+s-5)}for(var r=0;r<e-1;r++)for(var i=0;i<e-1;i++){var u=0;t.isDark(r,i)&&u++,t.isDark(r+1,i)&&u++,t.isDark(r,i+1)&&u++,t.isDark(r+1,i+1)&&u++,(u==0||u==4)&&(n+=3)}for(var r=0;r<e;r++)for(var i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(var i=0;i<e;i++)for(var r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);for(var f=0,i=0;i<e;i++)for(var r=0;r<e;r++)t.isDark(r,i)&&f++;var c=Math.abs(100*f/e/e-50)/5;return n+=c*10,n}},sKe=Ki,oKe=tKe,Mee=nKe,Ree=rKe,Wh=sKe,aKe=Cee;function gu(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var va=gu.prototype;va.addData=function(t){var e=new oKe(t);this.dataList.push(e),this.dataCache=null};va.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};va.getModuleCount=function(){return this.moduleCount};va.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=Mee.getRSBlocks(t,this.errorCorrectLevel),n=new Ree,r=0,i=0;i<e.length;i++)r+=e[i].dataCount;for(var i=0;i<this.dataList.length;i++){var s=this.dataList[i];n.put(s.mode,4),n.put(s.getLength(),Wh.getLengthInBits(s.mode,t)),s.write(n)}if(n.getLengthInBits()<=r*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};va.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=gu.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};va.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(0<=n&&n<=6&&(r==0||r==6)||0<=r&&r<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[t+n][e+r]=!0:this.modules[t+n][e+r]=!1)};va.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=Wh.getLostPoint(this);(n==0||t>r)&&(t=r,e=n)}return e};va.createMovieClip=function(t,e,n){var r=t.createEmptyMovieClip(e,n),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var l=a*i,u=this.modules[s][a];u&&(r.beginFill(0,100),r.moveTo(l,o),r.lineTo(l+i,o),r.lineTo(l+i,o+i),r.lineTo(l,o+i),r.endFill())}return r};va.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};va.setupPositionAdjustPattern=function(){for(var t=Wh.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(this.modules[r][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[r+s][i+o]=!0:this.modules[r+s][i+o]=!1}};va.setupTypeNumber=function(t){for(var e=Wh.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(var n=0;n<18;n++){var r=!t&&(e>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}};va.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=Wh.getBCHTypeInfo(n),i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(r>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t};va.mapData=function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[r][o-a]==null){var l=!1;s<t.length&&(l=(t[s]>>>i&1)==1);var u=Wh.getMask(e,r,o-a);u&&(l=!l),this.modules[r][o-a]=l,i--,i==-1&&(s++,i=7)}if(r+=n,r<0||this.moduleCount<=r){r-=n,n=-n;break}}};gu.PAD0=236;gu.PAD1=17;gu.createData=function(t,e,n){for(var r=Mee.getRSBlocks(t,e),i=new Ree,s=0;s<n.length;s++){var o=n[s];i.put(o.mode,4),i.put(o.getLength(),Wh.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<r.length;s++)a+=r[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(gu.PAD0,8),i.getLengthInBits()>=a*8));)i.put(gu.PAD1,8);return gu.createBytes(i,r)};gu.createBytes=function(t,e){for(var n=0,r=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var l=e[a].dataCount,u=e[a].totalCount-l;r=Math.max(r,l),i=Math.max(i,u),s[a]=new Array(l);for(var f=0;f<s[a].length;f++)s[a][f]=255&t.buffer[f+n];n+=l;var c=Wh.getErrorCorrectPolynomial(u),h=new aKe(s[a],c.getLength()-1),g=h.mod(c);o[a]=new Array(c.getLength()-1);for(var f=0;f<o[a].length;f++){var y=f+g.getLength()-o[a].length;o[a][f]=y>=0?g.get(y):0}}for(var _=0,f=0;f<e.length;f++)_+=e[f].totalCount;for(var x=new Array(_),w=0,f=0;f<r;f++)for(var a=0;a<e.length;a++)f<s[a].length&&(x[w++]=s[a][f]);for(var f=0;f<i;f++)for(var a=0;a<e.length;a++)f<o[a].length&&(x[w++]=o[a][f]);return x};var lKe=gu,aN={};Object.defineProperty(aN,"__esModule",{value:!0});var uKe=ze.exports,vA=Iee(uKe),cKe=z.exports,fKe=Iee(cKe);function Iee(t){return t&&t.__esModule?t:{default:t}}var hKe={d:vA.default.string.isRequired,fill:vA.default.string.isRequired,transformX:vA.default.number.isRequired,transformY:vA.default.number.isRequired},dKe={},lN=function(e){var n=e.d,r=e.fill,i=e.transformX,s=e.transformY;return fKe.default.createElement("path",{d:n,fill:r,transform:"matrix("+[1,0,0,1,i,s]+")"})};lN.propTypes=hKe;lN.defaultProps=dKe;aN.default=lN;var uN={};Object.defineProperty(uN,"__esModule",{value:!0});var pKe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mKe=ze.exports,_A=Lee(mKe),gKe=z.exports,Dz=Lee(gKe);function Lee(t){return t&&t.__esModule?t:{default:t}}function yKe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n}var vKe={children:_A.default.array.isRequired,size:_A.default.number.isRequired,title:_A.default.string,xmlns:_A.default.string},_Ke={title:void 0,xmlns:"http://www.w3.org/2000/svg"},cN=function(e){var n=e.children,r=e.size,i=e.title,s=e.xmlns,o=yKe(e,["children","size","title","xmlns"]);return Dz.default.createElement("svg",pKe({},o,{height:r,width:r,xmlns:s}),i?Dz.default.createElement("title",null,i):null,n)};cN.propTypes=vKe;cN.defaultProps=_Ke;uN.default=cN;Object.defineProperty(wee,"__esModule",{value:!0});var xKe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wKe=lKe,bKe=uv(wKe),SKe=Aee,AKe=uv(SKe),EKe=ze.exports,cc=uv(EKe),Pee=z.exports,Bz=uv(Pee),TKe=aN,CKe=uv(TKe),MKe=uN,RKe=uv(MKe);function uv(t){return t&&t.__esModule?t:{default:t}}function IKe(t,e){var n={};for(var r in t)e.indexOf(r)>=0||!Object.prototype.hasOwnProperty.call(t,r)||(n[r]=t[r]);return n}var LKe={bgColor:cc.default.oneOfType([cc.default.object,cc.default.string]),fgColor:cc.default.oneOfType([cc.default.object,cc.default.string]),level:cc.default.oneOf(["L","M","Q","H"]),size:cc.default.number,value:cc.default.string.isRequired},PKe={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},fN=function(e){var n=e.bgColor,r=e.fgColor,i=e.level,s=e.size,o=e.value,a=IKe(e,["bgColor","fgColor","level","size","value"]),l=new bKe.default(-1,AKe.default[i]);l.addData(o),l.make();var u=l.modules,f=s/u.length;return Bz.default.createElement(RKe.default,xKe({},a,{size:s}),u.map(function(c,h){return c.map(function(g,y){var _=Math.round(y*f),x=Math.round(h*f),w=Math.round((y+1)*f)-_,b=Math.round((h+1)*f)-x;return Bz.default.createElement(CKe.default,{key:"rectangle-"+h+"-"+y,d:"M 0 0 L "+w+" 0 L "+w+" "+b+" L 0 "+b+" Z",fill:g?r:n,transformX:_,transformY:x})})}))};fN.propTypes=LKe;fN.defaultProps=PKe;var DKe=wee.default=(0,Pee.memo)(fN);const Oz="application/font-woff",kz="image/jpeg",BKe={woff:Oz,woff2:Oz,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:kz,jpeg:kz,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function OKe(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function hN(t){const e=OKe(t).toLowerCase();return BKe[e]||""}function kKe(t){return t.split(/,/)[1]}function yD(t){return t.search(/^(data:)/)!==-1}function Dee(t,e){return`data:${e};base64,${t}`}async function Bee(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((s,o)=>{const a=new FileReader;a.onerror=o,a.onloadend=()=>{try{s(n({res:r,result:a.result}))}catch(l){o(l)}},a.readAsDataURL(i)})}const cL={};function FKe(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function dN(t,e,n){const r=FKe(t,e,n.includeQueryParams);if(cL[r]!=null)return cL[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const s=await Bee(t,n.fetchRequestInit,({res:o,result:a})=>(e||(e=o.headers.get("Content-Type")||""),kKe(a)));i=Dee(s,e)}catch(s){i=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${t}`;s&&(o=typeof s=="string"?s:s.message),o&&console.warn(o)}return cL[r]=i,i}function NKe(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const UKe=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Rh(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function HT(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function HKe(t){const e=HT(t,"border-left-width"),n=HT(t,"border-right-width");return t.clientWidth+e+n}function GKe(t){const e=HT(t,"border-top-width"),n=HT(t,"border-bottom-width");return t.clientHeight+e+n}function Oee(t,e={}){const n=e.width||HKe(t),r=e.height||GKe(t);return{width:n,height:r}}function zKe(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const Zo=16384;function $Ke(t){(t.width>Zo||t.height>Zo)&&(t.width>Zo&&t.height>Zo?t.width>t.height?(t.height*=Zo/t.width,t.width=Zo):(t.width*=Zo/t.height,t.height=Zo):t.width>Zo?(t.height*=Zo/t.width,t.width=Zo):(t.width*=Zo/t.height,t.height=Zo))}function pN(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="sync",r.src=t})}async function VKe(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function WKe(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),VKe(i)}function jKe(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function qKe(t){return Rh(t).map(e=>{const n=t.getPropertyValue(e),r=t.getPropertyPriority(e);return`${e}: ${n}${r?" !important":""};`}).join(" ")}function KKe(t,e,n){const r=`.${t}:${e}`,i=n.cssText?jKe(n):qKe(n);return document.createTextNode(`${r}{${i}}`)}function Fz(t,e,n){const r=window.getComputedStyle(t,n),i=r.getPropertyValue("content");if(i===""||i==="none")return;const s=UKe();try{e.className=`${e.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(KKe(s,n,r)),e.appendChild(o)}function QKe(t,e){Fz(t,e,":before"),Fz(t,e,":after")}async function JKe(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):pN(e)}async function XKe(t,e){const n=t.poster,r=hN(n),i=await dN(n,r,e);return pN(i)}async function YKe(t,e){return t instanceof HTMLCanvasElement?JKe(t):t instanceof HTMLVideoElement&&t.poster?XKe(t,e):t.cloneNode(!1)}const ZKe=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";async function eQe(t,e,n){var r;const i=ZKe(t)&&t.assignedNodes?Rh(t.assignedNodes()):Rh(((r=t.shadowRoot)!==null&&r!==void 0?r:t).childNodes);return i.length===0||t instanceof HTMLVideoElement||await i.reduce((s,o)=>s.then(()=>kee(o,n)).then(a=>{a&&e.appendChild(a)}),Promise.resolve()),e}function tQe(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):Rh(r).forEach(i=>{let s=r.getPropertyValue(i);i==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),n.setProperty(i,s,r.getPropertyPriority(i))})}function nQe(t,e){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function rQe(t,e){if(t instanceof HTMLSelectElement){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function iQe(t,e){return e instanceof Element&&(tQe(t,e),QKe(t,e),nQe(t,e),rQe(t,e)),e}async function kee(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>YKe(r,e)).then(r=>eQe(t,r,e)).then(r=>iQe(t,r))}const Fee=/url\((['"]?)([^'"]+?)\1\)/g,sQe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,oQe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function aQe(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function lQe(t){const e=[];return t.replace(Fee,(n,r,i)=>(e.push(i),n)),e.filter(n=>!yD(n))}async function uQe(t,e,n,r,i){try{const s=n?NKe(e,n):e,o=hN(e);let a;if(i){const l=await i(s);a=Dee(l,o)}else a=await dN(s,o,r);return t.replace(aQe(e),`$1${a}$3`)}catch{}return t}function cQe(t,{preferredFontFormat:e}){return e?t.replace(oQe,n=>{for(;;){const[r,,i]=sQe.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function Nee(t){return t.search(Fee)!==-1}async function Uee(t,e,n){if(!Nee(t))return t;const r=cQe(t,n);return lQe(r).reduce((s,o)=>s.then(a=>uQe(a,o,e,n)),Promise.resolve(r))}async function fQe(t,e){var n;const r=(n=t.style)===null||n===void 0?void 0:n.getPropertyValue("background");if(r){const i=await Uee(r,null,e);t.style.setProperty("background",i,t.style.getPropertyPriority("background"))}}async function hQe(t,e){if(!(t instanceof HTMLImageElement&&!yD(t.src))&&!(t instanceof SVGImageElement&&!yD(t.href.baseVal)))return;const n=t instanceof HTMLImageElement?t.src:t.href.baseVal,r=await dN(n,hN(n),e);await new Promise((i,s)=>{t.onload=i,t.onerror=s,t instanceof HTMLImageElement?(t.srcset="",t.src=r):t.href.baseVal=r})}async function dQe(t,e){const r=Rh(t.childNodes).map(i=>Hee(i,e));await Promise.all(r).then(()=>t)}async function Hee(t,e){t instanceof Element&&(await fQe(t,e),await hQe(t,e),await dQe(t,e))}function pQe(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const Nz={};async function Uz(t){let e=Nz[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},Nz[t]=e,e}async function Hz(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let a=o.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),Bee(a,e.fetchRequestInit,({result:l})=>(n=n.replace(o,`url(${l})`),[o,l]))});return Promise.all(s).then(()=>n)}function Gz(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(o,"gi");for(;;){let l=s.exec(r);if(l===null){if(l=a.exec(r),l===null)break;s.lastIndex=a.lastIndex}else a.lastIndex=s.lastIndex;e.push(l[0])}return e}async function mQe(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{Rh(i.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let a=o+1;const l=s.href,u=Uz(l).then(f=>Hz(f,e)).then(f=>Gz(f).forEach(c=>{try{i.insertRule(c,c.startsWith("@import")?a+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:c,error:h})}})).catch(f=>{console.error("Error loading remote css",f.toString())});r.push(u)}})}catch(s){const o=t.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&r.push(Uz(i.href).then(a=>Hz(a,e)).then(a=>Gz(a).forEach(l=>{o.insertRule(l,i.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a.toString())})),console.error("Error inlining remote css file",s.toString())}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{Rh(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s.toString())}}),n))}function gQe(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Nee(e.style.getPropertyValue("src")))}async function yQe(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Rh(t.ownerDocument.styleSheets),r=await mQe(n,e);return gQe(r)}async function vQe(t,e){const n=await yQe(t,e);return(await Promise.all(n.map(i=>{const s=i.parentStyleSheet?i.parentStyleSheet.href:null;return Uee(i.cssText,s,e)}))).join(`
`)}async function _Qe(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await vQe(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function xQe(t,e={}){const{width:n,height:r}=Oee(t,e),i=await kee(t,e,!0);return await _Qe(i,e),await Hee(i,e),pQe(i,e),await WKe(i,n,r)}async function wQe(t,e={}){const{width:n,height:r}=Oee(t,e),i=await xQe(t,e),s=await pN(i),o=document.createElement("canvas"),a=o.getContext("2d"),l=e.pixelRatio||zKe(),u=e.canvasWidth||n,f=e.canvasHeight||r;return o.width=u*l,o.height=f*l,e.skipAutoScale||$Ke(o),o.style.width=`${u}`,o.style.height=`${f}`,e.backgroundColor&&(a.fillStyle=e.backgroundColor,a.fillRect(0,0,o.width,o.height)),a.drawImage(s,0,0,o.width,o.height),o}async function bQe(t,e={}){return(await wQe(t,e)).toDataURL()}const SQe=({ticketPayment:t,loading:e,error:n,refetch:r,paymentId:i,paymentIntentId:s})=>{const o=z.exports.useRef(null),[a,l]=z.exports.useState(!0),[u,f]=z.exports.useState(!1),[c,h]=z.exports.useState(void 0),g=YF(t==null?void 0:t.productId);return z.exports.useEffect(()=>{n||!t||!t.paid||bQe(o.current).then(y=>{h(y)}).catch(console.error).finally(()=>{l(!1)})},[t==null?void 0:t.paid,n,e]),z.exports.useEffect(()=>{t!=null&&t.paid||window.setTimeout(()=>{r(),f(!0)},3e3)},[t==null?void 0:t.paid]),!e&&!(t!=null&&t.paid)?Ke("p",{sx:{p:"20px"},children:["Error retrieving ticket, refresh in a min or contact agent@shell.tech with this info: ",Z("br",{}),"payment-id: ",i,Z("br",{}),"payment-intent-id: ",s]}):Z(z.exports.Fragment,{children:Ke("div",{sx:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",borderStyle:"solid",borderColor:t!=null&&t.paid?g==null?void 0:g.color:"black",alignItems:"center",backgroundColor:"black",color:"white",p:"20px"},children:[e&&Z(Th,{}),t&&Z(z.exports.Fragment,{children:t.paid?Ke(z.exports.Fragment,{children:[Z("p",{children:"download or screenshot and keep it safe"}),a?Z("p",{sx:{my:"20px"},children:"loading link"}):Z("a",{href:c,download:"shell-pass.png",sx:{my:"20px"},children:"Download Pass"}),Ke("div",{sx:{backgroundColor:"black",borderWidth:"2px",borderStyle:"dashed",textAlign:"center",pt:"12px"},ref:o,children:[Z("p",{sx:{mb:"8px",maxWidth:"20ch",mx:"auto"},children:t._id}),Ke("p",{children:["id: ",t.productId]}),Ke("p",{children:["qty: ",t.quantity]}),Ke("p",{sx:{pb:"12px"},children:["email: ",t.buyerEmail]}),t.singletonIds.map((y,_)=>{var x;return Ke("div",{sx:{py:"20px",p:"8px",textAlign:"center",borderWidth:"0px",borderTopWidth:"1px",borderStyle:"dashed"},children:[Ke("p",{children:[_+1," / ",t.quantity]}),Z("p",{sx:{mb:"8px"},children:y}),Z(DKe,{bgColor:(x=g==null?void 0:g.color)!=null?x:"white",value:`http://shell.tech/verify-ticket?id=${t._id}&singleton=${y}}`})]},y)})]})]}):Z(z.exports.Fragment,{children:u&&n?Ke("p",{sx:{color:"red"},children:["Order not processed, please check if the payment went through, wait a few mins and refresh or contact agent@shell.tech with the following information:",Object.keys(t).map(y=>Ke("p",{children:[y," - ",JSON.stringify(t[y])]},y))]}):Z(Th,{})})})]})})},AQe=()=>{const t=new URLSearchParams(window.location.search).get("id"),e=new URLSearchParams(window.location.search).get("payment_intent"),n=ca(`ticket-${t}`,async()=>(await wQ({id:t})).data,{enabled:!!t});return W(SQe,{refetch:()=>{n.refetch().catch(console.error)},paymentId:t,paymentIntentId:e,ticketPayment:n.data,loading:n.isLoading,error:n.error})};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Gee=CQe,zz=MQe,EQe=decodeURIComponent,TQe=encodeURIComponent,xA=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function CQe(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var n={},r=e||{},i=t.split(";"),s=r.decode||EQe,o=0;o<i.length;o++){var a=i[o],l=a.indexOf("=");if(!(l<0)){var u=a.substring(0,l).trim();if(n[u]==null){var f=a.substring(l+1,a.length).trim();f[0]==='"'&&(f=f.slice(1,-1)),n[u]=RQe(f,s)}}}return n}function MQe(t,e,n){var r=n||{},i=r.encode||TQe;if(typeof i!="function")throw new TypeError("option encode is invalid");if(!xA.test(t))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!xA.test(s))throw new TypeError("argument val is invalid");var o=t+"="+s;if(r.maxAge!=null){var a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(r.domain){if(!xA.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain="+r.domain}if(r.path){if(!xA.test(r.path))throw new TypeError("option path is invalid");o+="; Path="+r.path}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o}function RQe(t,e){try{return e(t)}catch{return t}}function IQe(){return typeof document=="object"&&typeof document.cookie=="string"}function LQe(t,e){return typeof t=="string"?Gee(t,e):typeof t=="object"&&t!==null?t:{}}function PQe(t,e){return typeof e>"u"&&(e=!t||t[0]!=="{"&&t[0]!=="["&&t[0]!=='"'),!e}function $z(t,e){e===void 0&&(e={});var n=DQe(t);if(PQe(n,e.doNotParse))try{return JSON.parse(n)}catch{}return t}function DQe(t){return t&&t[0]==="j"&&t[1]===":"?t.substr(2):t}var tp=globalThis&&globalThis.__assign||function(){return tp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},tp.apply(this,arguments)},BQe=function(){function t(e,n){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=LQe(e,n),new Promise(function(){r.HAS_DOCUMENT_COOKIE=IQe()}).catch(function(){})}return t.prototype._updateBrowserValues=function(e){!this.HAS_DOCUMENT_COOKIE||(this.cookies=Gee(document.cookie,e))},t.prototype._emitChange=function(e){for(var n=0;n<this.changeListeners.length;++n)this.changeListeners[n](e)},t.prototype.get=function(e,n,r){return n===void 0&&(n={}),this._updateBrowserValues(r),$z(this.cookies[e],n)},t.prototype.getAll=function(e,n){e===void 0&&(e={}),this._updateBrowserValues(n);var r={};for(var i in this.cookies)r[i]=$z(this.cookies[i],e);return r},t.prototype.set=function(e,n,r){var i;typeof n=="object"&&(n=JSON.stringify(n)),this.cookies=tp(tp({},this.cookies),(i={},i[e]=n,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=zz(e,n,r)),this._emitChange({name:e,value:n,options:r})},t.prototype.remove=function(e,n){var r=n=tp(tp({},n),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=tp({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=zz(e,"",r)),this._emitChange({name:e,value:void 0,options:n})},t.prototype.addChangeListener=function(e){this.changeListeners.push(e)},t.prototype.removeChangeListener=function(e){var n=this.changeListeners.indexOf(e);n>=0&&this.changeListeners.splice(n,1)},t}();const OQe=BQe;var mN=z.exports.createContext(new OQe);mN.Provider;mN.Consumer;const kQe=mN;function FQe(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"}function NQe(t){var e=z.exports.useContext(kQe);if(!e)throw new Error("Missing <CookiesProvider>");var n=e.getAll(),r=z.exports.useState(n),i=r[0],s=r[1],o=z.exports.useRef(i);FQe()&&z.exports.useLayoutEffect(function(){function u(){var f=e.getAll();UQe(t||null,f,o.current)&&s(f),o.current=f}return e.addChangeListener(u),function(){e.removeChangeListener(u)}},[e]);var a=z.exports.useMemo(function(){return e.set.bind(e)},[e]),l=z.exports.useMemo(function(){return e.remove.bind(e)},[e]);return[i,a,l]}function UQe(t,e,n){if(!t)return!0;for(var r=0,i=t;r<i.length;r++){var s=i[r];if(e[s]!==n[s])return!0}return!1}const HQe=()=>{const[t,e]=NQe(["scannerCode"]),[n,r]=z.exports.useState("");return!t.scannerCode||t.scannerCode==="undefined"?Ke("div",{sx:{margin:"auto",p:"20px",maxWidth:"300px"},children:["Scanner code not found",Z("br",{}),Z("br",{}),Z(Sx,{placeholder:"enter code",value:n,sx:{textTransform:"lowercase"},onChange:i=>{r(i)}}),Z("br",{}),Z(As,{onClick:()=>{e("scannerCode",n)},children:"Submit"})]}):Z(GQe,{scannerCode:t.scannerCode,onClickChangeCode:()=>{e("scannerCode",void 0)}})},GQe=({scannerCode:t,onClickChangeCode:e})=>{var u;const n=new URLSearchParams(window.location.search).get("id"),r=(u=new URLSearchParams(window.location.search).get("singleton"))==null?void 0:u.replace("}",""),i=ca(`ticket-${n}`,async()=>(await wQ({id:n})).data,{enabled:!!n}),s=ih(JBe,{onSuccess:async()=>{await i.refetch()}}),o=f=>a!=null&&a.scannedSingletons?a.scannedSingletons.includes(f):!1;if(!n||!r)return Z("p",{children:"Missing required url parameters, check the url"});if(i.isLoading)return Z(Th,{});const a=i.data;if(!a)return Z("p",{sx:{color:"red"},children:"Error getting ticket data"});if(!a.paid)return Z("p",{sx:{color:"red"},children:"Ticket has not been paid for"});const l=YF(a==null?void 0:a.productId);return Z("div",{sx:{width:"100%",minHeight:"100vh",top:0,display:"flex",flexDirection:"column",borderStyle:"solid",borderColor:a!=null&&a.paid?l==null?void 0:l.color:"black",alignItems:"center",backgroundColor:"black",color:"white",p:"20px"},children:Ke(z.exports.Fragment,{children:[" ",(i.isLoading||s.isLoading||s.error)&&Z("div",{sx:{backgroundColor:"white",color:"black",position:"fixed",top:"20vh",p:"4px",width:"200px",mx:"auto",zIndex:1},children:Ke(z.exports.Fragment,{children:[(i.isLoading||s.isLoading)&&Ke(z.exports.Fragment,{children:["LOADING ",Z(Th,{})]}),s.error&&Ke("p",{sx:{textAlign:"center",height:"100px",backgroundColor:"red",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Ke("p",{sx:{my:"10px",height:"30px"},children:["Error ",Z("br",{}),JSON.stringify(s.error.message)]}),Z(As,{sx:{flex:1,alignItems:"center",color:"blue"},onClick:e,children:"Change Code"})]})]})}),Ke("div",{children:[Z("p",{sx:{fontSize:"32px"},children:l==null?void 0:l.name}),Z("br",{}),Z("p",{children:"Email"}),Z("p",{children:a.buyerEmail}),Z("br",{}),Z("p",{children:"id:"}),Ke("p",{children:[" ",a._id]}),Z("hr",{}),Z("br",{}),Z("br",{}),Z("br",{}),Z("p",{children:"this ticket: "}),Z("p",{sx:{textAlign:"center",fontSize:"22px",color:o(r)?"pinkpurple":"green",textDecoration:o(r)?"line-through":"none"},children:r}),Z("p",{children:o(r)?Z("b",{sx:{color:"pinkpurple"},children:"THIS TICKET HAS BEEN SCANNED \u{1F47F}"}):Z("b",{sx:{color:"green"},children:"Not yet scanned \u{1F60A}"})}),Z(As,{sx:{height:"100px",alignItems:"center",borderRadius:"4px",backgroundColor:o(r)?"pinkpurple":"green"},onClick:()=>{s.mutate({paymentId:a._id,singletonId:r,isScanned:!o(r),scannerCode:t})},children:o(r)?"UNMARK":"MARK AS SCANNED"}),Z("br",{}),Z("br",{}),Z("br",{}),Z("br",{}),Z("hr",{}),Z("br",{}),Ke("div",{sx:{mx:"20px"},children:["All tickets in this order:",Z("br",{}),Z("br",{}),a.singletonIds.map(f=>Ke(z.exports.Fragment,{children:[" ",Ke("div",{sx:f===r?{borderStyle:"dashed",borderWidth:"1px"}:{},children:[Z("p",{sx:{color:o(f)?"pinkpurple":"green",textDecoration:o(f)?"line-through":"none",fontSize:"20px",textAlign:"center"},children:f}),Z("p",{children:o(f)?Z("b",{sx:{color:"pinkpurple"},children:"THIS TICKET HAS BEEN SCANNED \u{1F47F}"}):Z("b",{sx:{color:"green"},children:"Not yet scanned \u{1F60A}"})}),Z(As,{sx:{height:"80px",borderRadius:"4px",alignItems:"center",backgroundColor:o(f)?"pinkpurple":"green"},onClick:()=>{s.mutate({paymentId:a._id,singletonId:f,isScanned:!o(f),scannerCode:t})},children:o(f)?"UNMARK":"MARK AS SCANNED"})]},f),Z("br",{}),Z("br",{})]}))]})]})]})})},zQe=()=>{const[t,e]=z.exports.useState(!1),[n,r]=ku(),[i,s]=z.exports.useState(!1);return z.exports.useEffect(()=>{r("dark")},[]),Ke("div",{sx:{width:"100vw",color:"black",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",transitionDelay:"5s",transition:" background 10s, color 5s",...i&&{background:"black",color:"white"}},children:[Z(yh,{strings:["well... thankz ! :}.... "],typeSpeed:50,cursorChar:"",loop:!1,onComplete:()=>{e(!0)}}),Z("div",{onMouseOver:()=>s(!0),onMouseLeave:()=>s(!1),sx:{p:"20px",height:"100px",display:"flex",overflow:"hidden",mt:"60px",borderRadius:"8px",transition:"opacity 2s, box-shadow 1s, transform 1s",opacity:t?1:0,boxShadow:t?"20px 20px 60px #b2aeb2, -20px -20px 60px #f0ecf0":"none","&:hover":{boxShadow:"20px 20px 60px rgb(1,1,1,0.5), -20px -20px 60px rgb(1,1,1,0.5)",transform:"translate3D(0, -10px, 20px) ",a:{background:"black",color:"white"}}},children:Z("a",{href:"https://firebasestorage.googleapis.com/v0/b/shelltech1.appspot.com/o/public%2Flilspirits.zip?alt=media&token=8127bd14-16bc-4feb-b028-e8c895f921ee",download:!0,sx:{borderRadius:"4px",animation:`${$Qe} ease-in 10s infinite`,p:"20px",transition:"box-shadow 4s, background 5s, color 5s",animationDelay:"3s"},children:"lilspirits.zip"})})]})},$Qe=Ou({"0%":{boxShadow:"20px 20px 100px 100px #b34d63, -20px -40px 20px text"},"20%":{boxShadow:"20px 20px 20px 20px #ffaccf 20px, -10px -10px 100px #ff14ad"},"40%":{boxShadow:"-40px 20px 60px #b34d63, 50px -10px 100px 20px #ffaccf"},"80%":{boxShadow:"20px 20px 100px 100px #ff14ad, -20px -40px 20px #b34d63"},"100%":{boxShadow:"20px 20px 100px 100px #b34d63, -20px -40px 20px text"}}),VQe=({items:t})=>Z("div",{sx:{display:"flex",alignItems:"center",flexDirection:"column",bg:"black",height:"100vh",width:"100vw"},children:Ke("div",{sx:{width:"100%",maxWidth:["100%",null,"400px"]},children:[Z("h2",{children:"Your purchases"}),Z("p",{sx:{display:"inline"},children:t[0].buyersEmail}),Z("br",{}),Z("p",{sx:{display:"inline"},children:t[0].paymentId}),Z("br",{}),Z("br",{}),t.map((e,n)=>Ke(z.exports.Fragment,{children:[Z("hr",{}),Ke("div",{sx:{width:"100%",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[Z("p",{children:n+1}),Z("div",{children:e.productId}),Z("a",{href:e.downloadUrl,target:"_blank",download:!0,children:"download"}),'(right click, "save link as")']},e._id)]}))]})}),WQe=()=>{const t=new URLSearchParams(window.location.search).get("paymentId"),e=ca(`items-${t}`,async()=>(await XBe({paymentId:t!=null?t:""})).data,{enabled:!!t});return z.exports.useEffect(()=>{e.data||window.setTimeout(async()=>{await e.refetch().catch(console.error)},3e3)},[e.data]),e.isLoading||!e.data?Z("div",{sx:{bg:"black"},children:Z(Th,{})}):Z(VQe,{items:e.data})},jQe=()=>Ke(GCe,{children:[Z(po,{path:"/",children:Z(Hqe,{})}),Z(po,{path:"/items",children:Z(WQe,{})}),Z(po,{path:"/lilspirits",children:Z(zQe,{})}),Z(po,{path:"/key",children:Z(AQe,{})}),Z(po,{path:"/verify-ticket",children:Z(HQe,{})}),Z(po,{path:"/test/:slug",children:t=>Z("p",{children:t.slug})}),Z(po,{path:"/admin",children:Z(pOe,{})}),Z(po,{path:"/chatlog",children:Z(Wqe,{})}),Z(po,{path:"/components",children:Z(Gqe,{})}),Z(po,{path:"/vid/:slug",children:t=>Z(zqe,{slug:t.slug})}),Z(po,{path:"/checkout",children:Z(Vqe,{})}),Z(po,{path:"/privacy",children:Z(Lz,{})}),Z(po,{path:"/privacy",children:Z(Lz,{})}),Z(po,{path:"/p",children:Z(Zqe,{})})]}),qQe=gL.createRoot(document.getElementById("root"));qQe.render(W(jQe,{}))});export default KQe();
